(window.webpackJsonp=window.webpackJsonp||[]).push([["CommentsPage","CommentsPage~GovStandalonePoll~PostDraft","CommentsPage~PostCreation~PostDraft~ProfilePage","CommentsPage~Frontpage~ModerationPages~OriginalContent~Subreddit"],{"./node_modules/intersection-observer/intersection-observer.js":function(e,t){!function(e,t){"use strict";if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)"isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},i.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},i.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(e,"resize",this._checkForIntersections,!0),r(t,"scroll",this._checkForIntersections,!0),"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(e,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(i){var r=i.element,s=d(r),c=this._rootContainsTarget(r),a=i.entry,l=t&&c&&this._computeTargetAndRootIntersection(r,n),u=i.entry=new o({time:e.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:n,intersectionRect:l});a?t&&c?this._hasCrossedThreshold(a,u)&&this._queuedEntries.push(u):a&&a.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,o){if("none"!=e.getComputedStyle(n).display){for(var i,r,s,c,l,u,p,m,h=d(n),g=a(n),f=!1;!f;){var b=null,x=1==g.nodeType?e.getComputedStyle(g):{};if("none"==x.display)return;if(g==this.root||g==t?(f=!0,b=o):g!=t.body&&g!=t.documentElement&&"visible"!=x.overflow&&(b=d(g)),b&&(i=b,r=h,void 0,void 0,void 0,void 0,void 0,void 0,s=Math.max(i.top,r.top),c=Math.min(i.bottom,r.bottom),l=Math.max(i.left,r.left),u=Math.min(i.right,r.right),m=c-s,!(h=(p=u-l)>=0&&m>=0&&{top:s,bottom:c,left:l,right:u,width:p,height:m})))break;g=a(g)}return h}},i.prototype._getRootRect=function(){var e;if(this.root)e=d(this.root);else{var n=t.documentElement,o=t.body;e={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,o=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},i.prototype._rootIsInDom=function(){return!this.root||c(t,this.root)},i.prototype._rootContainsTarget=function(e){return c(this.root||t,e)},i.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},i.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntersectionObserver=i,e.IntersectionObserverEntry=o}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?i/n:this.isIntersecting?1:0}function i(e,t){var n,o,i,r=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout(function(){n(),i=null},o))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function r(e,t,n,o){"function"==typeof e.addEventListener?e.addEventListener(t,n,o||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function s(e,t,n,o){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,o||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function d(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(e,t){for(var n=t;n;){if(n==e)return!0;n=a(n)}return!1}function a(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}}(window,document)},"./node_modules/lodash/_baseDelay.js":function(e,t){var n="Expected a function";e.exports=function(e,t,o){if("function"!=typeof e)throw new TypeError(n);return setTimeout(function(){e.apply(void 0,o)},t)}},"./node_modules/lodash/_baseReduce.js":function(e,t){e.exports=function(e,t,n,o,i){return i(e,function(e,i,r){n=o?(o=!1,e):t(n,e,i,r)}),n}},"./node_modules/lodash/compact.js":function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,o=0,i=[];++t<n;){var r=e[t];r&&(i[o++]=r)}return i}},"./node_modules/lodash/defer.js":function(e,t,n){var o=n("./node_modules/lodash/_baseDelay.js"),i=n("./node_modules/lodash/_baseRest.js")(function(e,t){return o(e,1,t)});e.exports=i},"./node_modules/lodash/reduce.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayReduce.js"),i=n("./node_modules/lodash/_baseEach.js"),r=n("./node_modules/lodash/_baseIteratee.js"),s=n("./node_modules/lodash/_baseReduce.js"),d=n("./node_modules/lodash/isArray.js");e.exports=function(e,t,n){var c=d(e)?o:s,a=arguments.length<3;return c(e,r(t,4),n,a,i)}},"./node_modules/lodash/times.js":function(e,t,n){var o=n("./node_modules/lodash/_baseTimes.js"),i=n("./node_modules/lodash/_castFunction.js"),r=n("./node_modules/lodash/toInteger.js"),s=9007199254740991,d=4294967295,c=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>s)return[];var n=d,a=c(e,d);t=i(t),e-=d;for(var l=o(a,t);++n<e;)t(n);return l}},"./node_modules/lodash/uniqueId.js":function(e,t,n){var o=n("./node_modules/lodash/toString.js"),i=0;e.exports=function(e){var t=++i;return o(e)+t}},"./src/lib/humanizeDate/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n("./src/app/strings/index.ts");function i(e,t,n){var i=new Date(1e3*e);return Object(o.a)(t,"time.monthName."+i.getMonth())+" "+(n?i.getDate()+", ":"")+i.getFullYear()}},"./src/lib/linkMatchers/index.ts":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),i=n.n(o),r=n("./node_modules/linkify-it/index.js"),s=n.n(r),d=n("./node_modules/tlds/index.js"),c=n.n(d),a=n("./src/lib/linkMatchers/customLinks.ts"),l=n("./node_modules/lodash/values.js"),u=n.n(l),p=function(e){return u()(a.b).includes(e.substring(1))};n.d(t,"c",function(){return m}),n.d(t,"d",function(){return g}),n.d(t,"g",function(){return f}),n.d(t,"a",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"e",function(){return O}),n.d(t,"f",function(){return w});var m=s()().tlds(c.a).set({fuzzyIP:!0}),h=s()().set({fuzzyIP:!0}).add(a.f.mention.prefix,a.f.mention.config),g=s()().set({fuzzyLink:!1,fuzzyEmail:!1}).add(a.f.subreddit.prefix,a.f.subreddit.config).add(a.f.subredditFull.prefix,a.f.subreddit.config),f=s()().set({fuzzyLink:!1,fuzzyEmail:!1}).add(a.f.profile.prefix,a.f.profile.config).add(a.f.profileFull.prefix,a.f.profile.config),b=s()().tlds(c.a).set({fuzzyIP:!0}).add(a.f.subreddit.prefix,a.f.subreddit.config).add(a.f.subredditFull.prefix,a.f.subreddit.config).add(a.f.profile.prefix,a.f.profile.config).add(a.f.profileFull.prefix,a.f.profile.config).add(a.f.mention.prefix,a.f.mention.config),x=m.normalize;m.normalize=function(e){x.call(m,e),!e.schema&&e.url.startsWith("http:")&&(e.url="https:"+e.url.slice(5))};var v=function(e,t){return(b.match(e)||[]).filter(function(e){var n=p(e.text);return!n||n&&t})},y=function(e){var t=f.match(e)||[],n=h.match(e)||[];return[].concat(i()(t),i()(n)).map(function(e){return!p(e.text)&&e.text.replace(a.a,"")}).filter(function(e){return e})},O=function(e,t){var n=e.match(t);if(n&&1===n.length&&0===n[0].index&&n[0].lastIndex===t.length)return n[0]},w=function(e){var t=m.match(e);if(t&&1===t.length&&0===t[0].index){var n=t[0];return n.lastIndex===e.length?n:function(e,t){var n=e.substring(t.lastIndex);if(/.*\/\/.*\/.*/.test(t.url)&&/^(\?|\!)+$/.test(n))return t.lastIndex+=n.length,t.url+=n,t}(e,n)}}},"./src/lib/unicodeUtils/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var o=function(e){var t=0,n=0,o=[0],i=!0,r=!1,s=void 0;try{for(var d,c=e[Symbol.iterator]();!(i=(d=c.next()).done);i=!0){t++,n+=d.value.length,o[t]=n}}catch(e){r=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(r)throw s}}return o},i=function(e){var t=0,n=0,o=[],i=!0,r=!1,s=void 0;try{for(var d,c=e[Symbol.iterator]();!(i=(d=c.next()).done);i=!0){for(var a=d.value,l=0;l<a.length;l++)o[n]=t,n++;t++}}catch(e){r=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(r)throw s}}return o[n]=t,o}},"./src/reddit/components/BannerAd/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/babel-runtime/regenerator/index.js"),s=n.n(r),d=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=n.n(d),a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),l=n.n(a),u=n("./node_modules/babel-runtime/helpers/createClass.js"),p=n.n(u),m=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=n.n(m),g=n("./node_modules/babel-runtime/helpers/inherits.js"),f=n.n(g),b=n("./node_modules/react/index.js"),x=n.n(b),v=n("./node_modules/react-redux/es/index.js"),y=n("./node_modules/reselect/lib/index.js"),O=n("./bundled-modules/styled-components/styled-components.min.js"),w=n.n(O),C=n("./src/lib/addQueryParams/index.ts"),j=n("./src/lib/constants/index.ts"),I=n("./src/lib/doubleclickForPublishers/index.ts"),k=n("./src/lib/intersectionObserver/index.ts"),S=n("./src/lib/objectSelector/index.ts"),_=n("./src/reddit/helpers/createBannerProperties/index.ts"),P=n("./src/reddit/selectors/subreddit.ts"),T=w.a.div.withConfig({componentId:"s127g5g-0"})(["position: relative;"]),N=w.a.div.withConfig({componentId:"s127g5g-1"})(["position: absolute;top: 0;left: 0;right: 0;bottom: 0;margin-top: -300px;margin-bottom: -300px;padding-top: 300px;padding-bottom: 300px;pointer-events: none;z-index: -1000;"]),E=function(e){return setTimeout(function(){throw e},0)},M=function(e){function t(){l()(this,t);var e=h()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.frame=null,e.loader=null,e.refreshedAt=1/0,e.isWithinLoadingDistance=!1,e}return f()(t,e),p()(t,[{key:"componentDidCatch",value:function(e){E(e)}},{key:"defineSlot",value:function(){var e=this.props,t=e.id,n=e.slot,o=e.properties,i=e.sizes,r=void 0===i?[]:i;try{return this.frame&&I.a(this.frame,{id:t,slot:n,properties:o,sizes:r})}catch(e){E(e)}}},{key:"destroySlot",value:function(){try{this.frame&&I.b(this.frame)}catch(e){E(e)}}},{key:"componentDidMount",value:function(){var e=c()(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.defineSlot();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),E(e.t0);case 8:this.loader&&k.a(this.loader,function(e){t.frame&&I.e(t.frame,{viewable:e.intersectionRatio>.5}),t.isWithinLoadingDistance=!0,t.refresh(t.props),t.loader&&k.b(t.loader)});case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader&&k.b(this.loader),this.destroySlot()}},{key:"refresh",value:function(e){this.isWithinLoadingDistance&&(this.refreshedAt=Date.now(),this.frame&&I.d(this.frame,{id:e.id,slot:e.slot,properties:e.properties,sizes:e.sizes}))}},{key:"componentWillReceiveProps",value:function(e){this.props.refreshKey!==e.refreshKey&&Date.now()-this.refreshedAt>6e3&&this.refresh(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,o=t.slot,r=t.className;return o?i()(T,{"data-slot":o},void 0,i()(N,{innerRef:function(t){e.loader=t}},n+"-loadinghitbox"),x.a.createElement("div",{key:n+"-div",className:r,ref:function(t){e.frame=t},id:n})):i()("div",{className:r})}}]),t}(x.a.Component);M.defaultProps={sizes:[j.f]};t.a=Object(v.connect)(function(){return Object(y.createStructuredSelector)({properties:Object(S.a)(function(e,t){var n=e.platform.currentPage;if(!n)return{};var o=e.meta.protocol+"://"+e.meta.domain;return Object(_.b)(t.placement,e.user,Object(C.a)(""+o+n.url,n.queryParams),Object(P.r)(e,{subredditName:t.listingName}),t.position)}),slot:function(e,t){var n=e.platform.currentPage;return n&&n.meta?I.c(t.listingName,n.meta.name):""}})})(M)},"./src/reddit/components/CollectionInfo/index.m.less":function(e,t,n){e.exports={postContainer:"_3mZ7H_bgrOCaIZWB8Okgi6",postTitle:"_1H3Fd4JblsVGLdu3n4kqi0",postBody:"_3G2e0jWIIkiOIX_q0xmdq0",bottomline:"_1oyoeTfv0o4McZIOCbGkYX",carouselArrow:"mRI-iymPDlqcaFc0plZzP",carouselItem:"_22cLQ1HSJFi_MmwfA_pEcZ",active:"YFLNLSh-e1XzKJ7VQCpwp",top:"_8XyPjTaScBUdM8YIIXb1H",titleText:"_1Di6C4GOVKZHu0dbx-gwz3"}},"./src/reddit/components/CommentModModeDropdown/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=(n("./node_modules/react/index.js"),n("./node_modules/react-redux/es/index.js")),s=n("./node_modules/reselect/lib/index.js"),d=n("./bundled-modules/styled-components/styled-components.min.js"),c=n.n(d),a=n("./src/higherOrderComponents/asTooltip.tsx"),l=n("./src/reddit/actions/comment.ts"),u=n("./src/reddit/components/TrackingHelper/index.tsx"),p=n("./src/reddit/controls/Dropdown/index.tsx"),m=n("./src/reddit/helpers/getOverlayContainerById/index.ts"),h=n("./src/reddit/helpers/trackers/modTools.ts"),g=n("./src/reddit/selectors/tooltip.ts"),f=n("./src/app/strings/index.ts"),b=n("./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx"),x=function(e){return i()(b.c,{},void 0,!e.comment.isApproved&&i()(b.b,{displayText:e.comment.approvedBy?Object(f.a)(e.language,"modTools.approved"):Object(f.a)(e.language,"modTools.approve"),onClick:e.onApproveComment},void 0,i()(b.a,{})),!e.comment.bannedBy&&[i()(b.b,{displayText:e.comment.isRemoved?Object(f.a)(e.language,"modTools.removed"):Object(f.a)(e.language,"modTools.remove"),onClick:e.onRemoveComment},void 0,i()(b.d,{})),i()(b.b,{displayText:e.comment.isSpam?Object(f.a)(e.language,"modTools.removedAsSpam"):Object(f.a)(e.language,"modTools.removeAsSpam"),onClick:e.onSpamComment},void 0,i()(b.e,{}))])},v=c()(p.a).withConfig({componentId:"la5ynn-0"})(["margin-top: -4px;"]),y=Object(s.createStructuredSelector)({isDropdownOpen:function(e,t){var n=t.tooltipId;return Object(g.b)(n)(e)}}),O=Object(r.connect)(y,function(e,t){var n=t.comment;return{onApproveComment:function(){return e(Object(l.G)(n.id))},onRemoveComment:function(){return e(Object(l.X)(n.id,!1))},onSpamComment:function(){return e(Object(l.X)(n.id,!0))}}}),w=Object(a.a)(v),C=O(Object(u.b)(function(e){var t=e.comment,n=e.isDropdownOpen,o=e.isOverlay,r=e.language,s=e.onApproveComment,d=e.onRemoveComment,c=e.onSpamComment,a=e.sendEvent,l=e.tooltipId,u=Object(m.a)(o);return i()(w,{container:u,isOpen:n,isOverlay:o,tooltipId:l},void 0,i()(x,{language:r,onApproveComment:function(){s(),a(Object(h.c)("approve",t.id))},onRemoveComment:function(){d(),a(Object(h.c)("remove",t.id))},onSpamComment:function(){c(),a(Object(h.c)("spam",t.id))},comment:t}))}));t.a=C},"./src/reddit/components/FocusableContent/index.tsx":function(e,t,n){"use strict";var o=n("./bundled-modules/styled-components/styled-components.min.js"),i=n.n(o),r=n("./src/reddit/models/Theme/NewColorSystem/index.ts");t.a=i.a.div.withConfig({componentId:"hd5xqn-0"})(["position: relative;border-radius: 4px;border: ",";"],function(e){return e.isFocused?"1px solid "+Object(r.c)(e).navIcon:"1px solid "+Object(r.c)(e).line})},"./src/reddit/components/Governance/CommunityCard/CommunityTokens/index.m.less":function(e,t,n){e.exports={overflowingText:"_3s4m8dsZEYcHZ4ojNFUV0R",cell:"_1-v1Zgj9IOmc-oaS_dfHfI",cellBottomLine:"_1YrPtUZyIgZmt7BoC3IOjC",cellContainer:"_3y3jYnCjkWtjpibBnc9e3l",cellTopLine:"-pS2f0b04dtavABCVdrie",explanation:"_1n5fyOsQxmVlxXd1xuw6fH",sendButton:"_3D1PJ7suYE-Ph7W5jTZJ5k"}},"./src/reddit/components/Governance/CommunityCard/Distribution/SettingsDropdown/index.m.less":function(e,t,n){e.exports={container:"OtlwHs47hz5MvSa0DqYTk",row:"yI3PQYXJsl6t-dIwRQW0B"}},"./src/reddit/components/Governance/CommunityCard/Distribution/index.m.less":function(e,t,n){e.exports={content:"_3zqqVdCCP8CIURFzEfqVhW",disabledText:"_1zzg1Z8lv6z3aExN9ekK0t",explanation:"_16LiAcgA5s-MYpyMNAf1JR",gear:"_3ONz5pQOM5j_5skyOTGtYv",releasing:"_2Nt09ksKTbZBkMuHQmOWae",title:"_2H1FaNlYdkLPuzI2I9ej1l",wallet:"_3RB1zTno6i5-ukQ3vHQJds"}},"./src/reddit/components/Governance/CommunityCard/LatestProposals/index.m.less":function(e,t,n){e.exports={container:"_3WnHen22bLKwTkOL3W6F_D",link:"_3LjXe6j5_bQ3U8GZLY0HYO",showAll:"eRbX9WCebKIuLXdJIwNjK",title:"_3il8HJMlHzKppQleJjuboQ"}},"./src/reddit/components/Governance/CommunityCard/index.m.less":function(e,t,n){e.exports={section:"_3o2O8sLNM51xpdzuDH-ocD"}},"./src/reddit/components/Governance/CommunityCard/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/react/index.js"),s=n.n(r),d=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/reselect/lib/index.js"),a=n("./bundled-modules/styled-components/styled-components.min.js"),l=n.n(a),u=n("./src/app/strings/index.ts"),p=n("./src/reddit/components/Governance/CommunityCard/getToken.ts"),m=n("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),h=n("./src/reddit/helpers/styles/smartTextColor.ts"),g=n("./src/reddit/models/NewStructuredStyles/index.ts"),f=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),b=n("./src/lib/prettyPrintNumber/index.ts"),x=n("./src/reddit/actions/governance.ts"),v=n("./src/reddit/controls/Button/index.tsx"),y=n("./src/reddit/components/Governance/CommunityCard/CommunityTokens/index.m.less"),O=n.n(y),w=Object(a.css)([".",", ."," {color: ",";}."," {border-color: ",";}"],O.a.cell,O.a.explanation,function(e){return Object(h.a)(Object(f.c)(e).widgetColors.sidebarWidgetBackgroundColor)},O.a.cell,function(e){return Object(h.a)(Object(f.c)(e).widgetColors.sidebarWidgetBackgroundColor,g.a.line,g.b.line)});function C(e,t){return i()("div",{className:O.a.cell},void 0,i()("div",{className:O.a.cellTopLine,title:e},void 0,e),i()("div",{className:O.a.cellBottomLine,title:t},void 0,t))}var j=Object(c.createStructuredSelector)({language:function(e){return e.user.language}}),I=Object(d.connect)(j,function(e){return{onOpenTransferModal:function(){return e(Object(x.q)())}}})(function(e){return i()("div",{className:e.className},void 0,i()("div",{className:O.a.cellContainer},void 0,C(Object(b.a)(e.wallet.tokens),Object(u.a)(e.language,"sidebar.gov.yourTokens",{tokenName:Object(p.a)(e.subredditId)})),C(Object(b.a)(e.wallet.totalTokensIssued),Object(u.a)(e.language,"sidebar.gov.tokensIssued"))),i()("div",{className:O.a.explanation},void 0,Object(u.a)(e.language,"sidebar.gov.tokenExplanation",{tokenName:Object(p.a)(e.subredditId)})),i()(v.g,{className:O.a.sendButton,onClick:e.onOpenTransferModal},void 0,Object(u.a)(e.language,"gov.sendCta")))}),k=n("./node_modules/babel-runtime/helpers/defineProperty.js"),S=n.n(k),_=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),P=n.n(_),T=n("./node_modules/babel-runtime/helpers/createClass.js"),N=n.n(T),E=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),M=n.n(E),L=n("./node_modules/babel-runtime/helpers/inherits.js"),F=n.n(L),R=n("./node_modules/polished/dist/polished.es.js"),D=n("./src/lib/classNames/index.ts"),A=n("./src/lib/timeUntil/index.ts"),H=n("./src/reddit/icons/svgs/Settings/index.tsx");var B=Object(c.createStructuredSelector)({language:function(e){return e.user.language}}),z=Object(d.connect)(B,function(e,t){var n=t.subredditId;return{onOptIn:function(){return e(Object(x.l)(!1,n))}}})(function(e){return i()(v.g,{className:e.className,onClick:e.onOptIn},void 0,Object(u.a)(e.language,"polls.optInButton"))}),W=n("./node_modules/babel-runtime/helpers/extends.js"),K=n.n(W),U=n("./src/higherOrderComponents/asTooltip.tsx"),q=n("./src/reddit/constants/zIndex.ts"),V=n("./src/reddit/controls/Dropdown/index.tsx"),G=n("./src/reddit/controls/Dropdown/Row.tsx"),J=n("./src/reddit/components/Governance/CommunityCard/Distribution/SettingsDropdown/index.m.less"),Y=n.n(J),Z=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},Q=l()(V.a).withConfig({componentId:"ykuymf-0"})(["margin-top: 0;z-index: ",";"],q.s),X=Object(U.a)(function(e){e.className;var t=e.language,n=e.subredditId,o=Z(e,["className","language","subredditId"]);return s.a.createElement(Q,K()({className:Object(D.a)(e.className,Y.a.container)},o),i()(G.c,{noIcon:!0,className:Y.a.row,onClick:e.onOpenOptOutModal},void 0,Object(u.a)(t,"polls.optOutModalTitle",{tokenName:Object(p.a)(n)})))}),$=Object(c.createStructuredSelector)({language:function(e){return e.user.language}}),ee=Object(d.connect)($,function(e,t){var n=t.subredditId;return{onOpenOptOutModal:function(){return e(Object(x.m)({subredditId:n}))}}})(X),te=n("./src/reddit/components/Governance/CommunityCard/Distribution/index.m.less"),ne=n.n(te),oe=Object(a.css)([".",",.",",."," {color: ",";}."," {fill: ",";&:hover, &:focus {background-color: ",";}}"],ne.a.description,ne.a.releasing,ne.a.title,function(e){return Object(h.a)(Object(f.c)(e).widgetColors.sidebarWidgetBackgroundColor)},ne.a.gear,function(e){return Object(f.c)(e).actionIcon},function(e){return Object(R.e)(Object(f.c)(e).navIcon,.1)}),ie=function(e){function t(){P()(this,t);var e=M()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showDropdown:!1},e.handleOpenDropdown=function(){e.setState({showDropdown:!0}),document.body.addEventListener("click",e.handleCloseDropdown)},e.handleCloseDropdown=function(){setTimeout(function(){return e.setState({showDropdown:!1})}),document.body.removeEventListener("click",e.handleCloseDropdown)},e}return F()(t,e),N()(t,[{key:"render",value:function(){var e="distribution-opt-out"+(this.props.uniqueId||"");return i()("div",{className:this.props.className},void 0,i()("div",{className:ne.a.title},void 0,Object(u.a)(this.props.language,"sidebar.gov.tokensNew",{tokenName:Object(p.a)(this.props.subreddit.id)}),!this.props.wallet.optOut&&i()(H.a,{className:ne.a.gear,id:e,onClick:this.state.showDropdown?this.handleCloseDropdown:this.handleOpenDropdown}),!this.props.wallet.optOut&&i()(ee,{isOpen:this.state.showDropdown,subredditId:this.props.subreddit.id,tooltipPosition:["right","top"],targetPosition:["right","bottom"],tooltipId:e})),i()("div",{className:ne.a.content},void 0,i()("div",{className:Object(D.a)(ne.a.description,S()({},ne.a.disabledText,!!this.props.wallet.optOut))},void 0,i()("div",{className:ne.a.wallet},void 0,Object(b.a)(this.props.wallet.nextAirdropAmount)),i()("div",{className:ne.a.releasing},void 0,Object(u.a)(this.props.language,"sidebar.gov.tokensReleasing",{date:Object(A.a)(this.props.language,new Date(this.props.wallet.nextAirdropDate),!0)}))),!!this.props.wallet.optOut&&i()(z,{subredditId:this.props.subreddit.id})))}}]),t}(s.a.Component),re=n("./node_modules/react-router-dom/es/index.js"),se=n("./src/lib/permalinkToOverlayLocation/index.ts"),de=n("./src/reddit/actions/subreddit.ts"),ce=n("./src/reddit/contexts/PageLayer/index.tsx"),ae=n("./src/reddit/components/Governance/CommunityCard/LatestProposals/index.m.less"),le=n.n(ae),ue=Object(a.css)([".",", ."," {color: ",";}."," {color: ",";}"],le.a.showAll,le.a.title,function(e){return Object(h.a)(Object(f.c)(e).widgetColors.sidebarWidgetBackgroundColor)},le.a.link,function(e){return Object(f.c)(e).linkText});var pe=Object(c.createStructuredSelector)({language:function(e){return e.user.language},proposals:function(e,t){return Object.keys(e.polls.models).map(function(t){return e.polls.models[t]}).filter(function(e){return e.subredditId===t.subredditId}).sort(function(e,t){return e.createdAt>t.createdAt?-1:e.createdAt<t.createdAt?1:0}).map(function(t){return e.posts.models[t.postId]}).filter(Boolean).slice(0,5)}}),me=Object(ce.t)()(Object(d.connect)(pe,function(e,t){return{onFilterProposals:function(){return e(Object(de.v)({subredditId:t.subredditId,forceState:!0}))}}})(function(e){return Object(ce.F)(e.pageLayer)&&e.proposals.length?i()("div",{className:Object(D.a)(e.className,le.a.container)},void 0,i()("div",{className:le.a.title},void 0,Object(u.a)(e.language,"sidebar.gov.latestPollsTitle")),e.proposals.map(function(e){return i()(re.a,{className:le.a.link,title:e.title,to:Object(se.a)(e.permalink)},void 0,e.title)}),i()("a",{className:le.a.showAll,onClick:e.onFilterProposals},void 0,Object(u.a)(e.language,"sidebar.gov.showAll"))):null})),he=n("./src/reddit/components/Governance/CommunityCard/index.m.less"),ge=n.n(he);n.d(t,"b",function(){return fe});var fe=Object(a.css)(["."," {border-color: ",";}","","",""],ge.a.section,function(e){return Object(h.a)(Object(f.c)(e).widgetColors.sidebarWidgetBackgroundColor,g.a.line,g.b.line)},w,ue,oe);var be=Object(c.createStructuredSelector)({language:function(e){return e.user.language},wallet:function(e,t){return e.user.wallets[t.subredditId]?e.user.wallets[t.subredditId].latest:void 0},subreddit:function(e,t){return e.subreddits.models[t.subredditId]}});t.a=Object(d.connect)(be)(function(e){return e.wallet?i()(m.a,{className:ge.a.className,title:Object(u.a)(e.language,"sidebar.gov.ownershipTitle",{tokenName:Object(p.a)(e.subredditId)})},void 0,i()(I,{className:ge.a.section,subredditId:e.subredditId,wallet:e.wallet}),e.subreddit&&i()(ie,{className:ge.a.section,language:e.language,wallet:e.wallet,subreddit:e.subreddit,uniqueId:e.uniqueId}),e.subreddit&&i()(me,{className:ge.a.section,subredditId:e.subreddit.id})):null})},"./src/reddit/components/HeaderImage/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=(n("./node_modules/react/index.js"),n("./node_modules/react-router-dom/es/index.js")),s=n("./bundled-modules/styled-components/styled-components.min.js"),d=n.n(s),c=n("./src/reddit/constants/screenWidths.ts"),a=n("./src/reddit/constants/zIndex.ts"),l=n("./src/reddit/helpers/getSubredditIcon/index.ts"),u=n("./src/reddit/helpers/styles/components/index.tsx"),p=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),m=n("./src/reddit/icons/svgs/CircledPlanet/index.tsx"),h=n("./src/reddit/models/Theme/index.ts"),g=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),f=Object(s.css)(["background: ",";border: ","px solid ",";border-radius: ","px;float: left;margin-right: 8px;box-sizing: border-box;height: ","px;width: ","px;"],function(e){return Object(g.c)(e).active},2,function(e){return Object(g.c)(e).lightText},function(e){return Object(g.c)(e).banner.iconDimensions.borderRadius},function(e){return 4+parseInt(Object(g.c)(e).banner.iconDimensions.customSize,10)},function(e){return 4+parseInt(Object(g.c)(e).banner.iconDimensions.customSize,10)}),b=d()(m.a).withConfig({componentId:"s1wtsv0-0"})(["","fill: ",";padding: ","px;"],f,function(e){return Object(g.c)(e).lightText},function(e){return Object(g.c)(e).banner.iconDimensions.padding}),x=d()(Object(u.a)()).withConfig({componentId:"s1wtsv0-1"})(["","background-image: url('","');background-position: center;background-repeat: no-repeat;background-size: 100%;"],f,function(e){return e.iconUrl}),v=d.a.div.withConfig({componentId:"s1wtsv0-2"})(["width: 512px;height: ","px;background-position: center;background-repeat: no-repeat;background-size: auto;top: 50%;transform: translateY(-50%);position: absolute;","","z-index: ",";&:hover {","}"],function(e){return Object(g.c)(e).banner.positionedImageHeight},function(e){return Object(g.c)(e).banner.positionedImage?"background-image: url("+Object(g.c)(e).banner.positionedImage+");":""},function(e){switch(Object(g.c)(e).banner.positionedImageAlignment){case"right":return"right: -8px;";case"centered":return"left: 50%; transform: translate(-50%, -50%);";default:return"left: -8px;"}},a.i,function(e){return Object(g.c)(e).banner.positionedImage&&Object(g.c)(e).banner.secondaryBannerPositionedImage?"background-image: url("+Object(g.c)(e).banner.secondaryBannerPositionedImage+");":""}),y=d.a.div.withConfig({componentId:"s1wtsv0-3"})(["position: absolute;top: 50%;transform: translateY(-50%);z-index: ",";&:hover + "," {","}"],a.d,v,function(e){return Object(g.c)(e).banner.positionedImage&&Object(g.c)(e).banner.secondaryBannerPositionedImage&&"left"===Object(g.c)(e).banner.positionedImageAlignment?"background-image: url("+Object(g.c)(e).banner.secondaryBannerPositionedImage+");":""}),O=d.a.div.withConfig({componentId:"s1wtsv0-4"})(["height: 100%;","position: relative;",";"],function(e){return e.disableFullscreen?"\n      margin: auto;\n    ":"\n      margin: 10px;\n    "},function(e){return Object(g.c)(e).navBar.useOverlay?"transform: translateY(-18px)":""}),w=Object(s.withTheme)(function(e){var t=Object(h.e)(e.headerText,e.prefixedHeaderText,Object(g.c)(e).banner.communityNameFormat||""),n=Object(l.a)(e);return i()(I,{className:e.className,to:e.url},void 0,i()(O,{disableFullscreen:e.disableFullscreen,style:{maxWidth:e.disableFullscreen?(e.maxWidth||c.b)+"px":"100%"}},void 0,i()(y,{},void 0,e.theme&&Object(g.c)(e).banner.showCommunityIcon&&(n?i()(x,{iconUrl:n}):i()(b,{})),t&&function(e){return 1===e.length?i()(j,{},void 0,i()(C,{},void 0,e[0])):i()(j,{},void 0,e[0],i()(C,{},void 0,e[1]))}(t)),i()(v,{})))}),C=d.a.h1.withConfig({componentId:"s1wtsv0-5"})(["display: inline;"]),j=d.a.span.withConfig({componentId:"s1wtsv0-6"})(["","color: #FCFCFB;flex: 1 1 100%;@media(min-width: ","px) {padding-right: 16px;}display: block;float: left;line-height: ","px;"],p.titleFontH1,c.f,function(e){return Object(g.c)(e).banner.lineHeight}),I=d()(r.a).withConfig({componentId:"s1wtsv0-7"})(["text-decoration: none;"]);t.a=d()(w).withConfig({componentId:"s1wtsv0-8"})(["background: ",";background-position: top center;display: block;flex-direction: row;height: ","px;margin: 0 auto;@media(min-width: ","px) {padding: 8px 16px;}min-width: 260px;"],function(e){return Object(h.g)(Object(g.c)(e).banner.backgroundColor,Object(g.c)(e).banner.backgroundImage,Object(g.c)(e).banner.backgroundImagePosition)},function(e){return Object(g.c)(e).banner.height},c.h)},"./src/reddit/components/PostContent/index.m.less":function(e,t,n){e.exports={content:"_3UMN4RCVY5288m_fOZlkcg",controlsContainer:"_1hwEKkB_38tIoal6fcdrt9",flatlistContainer:"UPYG6UwB7XqTeGj4a4vBr",mainBody:"_3MC4c3Q_Y41YKtl1TcvyMt",noProposal:"_13LHQz0igp-olmn_mDhJ7B",postContainer:"_2rszc84L136gWQrkwH6IaM",postInCollection:"_3zgBNfACM6ZsWWwB17M_ZO",postTitle:"_1rcejqgj_laTEewtp2DbWG",postContent:"_1KNG36IrXcP5X-eLQsMjZb"}},"./src/reddit/components/PostContent/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/react/index.js"),s=n.n(r),d=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/react-router-dom/es/index.js"),a=n("./node_modules/reselect/lib/index.js"),l=n("./bundled-modules/styled-components/styled-components.min.js"),u=n.n(l),p=n("./src/lib/classNames/index.ts"),m=n("./src/reddit/helpers/canRenderThumbnail.ts"),h=n("./node_modules/babel-runtime/helpers/slicedToArray.js"),g=n.n(h),f=n("./src/reddit/models/User/index.ts"),b=n("./src/reddit/helpers/hasModFlairPermissions/index.ts"),x=n("./src/reddit/helpers/hasModPostPermissions/index.ts"),v=n("./src/reddit/helpers/path/index.ts"),y=n("./src/lib/redditId/index.ts");function O(e,t){var n=function e(t,n){var o=!1;var i=[];try{var r=!0,s=!1,d=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done);r=!0){var l=c.value;if("link"===l.e&&l.u&&l.u.includes("https://www.reddit.com/poll/"+n))o=!0;else if(l.c&&"string"!=typeof l.c){var u=e(l.c,n);u.found?(o=!0,("par"!==l.e||u.updated.length)&&i.push(Object.assign({},l,{c:u.updated}))):i.push(l)}else i.push(l)}}catch(e){s=!0,d=e}finally{try{!r&&a.return&&a.return()}finally{if(s)throw d}}}catch(e){o=!1,i=[]}return{found:o,updated:o?i:t}}(e.document,Object(y.c)(t));return n.found?{document:n.updated}:e}var w,C=n("./src/reddit/helpers/styles/mixins/index.tsx"),j=n("./src/reddit/helpers/trackers/lightbox.ts"),I=n("./src/reddit/helpers/trackers/post.ts"),k=n("./src/app/actions/tooltip.ts"),S=n("./src/reddit/actions/post.ts"),_=n("./src/reddit/actions/postFlair.ts"),P=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),T=n.n(P),N=n("./node_modules/babel-runtime/helpers/createClass.js"),E=n.n(N),M=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),L=n.n(M),F=n("./node_modules/babel-runtime/helpers/inherits.js"),R=n.n(F),D=n("./node_modules/lodash/find.js"),A=n.n(D),H=n("./node_modules/react-motion/lib/react-motion.js"),B={stiffness:300,damping:5,precision:.005},z={},W=function(e){function t(e){T()(this,t);var n=L()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSizeChanged=function(){return n.props.onSizeChanged&&n.props.onSizeChanged(),z},n.state={expanded:e.shouldExpand,renderTransitionMotion:e.shouldExpand},n}return R()(t,e),E()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.shouldExpand&&!this.state.renderTransitionMotion?this.setState(function(){return{renderTransitionMotion:!0}},function(){setTimeout(function(){t.setState({expanded:!0})})}):e.shouldExpand!==this.state.expanded&&this.setState({expanded:e.shouldExpand})}},{key:"render",value:function(){var e=this.state,t=e.renderTransitionMotion,n=e.expanded;if(!t)return!1;var o=this.props,r=o.className,s=o.content;return i()(H.TransitionMotion,{styles:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=A()(e,{key:"expando_content"}),o=n&&n.style?n.style.opacity:0;return t?o>=1?[{key:"expando_content",style:{opacity:1}}]:o>0?[{key:"expando_content",style:{opacity:Object(H.spring)(1,B)}}]:[{key:"expando_content",style:{opacity:.1}}]:o<.1?[]:[{key:"expando_content",style:{opacity:Object(H.spring)(0,B)}}]}(e,n)},didLeave:this.onSizeChanged,willEnter:this.onSizeChanged},void 0,function(e){return i()("div",{className:r},void 0,e.map(function(e){return i()("div",{style:e.style},e.key,s)}))})}}]),t}(s.a.Component),K=n("./src/reddit/models/Media/index.ts"),U=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),q=n("./src/reddit/models/Vote/index.ts"),V=n("./src/reddit/selectors/activeModalId.ts"),G=n("./src/reddit/selectors/moderatorPermissions.ts"),J=n("./src/reddit/selectors/postCreations.ts"),Y=n("./src/reddit/selectors/posts.ts"),Z=n("./src/reddit/selectors/user.ts"),Q=n("./src/reddit/components/ClassicPost/Thumbnail.tsx"),X=n("./node_modules/babel-runtime/helpers/defineProperty.js"),$=n.n(X),ee=n("./node_modules/@researchgate/react-intersection-observer/lib/es/index.js"),te=n("./node_modules/lodash/uniqueId.js"),ne=n.n(te),oe=n("./node_modules/lodash/values.js"),ie=n.n(oe),re=n("./src/app/strings/index.ts"),se=n("./src/reddit/actions/postCollection.ts"),de=n("./src/reddit/components/PostFollow/index.tsx"),ce=n("./src/reddit/components/PostTopLine/index.tsx"),ae=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),le=n("./src/reddit/icons/fonts/helpers.tsx"),ue=function(e){return i()("i",{className:Object(p.a)(Object(le.b)("collection"),e.className)})};!function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"}(w||(w={}));var pe,me=u()(function(e){return i()("svg",{className:e.className,viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},void 0,i()("g",{transform:"rotate("+(e.direction===w.BACKWARD?"-90":"90")+" 20 20)"},void 0,i()("polygon",{fill:"inherit",points:"3.2,18.7 19.9,1.9 36.7,18.7 33.2,22.2 19.9,9 6.7,22.2"}),i()("polygon",{fill:"inherit",points:"3.2,31.5 19.9,14.7 36.7,31.5 33.2,35 19.9,21.8 6.7,35"})))}).withConfig({componentId:"s1qurq13-0"})(["fill: ",";"],function(e){return Object(U.c)(e).actionIcon}),he=n("./src/reddit/selectors/postCollection.ts"),ge=n("./src/lib/prettyPrintNumber/index.ts"),fe=n("./src/reddit/components/PostContainer/index.tsx"),be=n("./src/reddit/components/PostEventMeta/index.tsx"),xe=n("./src/reddit/components/PostOverflowMenu/index.tsx"),ve=n("./src/reddit/contexts/PageLayer/index.tsx"),ye=n("./src/reddit/components/CollectionInfo/index.m.less"),Oe=n.n(ye),we=u.a.span.withConfig({componentId:"z9v9sq-0"})(["",";color: ",";display: inline-block;margin-right: 8px;"],ae.metadataFont,function(e){return Object(U.c)(e).metaText}),Ce=u.a.div.withConfig({componentId:"z9v9sq-1"})(["","color: ",";"],ae.titleFontH5,function(e){return Object(U.c)(e).bodyText}),je=Object(ve.t)()(Object(d.connect)(function(){return Object(a.createStructuredSelector)({language:Z.I,subredditOrProfile:Y.K,post:Y.z})})(function(e){var t=e.className,n=e.eventFactory,o=e.isOverlay,r=e.language,d=e.post,c=(e.subredditOrProfile,e.style),a=e.onClickPost;return d?i()(fe.a,{className:Object(p.a)(t,Oe.a.postContainer),post:d,onClick:a,eventFactory:n,style:c},void 0,i()("div",{className:Oe.a.postBody,"data-click-id":"body"},void 0,i()(Ce,{className:Oe.a.postTitle},void 0,d.title)),i()("div",{className:Oe.a.bottomline},void 0,Object(be.b)(d)?i()(be.a,{language:r,post:d}):i()(s.a.Fragment,{},void 0,i()(we,{"data-click-id":"score"},void 0,Object(re.c)(r,"posts.points.noun",d.score,{count:Object(ge.b)(d.score)})),i()(we,{},void 0,"·"),i()(we,{"data-click-id":"comments"},void 0,Object(re.c)(r,"posts.comments.noun",d.numComments,{count:Object(ge.b)(d.numComments)}))),i()(we,{},void 0,i()(xe.g,{dropdownId:d.id+"-collection-item-overflow-menu",ignoreBreakpoints:!0,isOverlay:o,permalink:d.permalink,postId:d.id,showEditFlair:!1,showEditPost:!1})))):i()("div",{className:t})})),Ie=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},ke={stiffness:210,damping:30},Se=u.a.div.withConfig({componentId:"hak4kf-0"})(["","align-items: flex-end;color: ",";display: flex;margin: 2px 14px 10px 8px;"],ae.titleFontH4,function(e){return Object(U.c)(e).bodyText}),_e=u.a.span.withConfig({componentId:"hak4kf-1"})(["","white-space: nowrap;"],ae.bodyFontH5),Pe=u.a.span.withConfig({componentId:"hak4kf-2"})(["&::before {","padding: 0 5px;content: '·';}"],ae.metadataFont),Te=u()(ue).withConfig({componentId:"hak4kf-3"})(["color: ",";font-size: 20px;height: 20px;margin-right: 10px;"],function(e){return Object(U.c)(e).actionIcon}),Ne=u.a.div.withConfig({componentId:"hak4kf-4"})(["box-sizing: border-box;display: flex;height: ","px;left: 0;overflow: hidden;position: relative;white-space: nowrap;"],74),Ee=u()(je).withConfig({componentId:"hak4kf-5"})(["border-color: ",";border-bottom-color: ",";border-style: solid;border-left: none;box-sizing: border-box;cursor: pointer;display: inline-flex;flex: 1;height: 100%;min-width: ","px;padding: 8px ","px 10px 8px;position: relative;white-space: normal;&:first-child {padding-left: 14px;}&:last-child {border-right: none;padding-right: ","px;}&."," {background-color: ",";}"],function(e){return Object(U.c)(e).postLine},function(e){return Object(U.c)(e).button},216,16,8,Oe.a.active,function(e){return Object(U.c)(e).field}),Me=u.a.button.withConfig({componentId:"hak4kf-6"})(["background-color: ",";border: 1px solid ",";bottom: 0;height: 100%;outline: none;position: absolute;top: 0;width: ","px;z-index: 1;"],function(e){return Object(U.c)(e).field},function(e){return Object(U.c)(e).postLine},15),Le=u()(de.a).withConfig({componentId:"hak4kf-7"})(["","font-weight: bold;padding: 0 4px 0 0;text-transform: uppercase;white-space: nowrap;& > svg {width: 16px;height: 16px;}"],ae.metadataFont),Fe=u()(Me).withConfig({componentId:"hak4kf-8"})(["border-left: none;left: 0;& + "," {margin-left: ","px;}"],Ee,15),Re=u()(Me).withConfig({componentId:"hak4kf-9"})(["border-right: none;right: 0;"]),De=function(e){var t=e.root,n=e.handleVisibilityChange,o=Ie(e,["root","handleVisibilityChange"]);return i()(ee.a,{root:t,threshold:.99,rootMargin:"0px 15px 0px 15px",onChange:n},void 0,s.a.createElement(Ee,o))},Ae=Object(a.createStructuredSelector)({collection:he.e,followPost:function(e,t){var n=t.postId,o=Object(he.e)(e,{postId:n}),i=o&&(o.primaryPostId||o.postIds[0]);return i?Object(Y.z)(e,{postId:i}):null},hideNSFWPref:Z.w,post:Y.z,subredditOrProfile:Y.K,language:Z.I}),He=Object(d.connect)(Ae,function(e){return{onOpenPost:function(t){return e(Object(se.k)(t))}}})(function(e){function t(e){T()(this,t);var n=L()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={scrollIndex:0,viewableItems:{},visibleItemsCount:null},n.makeVisibilityChangeHandler=function(e){return function(t){!n.state.viewableItems[e]&&t.isIntersecting&&n.props.collection,n.setState({viewableItems:Object.assign({},n.state.viewableItems,$()({},e,t.isIntersecting&&t.intersectionRatio>=.99))})}},n.getVisibleItemsCount=function(){return ie()(n.state.viewableItems).reduce(function(e,t){return e+(t?1:0)},0)},n.getMaxScrollIndex=function(e){return null!=e&&n.props.collection?n.props.collection.postIds.length-e:null},n.onClickNext=function(){var e=n.getVisibleItemsCount(),t=n.getMaxScrollIndex(e),o=Math.max(1,e),i=Math.min(n.state.scrollIndex+o,t);n.state.scrollIndex,n.setState({scrollIndex:i,visibleItemsCount:e})},n.onClickPrev=function(){var e=n.getVisibleItemsCount(),t=Math.max(1,e),o=Math.max(0,n.state.scrollIndex-t);n.state.scrollIndex,n.setState({scrollIndex:o,visibleItemsCount:e})},n.onClickPost=function(e,t){n.props.onOpenPost(t)},n.setContainerRef=function(e){n.container=e},n.id=ne()("CollectionInfo-"),n}return R()(t,e),E()(t,[{key:"componentDidMount",value:function(){var e=this.getVisibleItemsCount();this.setState({visibleItemsCount:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.collection,o=t.followPost,r=t.hideNSFWPref,d=t.isOverlay,c=t.language,a=t.post,l=t.showOCCategories,u=t.subredditOrProfile;if(!n)return null;var m=n.postIds;if(!m||!m.length)return null;var h=this.state,g=h.scrollIndex,f=h.visibleItemsCount,b=this.getMaxScrollIndex(f),x=0;if(g===b&&f){var v=216*f;x=(this.container?this.container.offsetWidth:v)-v}else g>0&&(x=15);var y=!this.container||this.container.offsetWidth/216>m.length,O=-216*g+x;return i()("div",{"aria-label":Object(re.a)(c,"sidebar.widgets.postCollection.collection"),role:"complementary"},void 0,i()("div",{className:Oe.a.top},void 0,i()(ce.a,{hideNSFWPref:r,inSubredditOrProfile:!0,isCommentsPage:!0,isOverlay:!!d,language:c,post:a,renderCollectionAuthor:!0,shouldShowSubscribeButton:!1,showOCCategories:l,showSubreddit:!0,subredditOrProfile:u}),i()(Se,{},void 0,i()(Te,{}),i()("span",{className:Oe.a.titleText},void 0,n.title),i()(Pe,{}),i()(_e,{},void 0,Object(re.c)(c,"postCreation.postsCount",m.length)),i()(Pe,{}),o&&i()(Le,{language:c,post:o}))),i()(Ne,{id:this.id,innerRef:this.setContainerRef},void 0,0!==g&&i()(Fe,{onClick:this.onClickPrev},void 0,i()(me,{className:Oe.a.carouselArrow,direction:w.BACKWARD})),i()(H.Motion,{defaultStyle:{marginLeft:0},style:{marginLeft:Object(H.spring)(O,ke)}},void 0,function(t){return i()(s.a.Fragment,{},void 0,m.map(function(n,o){return i()(De,{className:Object(p.a)(Oe.a.carouselItem,e.props.postId===n?Oe.a.active:null),isOverlay:d,root:e.id,postId:n,style:0===o?t:void 0,handleVisibilityChange:e.makeVisibilityChangeHandler(o),onClickPost:e.onClickPost},n)}))}),!y&&(null==b||g<b)&&i()(Re,{onClick:this.onClickNext},void 0,i()(me,{className:Oe.a.carouselArrow,direction:w.FORWARD}))))}}]),t}(r.Component)),Be=n("./src/reddit/components/ExpandoButton/index.tsx"),ze=n("./src/reddit/components/Flatlist/index.tsx"),We=n("./src/reddit/components/Governance/Proposal/index.tsx"),Ke=n("./src/reddit/components/Governance/Proposal/NoProposalError/index.tsx"),Ue=n("./src/reddit/components/JSAPIContainers/index.tsx"),qe=n("./src/reddit/components/LargePost/index.tsx"),Ve=n("./src/reddit/components/MediumPost/index.tsx"),Ge=n("./src/reddit/components/ModModeReports/index.tsx"),Je=n("./src/reddit/components/ModModeReports/helpers.ts"),Ye=n("./src/higherOrderComponents/makeAsync.tsx"),Ze=n("./src/lib/loadWithRetries/index.ts"),Qe=n("./src/reddit/components/RichTextEditor/Placeholder.tsx"),Xe=Object(Ye.a)({ErrorComponent:function(){return i()(Qe.a,{gradientType:"posts",isLoading:!1,toolbarPosition:"top"})},getComponent:function(){return Object(Ze.a)(function(){return Promise.all([n.e("vendors~Chat~CommentsPage~ModerationPages~PostCreation~RedesignChat~RichTextEditor~StructuredStyles~~96f4d9fe"),n.e("vendors~FlairEdit~PostCreation~RichTextEditor"),n.e("vendors~PostCreation~RichTextEditor"),n.e("PostCreation~RichTextEditor"),n.e("RichTextEditor")]).then(n.bind(null,"./src/reddit/components/PostEditForm/index.tsx")).then(function(e){return e.default})})},LoadingComponent:function(){return i()(Qe.a,{gradientType:"posts",isLoading:!0,toolbarPosition:"top"})}}),$e=function(e){return s.a.createElement(Xe,e)},et=n("./src/reddit/components/PostFlairPicker/index.tsx"),tt=n("./src/reddit/components/PostMedia/index.tsx"),nt=n("./src/reddit/components/PostTitle/index.tsx"),ot=n("./src/reddit/components/PostTopMeta/index.tsx"),it=n("./src/reddit/components/RichTextJson/index.tsx"),rt=n("./src/reddit/components/SourceLink/index.tsx"),st=n("./src/reddit/constants/componentSizes.ts"),dt=n("./src/reddit/constants/componentTestIds.ts"),ct=n("./src/reddit/components/PostContent/viewCount.m.less"),at=n.n(ct),lt=function(e){var t=e.post,n=e.language,o=e.showViewCount,r=function(e,t){var n=Math.round(100*e.upvoteRatio),o=Object(ge.b)(e.viewCount);return{upvotePercentString:Object(re.a)(t,"posts.percentUpvoted",{percentUpvoted:n}),viewCountString:Object(re.c)(t,"posts.numViews.noun",e.viewCount,{count:o})}}(t,n),s=r.upvotePercentString,d=r.viewCountString,c=o&&!!t.viewCount;return i()("div",{className:at.a.viewCounts},void 0,c&&i()("span",{},void 0,d),c&&!!t.upvoteRatio&&i()("span",{className:at.a.dotSpacer}),!!t.upvoteRatio&&i()("span",{},void 0,s))},ut=n("./src/reddit/constants/posts.ts"),pt=n("./src/reddit/components/PostContent/index.m.less"),mt=n.n(pt);!function(e){e[e.CLASSIC=0]="CLASSIC",e[e.LARGE=1]="LARGE",e[e.MEDIUM=2]="MEDIUM"}(pe||(pe={}));var ht=u()(nt.c).withConfig({componentId:"s1knm1ot-0"})(["margin: 0 8px 8px;"]),gt=u()(tt.a).withConfig({componentId:"s1knm1ot-1"})([""]),ft=u()(W).withConfig({componentId:"s1knm1ot-2"})([""," {border-bottom-right-radius: 4px;}"],gt),bt=u()(ze.c).withConfig({componentId:"s1knm1ot-3"})(["flex-grow: 1;"]),xt=u.a.div.withConfig({componentId:"s1knm1ot-4"})(["padding-right: 40px;margin: 16px 0 0;max-width: 800px;","",""],function(e){return e.isEditing?"opacity: 0.5; pointer-events: none;":""},We.b),vt=u()(it.a).withConfig({componentId:"s1knm1ot-5"})(["max-width: ","px;"],st.f),yt=u()(tt.a).withConfig({componentId:"s1knm1ot-6"})(["margin-top: ",";"],function(e){return e.isCommentsPage?"12px":"0px"}),Ot=u()(Q.b).withConfig({componentId:"s1knm1ot-7"})(["margin-right: 8px;"]),wt=Object(ve.t)({isCommentsPage:ve.w,isOriginalPage:ve.A,pageLayer:function(e){return e}}),Ct=Object(d.connect)(function(){return Object(a.createStructuredSelector)({activeModalId:V.a,flairStyleTemplate:ve.N,currentUser:Z.j,crosspost:Y.b,hideNSFWPref:Z.w,isExpanded:Y.g,post:Y.z,language:Z.I,metaId:function(e,t){return e.posts.metaMap[t.postId]},moderatorPermissions:G.e,modModeEnabled:ve.L,subredditOrProfile:Y.K,isEditing:J.B,userIsOp:Z.V})},function(e,t){var n=t.postId;return{onFlairChanged:function(t){var n=t.post,o=t.previewFlair,i=t.selectedTemplateId;return e(Object(_.h)({post:n,previewFlair:o,selectedTemplateId:i}))},onIgnoreReports:function(){return e(Object(S.E)(n))},onOpenReportsDropdown:function(t){return e(Object(k.e)({tooltipId:t}))},onVoteClick:function(t){var o=t===q.a.upvoted?Object(S.G)(n):Object(S.m)(n);e(o)}}}),jt=function(e){var t=e.crosspost,n=e.isCommentPermalink,o=e.post;return o.collectionIds?pe.LARGE:n?pe.CLASSIC:t?pe.LARGE:o.media?pe.LARGE:pe.MEDIUM},It=u()(c.a).withConfig({componentId:"s1knm1ot-8"})(["",""],Object(C.x)(ut.c,ut.d)),kt=function(e){var t=e.post,n=e.templatePlaceholderImage;return t.source?i()(Ot,{post:t,forceShowNSFW:!0,templatePlaceholderImage:n}):i()(It,{to:Object(v.b)(t.permalink)},void 0,i()(Ot,{post:t,forceShowNSFW:!0}))},St=function(e,t,n,o){var r=function(){return i()(yt,{isCommentsPage:!0,isListing:!1,isNotCardView:o,post:t,shouldLoad:!0,showFull:!0,shouldPause:!o,showCentered:!0,scrollerItemRef:n})};return t.media&&"rtjson"===t.media.type?i()(vt,{content:t.isMeta?O(t.media.richtextContent,t.id):t.media.richtextContent,language:e,mediaMetadata:t.media.mediaMetadata,renderingObjectInfo:t,renderFallback:r}):r()},_t=function(e){return i()($e,{post:e})},Pt=function(e,t,n){return i()(ft,{content:i()(gt,{isListing:!1,isNotCardView:!0,post:e,shouldLoad:!0,showFull:!0,showCentered:!0,scrollerItemRef:n}),shouldExpand:!!t})};t.a=wt(Ct(u()(function(e){var t=e.currentUser,n=e.crosspost,o=e.isEditing,r=e.flairStyleTemplate,s=e.hideNSFWPref,d=e.isCommentsPage,c=e.isOriginalPage,a=e.isExpanded,l=e.isOverlay,u=e.language,h=e.metaId,v=e.moderatorPermissions,y=e.modModeEnabled,O=e.onIgnoreReports,w=e.onOpenReportsDropdown,C=e.onVoteClick,k=e.post,S=e.scrollerItemRef,_=e.subredditOrProfile,P=e.userIsOp,T=Object(x.a)(v),N=Object(b.a)(v),E=function(e,t,n){var o=e?[Object(f.d)(e)===n.author,e.isEmployee]:[!1,!1],i=g()(o,2),r=i[0],s=i[1];return r||t||s}(t,T||N,k),M=!!k.media&&(k.media.type===K.m.RTJSON||k.media.type===K.m.TEXT),L="subreddit"===k.belongsTo.type,F=P&&M,R=P&&!!L,D=Object(Je.c)(k),A=void 0,H=Object(et.b)(k.id),B=i()(ht,{className:mt.a.postTitle,post:k,size:nt.b.ExtraLarge,disableVisited:!0,isCommentsPage:!0}),z=i()(lt,{post:k,language:u,showViewCount:E}),W=jt(e);if(W===pe.CLASSIC)A=i()("div",{"data-test-id":dt.e},void 0,Object(qe.b)(k,C),i()("div",{className:mt.a.mainBody},void 0,i()("div",{className:mt.a.content},void 0,i()(ce.a,{hideNSFWPref:s,inSubredditOrProfile:!0,isCommentsPage:d,isOverlay:!!l,language:u,post:k,shouldShowSubscribeButton:!1,showOCCategories:c,showSubreddit:!!l&&!k.isSponsored,subredditOrProfile:_}),B,y&&T&&D&&i()(Ge.a,{language:u,onIgnoreReports:O,reportable:k}),i()(Ue.d,{postId:k.id}),i()("div",{className:mt.a.FlatlistContainer},void 0,i()(Be.a,{crosspost:n||void 0,isExpanded:!a,post:k,useMediaIcons:!1}),i()(ze.a,{}),i()(bt,{currentUser:t,hasModFlairPerms:N,hasModPostPerms:T,isOverlay:l,language:u,onIgnoreReports:O,onOpenReportsDropdown:w,modModeEnabled:y,post:k,showUpvotePercent:!0,showViewCount:E}))),Object(m.a)(k)&&i()(kt,{post:k,templatePlaceholderImage:r&&r.postPlaceholderImage})),Pt(k,a,S));else if(W===pe.MEDIUM)A=i()("div",{"data-test-id":dt.e},void 0,Object(qe.b)(k,C),i()("div",{className:mt.a.mainBody},void 0,i()("div",{className:mt.a.content},void 0,i()(ce.a,{hideNSFWPref:s,inSubredditOrProfile:!0,isCommentsPage:d,isOverlay:!!l,language:u,post:k,shouldShowSubscribeButton:!1,showOCCategories:c,showSubreddit:!!l&&!k.isSponsored,subredditOrProfile:_}),B,k.source&&i()(rt.a,{post:k,isCommentsPage:d}),y&&T&&D&&i()(Ge.a,{language:u,onIgnoreReports:O,reportable:k})),Object(m.a)(k)&&i()(Ve.a,{post:k,forceShowNSFW:!0,templatePlaceholderImage:r&&r.postPlaceholderImage})),i()("div",{className:mt.a.controlsContainer},void 0,i()(ze.c,{currentUser:t,hasModFlairPerms:N,hasModPostPerms:T,isOverlay:l,language:u,modModeEnabled:y,onIgnoreReports:O,onOpenReportsDropdown:w,post:k,showEditPost:F,showEditFlair:R,tooltipType:l?ot.c.Lightbox:void 0}),z));else if(W===pe.LARGE){var U=!!k.collectionIds;A=i()("div",{"data-test-id":dt.e},void 0,U&&i()(He,{isOverlay:l,postId:k.id,showOCCategories:c}),i()("div",{className:mt.a.postContent},void 0,Object(qe.b)(k,C),!U&&i()(ce.a,{hideNSFWPref:s,inSubredditOrProfile:!0,isCommentsPage:d,isOverlay:!!l,language:u,post:k,shouldShowSubscribeButton:!1,showOCCategories:c,showSubreddit:!!l&&!k.isSponsored,subredditOrProfile:_}),B,function(e,t,n,o){return e.source&&!t&&(n||o)}(k,n,l,d)&&i()(rt.a,{post:k,isCommentsPage:d}),o?_t(k):St(u,k,S,l),h&&_?i()(xt,{isEditing:o},void 0,i()(We.a,{pollId:h,subredditId:_.id})):null,k.isMeta&&!h&&i()(Ke.a,{className:mt.a.noProposal}),y&&T&&D&&i()(Ge.a,{language:u,onIgnoreReports:O,reportable:k}),i()("div",{className:mt.a.controlsContainer},void 0,i()(ze.c,{currentUser:t,hasModFlairPerms:N,hasModPostPerms:T,isOverlay:l,language:u,modModeEnabled:y,onIgnoreReports:O,onOpenReportsDropdown:w,post:k,showEditPost:F,showEditFlair:R,tooltipType:l?ot.c.Lightbox:void 0}),z)))}return i()(fe.a,{className:function(e){var t=e.className,n=e.post,o=jt(e);return Object(p.a)(t,mt.a.postContainer,o===pe.LARGE&&n.collectionIds&&n.collectionIds.length?mt.a.postInCollection:null)}(e),post:k,eventFactory:l?j.b:I.d},void 0,A,e.activeModalId===H&&i()(et.a,{flairs:k.flair,subredditId:k.belongsTo.id,language:u,modalId:H,onFlairChanged:function(t){var n=t.previewFlair,o=t.selectedTemplateId;return e.onFlairChanged({post:k,previewFlair:n,selectedTemplateId:o})}}))}).withConfig({componentId:"s1knm1ot-9"})(["","","","color: ",";fill: ",";"],Q.a,ze.e,ze.d,function(e){return Object(U.c)(e).actionIcon},function(e){return Object(U.c)(e).actionIcon})))},"./src/reddit/components/PostContent/viewCount.m.less":function(e,t,n){e.exports={dotSpacer:"_3g_cwSqBe5o5mAuhfMeGu5",viewCounts:"t4Hq30BDzTeJ85vREX7_M"}},"./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx":function(e,t,n){"use strict";n.d(t,"g",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"f",function(){return f}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return x});var o=n("./bundled-modules/styled-components/styled-components.min.js"),i=n.n(o),r=n("./src/reddit/controls/Dropdown/Row.tsx"),s=n("./src/reddit/icons/fonts/Approve/index.tsx"),d=n("./src/reddit/icons/fonts/Remove/index.tsx"),c=n("./src/reddit/icons/fonts/Spam/index.tsx"),a=n("./src/reddit/icons/fonts/Tag/index.tsx"),l=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),u=Object(o.css)(["height: 12px;margin-top: -6px;padding-right: 4px;vertical-align: middle;width: 12px;"]),p=Object(o.css)(["color: ",";cursor: pointer;font-size: 12px;line-height: 16px;padding: 8px 16px 8px 8px;&:hover {background-color: ",";border-color: ",";}"],function(e){return Object(l.c)(e).actionIcon},function(e){return Object(l.c)(e).actionIcon},function(e){return Object(l.c)(e).actionIcon}),m=i()(s.a).withConfig({componentId:"s19zlun7-0"})(["",""],u),h=i()(d.a).withConfig({componentId:"s19zlun7-1"})(["",""],u),g=i()(c.a).withConfig({componentId:"s19zlun7-2"})(["",""],u),f=i()(a.a).withConfig({componentId:"s19zlun7-3"})(["",""],u),b=i.a.div.withConfig({componentId:"s19zlun7-4"})(["border-radius: 4px;box-shadow: 0 2px 4px 0 ",";cursor: pointer;line-height: 0px; // this seems to better vertically align the icon\noverflow: hidden;width: 100%;"],function(e){return Object(l.c)(e).flair}),x=i()(r.c).withConfig({componentId:"s19zlun7-5"})(["",""],p)},"./src/reddit/components/ProfileIdCard/Preview.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(o),r=n("./node_modules/babel-runtime/helpers/createClass.js"),s=n.n(r),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n.n(d),a=n("./node_modules/babel-runtime/helpers/inherits.js"),l=n.n(a),u=n("./node_modules/babel-runtime/helpers/jsx.js"),p=n.n(u),m=n("./src/config.ts"),h=n("./node_modules/react/index.js"),g=n.n(h),f=n("./bundled-modules/styled-components/styled-components.min.js"),b=n.n(f),x=n("./src/app/strings/index.ts"),v=n("./src/reddit/components/Widgets/Base/index.tsx"),y=n("./src/reddit/constants/colors.ts"),O=n("./src/reddit/controls/InternalLink/index.tsx"),w=n("./src/reddit/controls/LoadingIcon/index.tsx"),C=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),j=n("./src/reddit/icons/svgs/Close/index.tsx"),I=n("./src/reddit/icons/svgs/Premium/index.tsx"),k=n("./src/reddit/layout/twoCol/Dynamic/index.tsx"),S=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),_=n("./node_modules/react-redux/es/index.js"),P=n("./node_modules/reselect/lib/index.js"),T=n("./src/lib/humanizeDate/index.ts"),N=n("./src/lib/prettyPrintNumber/index.ts"),E=n("./src/lib/timeAgo/index.ts"),M=n("./src/reddit/contexts/InsideOverlay.tsx"),L=n("./src/reddit/icons/svgs/Cake/index.tsx"),F=n("./src/reddit/icons/svgs/Karma/index.tsx"),R=n("./src/reddit/selectors/profile.ts"),D=n("./src/reddit/selectors/user.ts"),A=n("./node_modules/babel-runtime/helpers/extends.js"),H=n.n(A),B=n("./src/app/actions/tooltip.ts"),z=n("./src/reddit/components/InfoTextTooltip/index.tsx"),W=n("./src/reddit/selectors/tooltip.ts"),K=Object(P.createStructuredSelector)({language:D.I,activeTooltipId:W.a}),U=b.a.div.withConfig({componentId:"s7tbhgy-0"})(["cursor: default;flex: 1 1 50%;margin-bottom: 12px;"]),q=b.a.div.withConfig({componentId:"s7tbhgy-1"})(["align-items: center;display: flex;margin-top: 2px;"]),V=b.a.h5.withConfig({componentId:"s7tbhgy-2"})(["","color: ",";"],C.titleFontH5,function(e){return Object(S.c)(e).titleText}),G=b.a.span.withConfig({componentId:"s7tbhgy-3"})(["","color: ",";margin-left: 4px;"],C.metadataFont,function(e){return Object(S.c)(e).metaText}),J=function(e){function t(){i()(this,t);var e=c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.toggleTooltip=function(){var t=e.props,n=t.toggleTooltip,o=t.tooltipId;n&&o&&n(o)},e}return l()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.label,o=e.title,i=e.tooltip,r=e.tooltipId,s=r&&i?{id:r,onMouseEnter:this.toggleTooltip,onMouseLeave:this.toggleTooltip}:{};return p()(U,{},void 0,p()(V,{},void 0,o),p()(q,{},void 0,t,g.a.createElement(G,H()({key:"label"},s),n)),r&&i&&p()(z.b,{caretOnTop:!0,container:null,tooltipId:r,text:i}))}}]),t}(g.a.Component),Y=Object(_.connect)(K,function(e){return{toggleTooltip:function(t){return e(Object(B.e)({tooltipId:t}))}}})(Object(M.b)(J)),Z=Object(P.createSelector)(R.g,function(e,t){var n=t.profileName;return Object(D.W)(e,n)},D.I,function(e,t,n){return{commentKarma:t?t.commentKarma:0,language:n,postKarma:t?t.postKarma:0,profileCreated:t?t.created:0,subscribers:e&&e.subscribers||0}}),Q=Object(f.css)(["width: 14px;height: 14px;fill: ",";"],y.a.op),X=b()(L.a).withConfig({componentId:"s1c9ufm5-0"})(["",""],Q),$=b()(F.a).withConfig({componentId:"s1c9ufm5-1"})(["",""],Q),ee=b()(function(e){return p()("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},void 0,p()("g",{},void 0,p()("path",{d:"M10,12.00025 C13.1575,12.00025 15.971,13.46475 17.8035,15.75025 C15.971,18.03575 13.1575,19.50025 10,19.50025 C6.8425,19.50025 4.029,18.03575 2.1965,15.75025 C4.029,13.46475 6.8425,12.00025 10,12.00025 Z M10,10.75025 C7.8575,10.75025 6.0505,9.15525 5.785,7.02925 L5.62,5.71175 C5.291,3.07725 7.345,0.75025 10,0.75025 C12.655,0.75025 14.709,3.07725 14.38,5.71175 L14.215,7.02925 C13.9495,9.15525 12.1425,10.75025 10,10.75025 Z"})))}).withConfig({componentId:"s1c9ufm5-2"})(["",""],Q),te=b.a.div.withConfig({componentId:"s1c9ufm5-3"})(["display: flex;flex-wrap: wrap;"]);function ne(e,t){return"profile--id-card--highlight-tooltip-"+(e?"-overlay":"")+"-"+t}var oe=Object(_.connect)(Z)(Object(M.b)(function(e){var t=e.profileCreated,n=e.isOverlay,o=e.language,i=e.commentKarma,r=e.postKarma,s=e.subscribers,d=ne(n,"karma"),c=ne(n,"cakeday"),a=Object(N.b)(r,!0)+" "+Object(x.a)(o,"profile.karmaLink")+"\n"+Object(N.b)(i,!0)+" "+Object(x.a)(o,"profile.karmaComments");return p()(te,{},void 0,p()(Y,{icon:p()($,{},"karma"),label:Object(N.b)(i+r,!0),title:Object(x.a)(o,"profile.karma"),tooltipId:d,tooltip:a}),p()(Y,{icon:p()(X,{},"cakeDay"),label:Object(T.a)(t,o,!0),title:Object(x.a)(o,"profile.cakeDay"),tooltipId:c,tooltip:Object(E.a)(o,t)}),s>0&&p()(Y,{icon:p()(ee,{},"followers"),title:Object(x.a)(o,"profile.followers"),label:Object(N.b)(s,!0)}))})),ie=n("./src/reddit/components/ProfileIdCard/index.m.less"),re=n.n(ie),se=b.a.div.withConfig({componentId:"a8e0fs-0"})(["background-color: ",";border-radius: 4px 4px 0 0;height: 94px;position: absolute;left: 0;top: 0;width: 100%;"],function(e){return Object(S.c)(e).banner.backgroundColor}),de=b.a.div.withConfig({componentId:"a8e0fs-1"})(["background-position: center center;background-size: cover;width: 100%;height: 100%;"]),ce=b.a.div.withConfig({componentId:"a8e0fs-2"})(["background-position: center center;background-size: cover;border-radius: 4px;height: 100%;width: 100%;"]),ae=b()(v.c).withConfig({componentId:"a8e0fs-3"})(["position: relative;overflow: hidden;"]),le=b.a.h4.withConfig({componentId:"a8e0fs-4"})(["","color: ",";margin: 4px 0;"],C.titleFontH4,function(e){return Object(S.c)(e).titleText}),ue=b()(I.a).withConfig({componentId:"a8e0fs-5"})(["fill: ",";height: 14px;margin-left: 2px;vertical-align: middle;width: 14px;"],y.a.snoo),pe=b.a.div.withConfig({componentId:"a8e0fs-6"})(["","color: ",";margin-top: 8px;margin-bottom: 8px;"],C.bodyFontH5,function(e){return Object(S.c)(e).bodyText}),me=b()(O.a).withConfig({componentId:"a8e0fs-7"})(["","color: ",";margin-top: 4px;"],C.titleFontH6,function(e){return Object(S.c)(e).titleText}),he=b()(k.a).withConfig({componentId:"a8e0fs-8"})(["margin-top: 10px;justify-content: space-between;"]),ge=Object(f.css)(["position: absolute;right: 3px;top: 3px;width: 20px;"]),fe=b()(j.a).withConfig({componentId:"a8e0fs-9"})(["","border-radius: 50%;cursor: pointer;background: #fff;opacity: 0.2;transition: opacity 0.3s;&:hover {box-shadow: 0 0 2px #888;opacity: 0.8;}"],ge),be=b()(w.a).withConfig({componentId:"a8e0fs-10"})(["",""],ge),xe=function(){return p()(be,{sizePx:20})},ve=function(e){function t(){return i()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.bannerBackgroundImage,o=e.className,i=e.footer,r=e.isGold,s=e.isOverlay,d=e.profileIcon,c=e.publicDescription,a=e.title,l=e.url,u=e.username,h=e.isDefaultIcon,g=e.isDeletingIcon,f=e.isDeletingBanner,b=e.onDeleteIcon,v=e.onDeleteBanner,y=e.editMode,O=e.language;return p()(ae,{className:o},void 0,p()(se,{},void 0,n&&p()(de,{style:{backgroundImage:"url("+n+")"}}),y&&n&&(f?p()(xe,{}):p()(fe,{onClick:v}))),p()("div",{className:re.a.SnooIconWrapper},void 0,p()(ce,{style:{backgroundImage:"url("+d+")"}}),y&&!h&&(g?p()(xe,{}):p()(fe,{onClick:b}))),a&&p()(le,{},void 0,a),p()(me,{to:l},void 0,"u/"+u),r&&p()("a",{title:Object(x.a)(O,"profile.premiumIcon.title",{user:u}),href:m.a.redditUrl+"/premium"},void 0,p()(ue,{})),p()(pe,{},void 0,c),p()(oe,{profileName:u,isOverlay:s}),p()(he,{},void 0,t),i)}}]),t}(g.a.PureComponent);t.a=ve},"./src/reddit/components/ProfileIdCard/footer.m.less":function(e,t,n){e.exports={container:"_2jvbIljd1r6tRUsfoDij_y",expandContainer:"_1HKW6ri9nK1INtj09BfFfM",expandButton:"_34I-V8v9TxMwIW1R6Rbi3A",menuItem:"_2j70PtPj9zrWOU8NshwTg-"}},"./src/reddit/components/ProfileIdCard/index.m.less":function(e,t,n){e.exports={SnooIconWrapper:"_308WM6C-yV5iwS0Iy8nOfI",snooIconWrapper:"_308WM6C-yV5iwS0Iy8nOfI",actionItem:"_1l7CTV4NjDjmzX8DiiSgTL"}},"./src/reddit/components/ProfileIdCard/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./src/config.ts"),s=n("./node_modules/react/index.js"),d=n.n(s),c=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/reselect/lib/index.js"),l=n("./bundled-modules/styled-components/styled-components.min.js"),u=n.n(l),p=n("./src/app/strings/index.ts"),m=n("./src/reddit/actions/subscription.ts"),h=n("./src/reddit/components/ProfileIdCard/Preview.tsx"),g=n("./src/reddit/controls/Button/index.tsx"),f=n("./src/reddit/featureFlags/index.ts"),b=n("./src/reddit/selectors/profile.ts"),x=n("./src/reddit/selectors/structuredStyles.ts"),v=n("./src/reddit/selectors/tooltip.ts"),y=n("./src/reddit/selectors/user.ts"),O=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),w=n.n(O),C=n("./node_modules/babel-runtime/helpers/createClass.js"),j=n.n(C),I=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),k=n.n(I),S=n("./node_modules/babel-runtime/helpers/inherits.js"),_=n.n(S),P=n("./node_modules/lodash/compact.js"),T=n.n(P),N=n("./src/reddit/actions/profile.ts"),E=n("./src/reddit/controls/InternalLink/index.tsx"),M=n("./src/reddit/controls/OutboundLink/index.tsx"),L=n("./src/reddit/helpers/styles/mixins/loading.ts"),F=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),R=n("./src/reddit/components/ProfileIdCard/footer.m.less"),D=n.n(R),A=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},H=Object(a.createStructuredSelector)({areModeratedSubredditsPending:b.a,hasFetchedModerators:b.h,isLoggedIn:y.C,language:y.I,redesignProfilesSettings:f.d.redesignProfilesSettings}),B=u.a.div.withConfig({componentId:"nfd2p6-0"})(["."," {","border-bottom: 1px solid ",";}"],D.a.menuItem,g.p,function(e){return Object(F.c)(e).line}),z=u()(function(e){e.gradientType,e.isLoading;var t=A(e,["gradientType","isLoading"]);return d.a.createElement("div",t)}).withConfig({componentId:"nfd2p6-1"})(["","","display: inline-block;height: 10px;width: 125px;"],L.a,L.b),W=function(e){function t(){w()(this,t);var e=k()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={expanded:!1},e.moreOptionsToggled=function(){!e.state.expanded&&e.canLoadMods()&&e.props.onModeratorsRequested(),e.setState(function(e){return{expanded:!e.expanded}})},e}return _()(t,e),j()(t,[{key:"canLoadMods",value:function(){return this.props.isLoggedIn&&!this.props.isOwnProfile&&!this.props.hasFetchedModerators&&!this.props.areModeratedSubredditsPending}},{key:"isLoadingMods",value:function(){return this.props.isLoggedIn&&!this.props.isOwnProfile&&(!this.props.hasFetchedModerators||this.props.areModeratedSubredditsPending)}},{key:"render",value:function(){var e=this.props,t=e.hasSubreddit,n=e.isOwnProfile,o=e.language,s=e.profileName,d=e.allowViewSnoovatar,c=e.isModerator,a=e.redesignProfilesSettings,l=this.state.expanded,u={allowViewSnoovatar:d,hasSubreddit:t,isOwnProfile:n,isModerator:c,profileName:s},m=a?function(e){var t=e.allowViewSnoovatar,n=e.hasSubreddit,o=e.isOwnProfile,i=e.isModerator,s=e.profileName;return T()([(o||i)&&n?{url:"/user/"+s+"/about/edit/moderation",languageKey:"profile.contributorSettings.profileModeration",isInternalLink:!0}:void 0,o?void 0:{url:r.a.redditUrl+"/message/compose/?to="+s,languageKey:"profile.options.sendMessage"},!o&&t?{url:r.a.redditUrl+"/user/"+s+"/snoo",languageKey:"profile.options.viewSnoovatar"}:void 0,o?void 0:{url:"https://www.reddithelp.com/en/categories/rules-reporting/account-and-community-restrictions/what-should-i-do-if-i-see-something-i",languageKey:"profile.options.reportUser"}])}(u):function(e){var t=e.allowViewSnoovatar,n=e.hasSubreddit,o=e.isOwnProfile,i=e.isModerator,s=e.profileName;return T()([(o||i)&&n?{url:r.a.redditUrl+"/user/"+s+"/about/edit/",languageKey:"profile.contributorSettings.customizeProfile"}:void 0,(o||i)&&n?{url:r.a.redditUrl+"/user/"+s+"/snoo/",languageKey:"profile.contributorSettings.snoovatar"}:void 0,(o||i)&&n?{url:r.a.redditUrl+"/user/"+s+"/about/edit/privacy/",languageKey:"profile.contributorSettings.privacy"}:void 0,(o||i)&&n?{url:"/user/"+s+"/about/edit/moderation",languageKey:"profile.contributorSettings.profileModeration",isInternalLink:!0}:void 0,o?void 0:{url:r.a.redditUrl+"/message/compose/?to="+s,languageKey:"profile.options.sendMessage"},!o&&t?{url:r.a.redditUrl+"/user/"+s+"/snoo",languageKey:"profile.options.viewSnoovatar"}:void 0,o?void 0:{url:"https://www.reddithelp.com/en/categories/rules-reporting/account-and-community-restrictions/what-should-i-do-if-i-see-something-i",languageKey:"profile.options.reportUser"}])}(u);if(0===m.length)return null;var h=(l?m:[]).map(function(e){return e.isInternalLink?i()(E.a,{to:e.url,className:D.a.menuItem},e.url,Object(p.a)(o,e.languageKey)):i()(M.a,{href:e.url,isSponsored:!1,source:void 0,className:D.a.menuItem},e.url,Object(p.a)(o,e.languageKey))});this.state.expanded&&this.isLoadingMods()&&(h.unshift(i()("div",{className:D.a.menuItem},"loading-1",i()(z,{gradientType:"posts",isLoading:this.props.areModeratedSubredditsPending}))),h.unshift(i()("div",{className:D.a.menuItem},"loading-2",i()(z,{gradientType:"posts",isLoading:this.props.areModeratedSubredditsPending}))));var f=l?Object(p.a)(o,"profile.options.fewerOptions"):Object(p.a)(o,"profile.options.moreOptions");return i()(B,{className:D.a.container},void 0,h,i()("div",{className:D.a.expandContainer},void 0,i()(g.j,{className:D.a.expandButton,onClick:this.moreOptionsToggled},void 0,f)))}}]),t}(d.a.Component),K=Object(c.connect)(H,function(e,t){var n=t.profileName;return{onModeratorsRequested:function(){return e(Object(N.h)(n))}}})(W);var U=n("./src/reddit/components/ProfileIdCard/index.m.less"),q=n.n(U),V=Object(a.createStructuredSelector)({account:y.j,activeTooltipId:v.a,currentUserHasSubreddit:y.g,hideNSFWPref:y.w,isModerator:b.c,language:y.I,profile:b.g,profileAboutInfo:b.e,structuredStyle:function(e,t){return Object(x.k)(e,Object(b.i)(e,t.profileName))},userHasSubreddit:function(e,t){var n=t.profileName;return Object(y.U)(e,{userName:n})},userInChat:f.d.userInChat,user:function(e,t){var n=t.profileName;return Object(y.T)(e,{userName:n})}}),G="\n  padding: 4px 16px 4px;\n  width: 100%;\n  line-height: 17px;\n",J=u()(g.d).withConfig({componentId:"s9t5g8-0"})(["",""],G),Y=u()(g.g).withConfig({componentId:"s9t5g8-1"})(["",""],G),Z=u()(g.e).withConfig({componentId:"s9t5g8-2"})(["",""],G),Q=u()(g.f).withConfig({componentId:"s9t5g8-3"})(["",""],G),X=function(e){var t=e.username,n=e.language,o=e.currentUserHasSubreddit;return i()("div",{className:q.a.actionItem},void 0,i()(Q,{to:o?"/user/"+t+"/submit":"/submit"},void 0,Object(p.a)(n,"profile.newPost")))},$=function(e){var t=e.profileName,n=e.onToggleFollow,o=e.language,r=e.userIsSubscriber;return i()("div",{className:q.a.actionItem},void 0,r?i()(Y,{onClick:function(){return n(t,r)}},void 0,Object(p.a)(o,"profile.unfollow")):i()(J,{onClick:function(){return n(t,r)}},void 0,Object(p.a)(o,"profile.follow")))},ee=function(e){var t=e.userId,n=e.language;return i()("div",{className:q.a.actionItem},void 0,i()(Z,{target:"_blank",href:r.a.redditUrl+"/chat/user_id/"+t},void 0,Object(p.a)(n,"profile.chat")))};t.a=Object(c.connect)(V,function(e){return{onToggleFollow:function(t,n){return e(Object(m.g)({name:t,type:"profile"},!n))}}})(function(e){var t=e.account,n=e.currentUserHasSubreddit,o=e.hideNSFWPref,s=e.isModerator,c=e.isOverlay,a=e.isSubmissionPage,l=e.language,u=e.onToggleFollow,p=e.profile,m=e.profileAboutInfo,g=e.structuredStyle,f=e.userHasSubreddit,b=e.userInChat,x=e.user;if(!x)return null;var v=x.id,y=x.username,O=x.isGold,w=x.accountIcon,C=x.url,j=x.prefShowSnoovatar,I=!!t&&t.id===v,k=g&&g.bannerBackgroundImage,S=p&&p.isNSFW&&o,_=!(!m||!m.userIsSubscriber);return i()(h.a,{isGold:O,isOverlay:c,publicDescription:m?m.publicDescription:void 0,title:p?p.title:void 0,url:C,username:y,language:l,actions:i()(d.a.Fragment,{},void 0,I&&!a&&X({username:y,language:l,currentUserHasSubreddit:n}),!I&&f&&$({profileName:y,onToggleFollow:u,userIsSubscriber:_,language:l}),!!t&&!I&&b&&ee({userId:v,language:l})),footer:i()(K,{hasSubreddit:f,isModerator:s,isOwnProfile:I,allowViewSnoovatar:j,profileName:y}),profileIcon:S?r.a.assetPath+"/img/avatar_over18_square.png":w,bannerBackgroundImage:S?void 0:k})})},"./src/reddit/components/RichTextEditor/Placeholder.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=(n("./node_modules/react/index.js"),n("./bundled-modules/styled-components/styled-components.min.js")),s=n.n(r),d=n("./src/reddit/components/FocusableContent/index.tsx"),c=n("./src/reddit/constants/componentSizes.ts"),a=n("./src/reddit/helpers/styles/components/index.tsx"),l=n("./src/reddit/helpers/styles/mixins/loading.ts"),u=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),p=s.a.div.withConfig({componentId:"s10mcswk-0"})([";height: ","px;padding: ","px ","px;"],c.t,c.u,c.v),m=s()(Object(a.a)()).withConfig({componentId:"s10mcswk-1"})(["","height: 21px;width: 165px;"],l.a),h=s()(Object(a.a)()).withConfig({componentId:"s10mcswk-2"})(["","background-color: ",";height: ","px;"],l.a,function(e){return Object(u.c)(e).bodyText},c.w),g=s()(h).withConfig({componentId:"s10mcswk-3"})(["border-radius: 4px 4px 0px 0px;"]),f=s()(h).withConfig({componentId:"s10mcswk-4"})(["border-radius: 0px 0px 4px 4px;"]);t.a=function(e){var t=e.className,n=e.gradientType,o=e.isLoading,r=e.toolbarPosition;return i()("div",{className:t},void 0,i()(d.a,{isFocused:!1},void 0,"top"===r?i()(g,{gradientType:n,isLoading:o}):null,i()(p,{},void 0,i()(m,{isLoading:!0,gradientType:n})),"bottom"===r?i()(f,{gradientType:n,isLoading:o}):null))}},"./src/reddit/components/RichTextJson/SpoilerText.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(r),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=n.n(d),a=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),l=n.n(a),u=n("./node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("./node_modules/react/index.js"),h=n.n(m),g=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/reselect/lib/index.js"),b=n("./bundled-modules/styled-components/styled-components.min.js"),x=n.n(b),v=n("./src/app/strings/index.ts"),y=n("./src/higherOrderComponents/addOverlayEvents.tsx"),O=n("./src/higherOrderComponents/asTooltip.tsx"),w=n("./src/reddit/components/InfoTextTooltip/index.tsx"),C=n("./src/reddit/contexts/InsideOverlay.tsx"),j=n("./src/reddit/helpers/getOverlayContainerById/index.ts"),I=n("./src/reddit/selectors/user.ts"),k=["left","top"],S=["left","bottom"],_=x.a.span.withConfig({componentId:"jtcmxq-0"})(["opacity: 0;transition: opacity ease-out 1s;"]),P=x.a.span.withConfig({componentId:"jtcmxq-1"})(["// Workaround for chrome to fix tooltip position when\n// spoiler text starts with space\n&:before {content: '';position: absolute;visibility: hidden;}"]),T=x.a.span.withConfig({componentId:"jtcmxq-2"})(["border-radius: 2px;transition: background ease-out 1s;",""," {opacity: ",";}"],function(e){return e.isOpen?"\n    background: rgba(84, 84, 82, 0.1);\n  ":"\n    background: #545452;\n    cursor: pointer;\n  "},_,function(e){return e.isOpen?1:0}),N=Object(O.a)(x()(w.a).withConfig({componentId:"jtcmxq-3"})(["animation-duration: .1s;&:after {left: 10px;}"]),[y.a.Click,y.a.Keydown]),E=Object(f.createStructuredSelector)({language:I.I}),M=Object(g.connect)(E),L=function(e){function t(e){s()(this,t);var n=l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tooltipTargetElement=null,n.onClick=function(e){n.state.isOpen||(e.preventDefault(),e.stopPropagation(),n.setState({isOpen:!0}))},n.setTooltipTargetRef=function(e){return n.tooltipTargetElement=e},n.onShowTooltip=function(){n.state.isOpen||n.setState({showTooltip:!0})},n.onHideTooltip=function(){n.setState({showTooltip:!1})},n.state={isOpen:!1,showTooltip:!1},n}return p()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.isOverlay,n=e.language,o=this.state,r=o.isOpen,s=o.showTooltip,d=Object(j.a)(t);return i()(T,{isOpen:r,onMouseEnter:this.onShowTooltip,onMouseLeave:this.onHideTooltip,onClick:this.onClick},void 0,i()(_,{},void 0,i()(P,{innerRef:this.setTooltipTargetRef}),i()(N,{container:d,isOpen:s,tooltipTarget:this.tooltipTargetElement,text:Object(v.a)(n,"posts.spoilerRevealTooltip"),targetPosition:k,tooltipPosition:S}),this.props.children))}}]),t}(h.a.Component);t.a=M(Object(C.b)(L))},"./src/reddit/components/RichTextJson/elements.tsx":function(e,t,n){"use strict";n.d(t,"w",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"h",function(){return h}),n.d(t,"k",function(){return g}),n.d(t,"c",function(){return f}),n.d(t,"j",function(){return b}),n.d(t,"g",function(){return x}),n.d(t,"v",function(){return v}),n.d(t,"i",function(){return y}),n.d(t,"b",function(){return O}),n.d(t,"f",function(){return w}),n.d(t,"u",function(){return C}),n.d(t,"d",function(){return j}),n.d(t,"l",function(){return I}),n.d(t,"m",function(){return k}),n.d(t,"n",function(){return S}),n.d(t,"t",function(){return _}),n.d(t,"p",function(){return T}),n.d(t,"o",function(){return N}),n.d(t,"q",function(){return E}),n.d(t,"s",function(){return M}),n.d(t,"r",function(){return L}),n.d(t,"a",function(){return F});var o=n("./node_modules/babel-runtime/helpers/extends.js"),i=n.n(o),r=n("./node_modules/polished/dist/polished.es.js"),s=n("./node_modules/react/index.js"),d=n.n(s),c=n("./bundled-modules/styled-components/styled-components.min.js"),a=n.n(c),l=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),u=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),p=[a.a.h1.withConfig({componentId:"yklcuq-0"})(["","margin-bottom: 8px;margin-top: 1.4em;"],l.bodyFontH1),a.a.h2.withConfig({componentId:"yklcuq-1"})(["","margin-bottom: 8px;margin-top: 1.4em;"],l.bodyFontH2),a.a.h3.withConfig({componentId:"yklcuq-2"})(["","margin-bottom: 8px;margin-top: 1.4em;"],l.bodyFontH3),a.a.h4.withConfig({componentId:"yklcuq-3"})(["","margin-bottom: 8px;margin-top: 1.4em;"],l.bodyFontH4),a.a.h5.withConfig({componentId:"yklcuq-4"})(["","margin-bottom: 8px;margin-top: 1.4em;"],l.bodyFontH5),a.a.h6.withConfig({componentId:"yklcuq-5"})(["","margin-bottom: 8px;margin-top: 1.4em;"],l.bodyFontH6)],m=a.a.hr.withConfig({componentId:"yklcuq-6"})(["border: 0;border-top: 1px solid ",";height: 1px;margin: 8px 0;"],function(e){return Object(r.e)(Object(u.c)(e).bodyText,.2)}),h=a.a.code.withConfig({componentId:"yklcuq-7"})(["","background: rgba(238, 238, 238, 0.8);color: #FF006D;margin: 0 2px;max-width: 100%;overflow: auto;"],l.bodyFontMono),g=a.a.pre.withConfig({componentId:"yklcuq-8"})(["background: rgba(238, 238, 238, 0.8);display: grid;line-height: 1.4;margin: 4px 0;max-width: 100%;overflow: auto;padding: 8px;> "," {background-color: transparent;color: #222;margin: 0;}"],h),f=a.a.blockquote.withConfig({componentId:"yklcuq-9"})(["border-left: 4px solid ",";margin: 4px 0 4px 8px;padding-left: 8px;"],function(e){return Object(r.e)(Object(u.c)(e).bodyText,.2)}),b=a.a.p.withConfig({componentId:"yklcuq-10"})(["padding: 0.25em 0;&:first-child {padding-top: 0;}&:last-child {padding-bottom: 0;}"]),x=a.a.li.withConfig({componentId:"yklcuq-11"})(["margin: 0.4em 1em;"," {padding: 0;}"],b),v=a.a.ul.withConfig({componentId:"yklcuq-12"})(["list-style: disc outside;margin: 4px 0 4px 8px;& & {list-style-type: circle;}& & & {list-style-type: square;}"]),y=a.a.ol.withConfig({componentId:"yklcuq-13"})(["list-style: decimal outside;margin: 4px 0 4px 8px;& & {list-style-type: lower-alpha;}& & & {list-style-type: lower-roman;}"]),O=a.a.strong.withConfig({componentId:"yklcuq-14"})(["font-weight: 700;"]),w=a.a.em.withConfig({componentId:"yklcuq-15"})(["font-style: italic;"]),C=a.a.span.withConfig({componentId:"yklcuq-16"})(["text-decoration: underline;"]),j=function(e){return d.a.createElement("del",e)},I=a.a.sub.withConfig({componentId:"yklcuq-17"})(["position: relative;bottom: -0.4em;font-size: 0.7em;line-height: 0.7em;"]),k=a.a.sup.withConfig({componentId:"yklcuq-18"})(["position: relative;top: -0.4em;font-size: 0.7em;line-height: 0.7em;"]),S=a.a.table.withConfig({componentId:"yklcuq-19"})(["border: 2px solid #EEEEEE;border-collapse: collapse;display: inline-block;margin-bottom: 4px;margin-top: 4px;overflow-x: auto;word-break: normal;"]),_=a.a.tr.withConfig({componentId:"yklcuq-20"})(["border: 1px solid #EEEEEE;&:nth-child(even) {background-color: ",";}&:nth-child(odd) {background-color: ",";}"],function(e){return Object(r.e)(Object(u.c)(e).body,.8)},function(e){return Object(r.e)(Object(u.c)(e).body,.8)}),P="\n  border: 1px solid #EEEEEE;\n  color: "+function(e){return Object(u.c)(e).bodyText}+";\n  padding: 4px 8px;\n",T=a.a.td.withConfig({componentId:"yklcuq-21"})(["","background-color: ",";text-align: left;"],P,function(e){return Object(r.e)(Object(u.c)(e).body,.8)}),N=a.a.td.withConfig({componentId:"yklcuq-22"})(["","text-align: center;"],P),E=a.a.td.withConfig({componentId:"yklcuq-23"})(["","text-align: right;"],P),M=a.a.th.withConfig({componentId:"yklcuq-24"})(["","text-align: left;"],P),L=a.a.th.withConfig({componentId:"yklcuq-25"})(["","text-align: center;"],P),F=(a.a.th.withConfig({componentId:"yklcuq-26"})(["","text-align: right;"],P),a()(function(e){return d.a.createElement("a",i()({target:"_blank"},e))}).withConfig({componentId:"yklcuq-27"})(["&, &:visited {color: ",";text-decoration: underline;}"],function(e){return Object(u.c)(e).linkText}))},"./src/reddit/components/RichTextJson/index.tsx":function(e,t,n){"use strict";var o,i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(i),s=n("./node_modules/babel-runtime/helpers/createClass.js"),d=n.n(s),c=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),a=n.n(c),l=n("./node_modules/babel-runtime/helpers/inherits.js"),u=n.n(l),p=n("./node_modules/babel-runtime/helpers/jsx.js"),m=n.n(p),h=n("./node_modules/react/index.js"),g=n.n(h),f=n("./bundled-modules/styled-components/styled-components.min.js"),b=n.n(f),x=n("./src/lib/raven/index.ts"),v=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),y=n("./src/reddit/models/RichTextJson/index.ts"),O=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),w=n("./src/app/strings/index.ts"),C=n("./src/reddit/components/HTML5StreamPlayer/index.tsx"),j=n("./src/reddit/components/Media/EmbedBox/index.tsx"),I=n("./src/reddit/components/Media/ImageBox/index.tsx"),k=n("./src/reddit/components/Media/MediaContainer/index.tsx"),S=n("./src/reddit/components/Media/VideoBox/index.tsx"),_=b()(I.a).withConfig({componentId:"mz0fyy-0"})(["margin-top: 16px;"]),P=b()(k.a).withConfig({componentId:"mz0fyy-1"})(["max-width: ",";margin: 16px auto;"],function(e){return e.width+"px"}),T=b()(function(e){return g.a.createElement("p",e)}).withConfig({componentId:"mz0fyy-2"})(["margin-bottom: 16px;font-size: 0.8em;text-align: center;"]),N=b.a.div.withConfig({componentId:"mz0fyy-3"})(["background-color: ",";border-radius: 4px;padding-bottom: 56%; // ~ 16/9 aspect ratio\nposition: relative;width: 100%;margin-bottom: 20px;&:after {bottom: 8px;content: '","';font-size: 0.9em;left: 16px;position: absolute;}"],function(e){return Object(O.c)(e).inactive},function(e){return e.e===y.C?Object(w.a)(e.language,"postCreation.processingVideo"):Object(w.a)(e.language,"postCreation.processingImage")}),E=function(e){var t=e.id,n=e.s;return m()(P,{height:n.y,width:n.x,isListing:!1,showCentered:!0,showFull:!0},void 0,m()(S.a,{height:n.y,isListing:!1,isNotCardView:!0,originalSource:n.mp4,width:n.x,postId:t,source:n.mp4,shouldPause:!1,showCentered:!0,shouldLoad:!0,showFull:!0}))},M=function(e){var t=e.hlsUrl,n=e.dashUrl,o=e.x,i=e.y,r=e.isGif;return m()(P,{height:i,width:o,isListing:!1,showCentered:!0,showFull:!0},void 0,m()(C.b,{shouldLoad:!0,shouldPause:!0,autoPlay:r,hlsSource:t,mpegDashSource:n,isGif:r}))},L=function(e,t){return m()(N,{e:e,language:t})},F=n("./node_modules/babel-runtime/helpers/defineProperty.js"),R=n.n(F),D=n("./node_modules/babel-runtime/helpers/slicedToArray.js"),A=n.n(D),H=n("./node_modules/lodash/reduce.js"),B=n.n(H),z=n("./src/reddit/components/RichTextJson/elements.tsx"),W=n("./src/lib/unicodeUtils/index.ts"),K=n("./src/reddit/components/RichTextJson/SpoilerText.tsx"),U=function(e){for(var t=e.c||[],n=e.l,o=[],i=t.length,r=0;r<i;r++){var s=t[r];o.push(s.e===y.w?s.t:te(s))}var d=z.w[n-1];return m()(d,{},void 0,o)},q=function(){return m()(z.e,{})},V=function(e){var t=e.c;if(t){for(var n=t.length,o=[],i=0;i<n;i++)o.push(Y(t[i]));return m()(z.c,{},void 0,o)}},G=function(e){var t=e.c;return m()(z.k,{},void 0,m()(z.h,{},void 0,t.reduce(function(e,t,n,o){return e+(t.t+(n<o.length?"\n":""))},"")))},J=function(e){for(var t=e.c,n=[],o=t.length,i=0;i<o;i++){var r=t[i].c;r&&r.length&&n.push(m()(z.g,{},void 0,r.map(Y)))}var s=e.o?z.i:z.v;return m()(s,{},void 0,n)},Y=function(e){switch(e.e){case y.b:return V(e);case y.c:return G(e);case y.k:return U(e);case y.l:return q();case y.p:return J(e);case y.u:return X(e);case y.z:return Z(e)}},Z=function(e){for(var t=e.c,n=e.h,o=t.length,i=n.length,r=[],s=[],d=[],c=0;c<i;c++){var a=n[c],l=re(a.a),u=l.H,p=l.D,h=a.c,g=void 0===h?[]:h;r.push(m()(u,{},void 0,$(g))),d[c]=p}for(var f=0;f<o;f++){for(var b=t[f],x=b.length,v=[],y=0;y<x;y++){var O=d[y],w=b[y].c,C=void 0===w?[]:w;v.push(m()(O,{},void 0,$(C)))}s.push(m()(z.t,{},void 0,v))}return m()(z.n,{},void 0,m()("thead",{},void 0,m()(z.t,{},void 0,r)),m()("tbody",{},void 0,s))},Q=m()(z.j,{},void 0,m()("br",{})),X=function(e){return e.c&&e.c.length?m()(z.j,{},void 0,$(e.c)):Q},$=function e(t){for(var n=[],o=t.length,i=0;i<o;i++){var r=t[i];r.e===y.A?n.push(ne(r)):r.e===y.x?n.push(m()(K.a,{},void 0,e(r.c))):r.e===y.n?n.push(m()("br",{})):n.push(te(r))}return n},ee=function(e,t){var n=t+"/"+e.t;return m()(z.a,{href:"/"+n},void 0,(e.l?"/":"")+n)},te=function(e){switch(e.e){case y.o:return m()(z.a,{title:e.a,href:e.u},void 0,ne({t:e.t,f:e.f}));case y.y:return ee(e,"r");case y.B:return ee(e,"u");case y.g:case y.v:return m()(z.a,{href:e.t},void 0,e.t)}},ne=function(e){var t=e.f,n=e.t,o=[];if(!t)return ie(0,n);for(var i=Object(W.a)(n),r=0,s=0,d=t.length;r<d;r++){var c=A()(t[r],3),a=c[0],l=c[1],u=l+c[2],p=i[l],m=i[u]-p;p>s&&o.push(ie(0,n.substr(s,p-s))),o.push(ie(a,n.substr(p,m))),s=p+m}return s<n.length&&o.push(ie(0,n.substr(s))),o},oe=(o={},R()(o,y.j.monospace,z.h),R()(o,y.j.bold,z.b),R()(o,y.j.italic,z.f),R()(o,y.j.underline,z.u),R()(o,y.j.strikethrough,z.d),R()(o,y.j.subscript,z.l),R()(o,y.j.superscript,z.m),o),ie=function(e,t){var n=t;return n=B()(oe,function(t,n,o){return e&parseInt(o,10)?m()(n,{},void 0,t):t},n)},re=function(e){switch(e){case y.f:return{H:z.r,D:z.q};case y.d:return{H:z.r,D:z.o};case y.e:default:return{H:z.r,D:z.p}}},se=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},de=b.a.div.withConfig({componentId:"s1hmcfrd-0"})(["","color: ",";padding: 5px 8px;word-break: break-word;overflow: auto;"],v.bodyFont,function(e){return Object(O.c)(e).bodyText}),ce=function(e){function t(){r()(this,t);var e=a()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.hasError=!1,e.state={hasError:!1},e.renderDefaultFallback=function(){return"Something went wrong"},e}return u()(t,e),d()(t,[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0}),this.logError(e)}},{key:"logError",value:function(e){Object(x.b)(e,{extra:{objectInfo:this.props.renderingObjectInfo},tags:{rtjson:"yes"}})}},{key:"render",value:function(){var e=this.props,t=(e.renderingObjectInfo,e.renderFallback),n=void 0===t?this.renderDefaultFallback:t,o=se(e,["renderingObjectInfo","renderFallback"]);if(this.hasError||this.state.hasError)return n();try{return function(e){var t=e.className,n=e.content,o=e.language,i=e.mediaMetadata,r=("string"==typeof n?JSON.parse(n):n).document;if(!r)return null;for(var s,d,c,a,l,u,p,h,g=[],f=r.length,b=0;b<f;b++){var x=r[b];switch(x.e){case y.k:g.push(U(x));break;case y.l:g.push(q());break;case y.b:g.push(V(x));break;case y.c:g.push(G(x));break;case y.p:g.push(J(x));break;case y.z:g.push(Z(x));break;case y.u:g.push(X(x));break;case y.h:g.push((u=(l=x).c,p=l.x,h=l.y,m()(P,{height:h,width:p,isListing:!1,showCentered:!0,showFull:!0},void 0,m()(j.a,{isListing:!1,source:u,height:h,width:p,showCentered:!0,showFull:!0}))));break;case y.m:case y.a:case y.C:var v=y.D(i,x.id);v?v.e===y.s?g.push((c=(d=v).id,a=d.s,m()(P,{height:a.y,width:a.x,isListing:!1,showCentered:!0,showFull:!0},void 0,m()(_,{originalSource:a.u,postId:c,source:a.u,height:a.y,width:a.x,shouldBlur:!1,showCentered:!0,showFull:!0,isListing:!1})))):v.e===y.r?g.push(E(v)):v.e===y.t&&g.push(M(v)):g.push(L(x.e,o)),x.c&&g.push((s=x.c,m()(T,{},void 0,s)))}}return m()(de,{className:t},void 0,g)}(o)}catch(e){return this.hasError=!0,this.logError(e),n()}}}]),t}(g.a.Component);t.a=ce},"./src/reddit/components/SidebarAd/BaseSidebarAdDoNotUseOrYoureFired.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(r),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=n.n(d),a=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),l=n.n(a),u=n("./node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("./src/app/strings/index.ts"),h=n("./node_modules/react/index.js"),g=n.n(h),f=n("./node_modules/react-redux/es/index.js"),b=n("./src/reddit/components/BannerAd/index.tsx"),x=n("./src/lib/constants/index.ts"),v=n("./src/reddit/components/PostMedia/index.tsx"),y=n("./src/reddit/components/PostTitle/index.tsx"),O=n("./src/reddit/components/PostTopMeta/index.tsx"),w=n("./src/reddit/components/SidebarSectionHeader/index.tsx"),C=n("./src/reddit/helpers/styles/mixins/index.tsx"),j=n("./bundled-modules/styled-components/styled-components.min.js"),I=n.n(j),k=n("./src/lib/getShortenedLink.ts"),S=n("./src/lib/opener/index.ts"),_=n("./src/reddit/actions/ad.ts"),P=n("./src/reddit/components/PostContainer/index.tsx"),T=n("./src/reddit/constants/adEvents.ts"),N=n("./src/reddit/contexts/InsideOverlay.tsx"),E=n("./src/reddit/contexts/PageLayer/index.tsx"),M=n("./src/reddit/controls/OutboundLink/styled.tsx"),L=n("./src/reddit/helpers/adCount/index.ts"),F=n("./src/reddit/helpers/pixels.ts"),R=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),D=n("./src/reddit/icons/fonts/OutboundLink/index.tsx"),A=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),H=n("./src/reddit/models/Media/index.ts"),B=I()(function(e){return i()("img",{className:e.className,src:e.src})}).withConfig({componentId:"vhpvp7-0"})(["margin: 0 auto;width: 100%;height: 100%;"]),z=function(e){function t(){return s()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.post;if(!e.media)return null;var t=e.media&&!Object(H.z)(e.media)?e.media.content:"",n=e.media.type;if(!t||!n)return null;switch(n){case x.Ja.IMAGE:return i()(B,{src:t});default:return null}}}]),t}(g.a.Component),W=I()(O.d).withConfig({componentId:"k2dz5i-0"})(["","display: block;"],O.e),K=I.a.div.withConfig({componentId:"k2dz5i-1"})(["","background-color: ",";min-width: 300px;&::before {content: '","';color: ",";display: block;","font-weight: 500;}"],C.t,function(e){return Object(A.c)(e).body},Object(m.a)("en","sidebar.sponsored"),function(e){return Object(A.c)(e).actionIcon},w.b),U=I.a.div.withConfig({componentId:"k2dz5i-2"})(["","background-color: ",";"],C.t,function(e){return Object(A.c)(e).body}),q=I()(D.a).withConfig({componentId:"k2dz5i-3"})(["font-size: 13px;padding-left: 3px;vertical-align: middle;"]),V=I.a.div.withConfig({componentId:"k2dz5i-4"})(["display: flex;"]),G=I.a.div.withConfig({componentId:"k2dz5i-5"})(["","align-items: center;display: flex;flex-direction: row;flex-wrap: nowrap;height: 16px;margin: 0 8px 8px;position: relative;"],R.metadataFont),J=I()(y.c).withConfig({componentId:"k2dz5i-6"})(["margin: 0 8px 0px 8px;"]),Y=I.a.div.withConfig({componentId:"k2dz5i-7"})(["margin-top: 8px;"]),Z=I.a.div.withConfig({componentId:"k2dz5i-8"})(["","padding-top: 8px;"],C.u),Q=I()(P.a).withConfig({componentId:"k2dz5i-9"})(["","cursor: pointer;"],function(e){return e.post.isMediaOnly?"":"\n        "+C.v+"\n        "+O.e+"\n      "}),X=Object(E.t)({isOriginalPage:E.A,pageLayer:function(e){return e}}),$=function(e,t){Object(F.a)(t.events,T.a.Click),t.source?t.source.outboundUrl?Object(S.b)(t.source.outboundUrl,S.a.BLANK):Object(S.b)(t.source.url,S.a.BLANK):Object(S.b)(t.permalink,S.a.BLANK)},ee=function(e){return t=e.title,n=100,t.length>n?t.slice(0,n-1).replace(/\s*$/,"")+"…":t;var t,n},te=function(e){function t(){s()(this,t);var e=l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.refreshedAt=1/0,e}return p()(t,e),c()(t,[{key:"refresh",value:function(e){this.refreshedAt=Date.now(),this.props.refreshSidebarPromotedPost()}},{key:"componentDidMount",value:function(){this.refreshedAt=Date.now()}},{key:"componentWillReceiveProps",value:function(e){this.props.refreshKey!==e.refreshKey&&Date.now()-this.refreshedAt>6e3&&this.refresh(e)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.className,o=e.eventFactory,r=e.isOverlay,s=t.isMediaOnly?K:U,d=void 0;return d=t.isMediaOnly?i()(z,{post:t}):i()(Z,{},void 0,i()(G,{},void 0,i()(W,{tooltipType:r?O.c.Lightbox:void 0,language:x.A,post:t,showSponsorIcon:!0,hideSource:!0,showTimestamp:!1})),i()(J,{post:t,size:y.b.Large,format:ee}),t.source&&i()(V,{},void 0,i()(M.a,{href:t.source.url,isSponsored:!0,source:t.source},void 0,Object(k.a)(t),i()(q,{}))),i()(Y,{},void 0,t.media&&i()(v.a,{isListing:!0,isNotCardView:!0,showCentered:!0,post:t,availableWidth:640,shouldLoad:!0}))),i()(s,{},void 0,i()(Q,{className:n,post:t,onClick:$,eventFactory:o},void 0,d))}}]),t}(g.a.Component),ne=Object(f.connect)(null,function(e,t){return{refreshSidebarPromotedPost:function(){var n=t.placement,o=t.placementIndex,i=t.isOverlay;e(Object(_.h)(Object(L.a)(n,!!i,o)))}}})(X(Object(N.b)(te))),oe=n("./src/reddit/components/SidebarSpacer/index.tsx"),ie=n("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),re=n("./node_modules/reselect/lib/index.js"),se=Object(re.createStructuredSelector)({post:function(e,t){var n=t.placement,o=t.placementIndex,i=!!t.isOverlay;return e.sidebarPromotedPosts.models[Object(L.a)(n,i,o)]},pending:function(e){return!e.sidebarPromotedPosts.firstFetch}}),de=Object(f.connect)(se),ce=Object(E.t)(),ae=I()(b.a).withConfig({componentId:"s9i6gcs-0"})(["min-height: 270px;min-width: 300px;&::before {content: '","';color: inherit;display: block;","font-weight: 500;}"],Object(m.a)("en","sidebar.sponsored"),w.b),le=I()(ie.a).withConfig({componentId:"s9i6gcs-1"})(["padding: 6px;"]),ue=I.a.div.withConfig({componentId:"s9i6gcs-2"})(["min-height: 270px;min-width: 300px;&::before {content: '","';color: inherit;display: block;","font-weight: 500;}"],Object(m.a)("en","sidebar.sponsored"),w.b),pe=function(e){function t(){return s()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.pending,o=e.post,r=e.isOverlay,s=e.placementIndex,d=e.refreshKey,c=e.listingName,a=e.placement,l=e.sizes,u=e.position;return e.forcePlaceholder||n?i()(oe.a,{},void 0,i()(le,{className:t,contentOnly:!0},void 0,i()(ue,{}))):function(e){return!(!e||e.isBlank||e.isMediaOnly&&!(e.media&&Object(H.w)(e.media)&&e.media.content))}(o)?i()(oe.a,{},void 0,i()(ne,{post:o,refreshKey:d,listingName:c,placement:a,placementIndex:s})):i()(oe.a,{},void 0,i()(le,{className:this.props.className,contentOnly:!0},void 0,i()(ae,{id:function(e,t,n){var o="";return t&&(o+="overlay-"),o+="sidebar-"+e,null!=n&&(o+="-"+n),o}(a,r,s),sizes:l,placement:a,listingName:c,refreshKey:d,position:u})))}}]),t}(g.a.Component);t.a=ce(de(pe))},"./src/reddit/components/StructuredStyles/BladeDrawerController/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/lodash/values.js"),s=n.n(r),d=n("./node_modules/react/index.js"),c=n.n(d),a=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/reselect/lib/index.js"),u=n("./bundled-modules/styled-components/styled-components.min.js"),p=n.n(u),m=n("./src/app/strings/index.ts"),h=n("./src/higherOrderComponents/makeAsync.tsx"),g=n("./src/lib/loadWithRetries/index.ts"),f=n("./src/reddit/components/StructuredStyles/StyledComponents/forms.ts"),b=n("./src/reddit/constants/componentSizes.ts"),x=n("./src/reddit/constants/zIndex.ts"),v=n("./src/reddit/helpers/styles/components/index.tsx"),y=n("./src/reddit/helpers/styles/mixins/loading.ts"),O=n("./src/reddit/icons/svgs/Chevron/index.tsx"),w=n("./src/reddit/icons/svgs/Close/index.tsx"),C=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),j=n("./src/reddit/selectors/moderatorPermissions.ts"),I=n("./src/reddit/selectors/structuredStyles.ts"),k=n("./src/reddit/selectors/user.ts"),S=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},_=p.a.div.withConfig({componentId:"s1gvlfdj-0"})(["background-color: ",";width: ","px;box-sizing: border-box;box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.08);height: 100%;overflow: auto;position: fixed;left: 0;top: 0;z-index: ",";"],function(e){return Object(C.c)(e).body},b.c,x.f),P=p()(Object(v.a)()).withConfig({componentId:"s1gvlfdj-1"})(["position: relative;margin-left: ","px;"],b.c),T=p()(w.a).withConfig({componentId:"s1gvlfdj-2"})(["position: absolute;top: 18px;right: 12px;height: 16px;width: 16px;fill: ",";"],function(e){return Object(C.c)(e).actionIcon}),N=p.a.div.withConfig({componentId:"s1gvlfdj-3"})(["border-bottom: 2px solid ",";margin-bottom: 8px;padding-bottom: 8px;"],function(e){return Object(C.c)(e).line}),E=p()(Object(v.a)()).withConfig({componentId:"s1gvlfdj-4"})(["","height: 22px;width: 100%;"],y.a),M=p.a.div.withConfig({componentId:"s1gvlfdj-5"})(["align-items: center;border-bottom: 1px solid ",";justify-content: space-between;display: flex;"],function(e){return Object(C.c)(e).line}),L=p.a.div.withConfig({componentId:"s1gvlfdj-6"})(["","height: 20px;margin-bottom: 12px;margin-top: 12px;width: 125px;"],y.a),F=p.a.div.withConfig({componentId:"s1gvlfdj-7"})(["","height: 20px;margin-bottom: 12px;margin-top: 12px;width: 75px;"],y.a),R=p()(O.a).withConfig({componentId:"s1gvlfdj-8"})(["fill: ",";height: 16px;width: 16px;"],function(e){return Object(C.c)(e).actionIcon}),D=function(e){var t=e.language,n=S(e,["language"]);return i()(_,{},void 0,i()(T,{}),i()(f.k,{},void 0,i()(f.o,{},void 0,Object(m.a)(t,"structuredStyles.forms.main.title")),i()(f.n,{},void 0,i()(N,{},void 0,c.a.createElement(E,n)),i()(M,{},void 0,c.a.createElement(L,n),i()(R,{})),i()(M,{},void 0,c.a.createElement(F,n),i()(R,{})),i()(M,{},void 0,c.a.createElement(L,n),i()(R,{})),i()(M,{},void 0,c.a.createElement(F,n),i()(R,{})),i()(M,{},void 0,c.a.createElement(L,n),i()(R,{})))))},A=Object(h.a)({getComponent:function(){return Object(g.a)(function(){return Promise.all([n.e("vendors~Chat~CommentsPage~ModerationPages~PostCreation~RedesignChat~RichTextEditor~StructuredStyles~~96f4d9fe"),n.e("vendors~GiftsEditProfile~GiftsGiftCreation~GiftsGiftEdit~GiftsShipExchange~PostCreation~Settings~Str~9b7e9e22"),n.e("CommentsPage~Frontpage~ModerationPages~PostCreation~PostDraft~SearchResults~StructuredStyles~Subredd~4d3de1e9"),n.e("PartnerSubredditConnection~PostCreation~StructuredStyles"),n.e("StructuredStyles")]).then(n.bind(null,"./src/reddit/components/StructuredStyles/BladeDrawer/index.tsx"))}).then(function(e){return e.default})},ErrorComponent:function(e){var t=e.language;return i()(D,{gradientType:"posts",isLoading:!1,language:t})},LoadingComponent:function(e){var t=e.language;return i()(D,{gradientType:"posts",isLoading:!0,language:t})}}),H=Object(l.createStructuredSelector)({isEditing:I.i,language:k.I,moderatorPermissions:j.f});t.a=Object(a.connect)(H)(function(e){var t=e.moderatorPermissions&&s()(e.moderatorPermissions).some(function(e){return e});if(!e.moderatorPermissions||!t)return i()(d.Fragment,{},void 0,e.children);var n=e.isEditing?P:d.Fragment;return i()(n,{},void 0,e.children,e.isEditing&&i()(A,{language:e.language,subredditId:e.subredditId}))})},"./src/reddit/components/StructuredStyles/StyledComponents/forms.ts":function(e,t,n){"use strict";n.d(t,"k",function(){return c}),n.d(t,"o",function(){return a}),n.d(t,"n",function(){return l}),n.d(t,"m",function(){return u}),n.d(t,"l",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"h",function(){return h}),n.d(t,"a",function(){return g}),n.d(t,"g",function(){return f}),n.d(t,"i",function(){return b}),n.d(t,"e",function(){return x}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return O}),n.d(t,"j",function(){return w});var o=n("./bundled-modules/styled-components/styled-components.min.js"),i=n.n(o),r=n("./src/reddit/constants/colors.ts"),s=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),d=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),c=i.a.section.withConfig({componentId:"i6c1k7-0"})(["padding: 12px;padding-bottom: 40px;"]),a=i.a.h1.withConfig({componentId:"i6c1k7-1"})(["","color: ",";margin-bottom: 40px;padding-top: 4px;"],s.titleFontH4,function(e){return Object(d.c)(e).bodyText}),l=i.a.div.withConfig({componentId:"i6c1k7-2"})(["margin-bottom: 32px;"]),u=i.a.h1.withConfig({componentId:"i6c1k7-3"})(["","border-bottom: 2px solid ",";color: ",";margin-bottom: 8px;padding-bottom: 8px;"],s.titleFontH3,function(e){return Object(d.c)(e).line},function(e){return Object(d.c)(e).bodyText}),p=i.a.div.withConfig({componentId:"i6c1k7-4"})(["margin-bottom: 24px;"]),m=i.a.div.withConfig({componentId:"i6c1k7-5"})(["border-bottom: 1px solid ",";margin-bottom: 8px;padding-bottom: 2px;&:last-of-type {border-bottom-width: 0;}"],function(e){return Object(d.c)(e).line}),h=i.a.h2.withConfig({componentId:"i6c1k7-6"})(["","color: ",";padding-bottom: 8px;padding-top: 8px;"],s.titleFontH5,function(e){return Object(d.c)(e).bodyText}),g=i.a.div.withConfig({componentId:"i6c1k7-7"})(["padding: 8px 0;"]),f=i.a.div.withConfig({componentId:"i6c1k7-8"})(["","color: ",";margin-bottom: 8px;"],s.metadataFont,function(e){return Object(d.c)(e).actionIcon}),b=i.a.div.withConfig({componentId:"i6c1k7-9"})(["margin-bottom: 8px;"]),x=i.a.h3.withConfig({componentId:"i6c1k7-10"})(["","color: ",";"],s.titleFontH6,function(e){return Object(d.c)(e).actionIcon}),v=i.a.div.withConfig({componentId:"i6c1k7-11"})(["","color: ",";"],s.metadataFont,function(e){return Object(d.c)(e).actionIcon}),y=i.a.div.withConfig({componentId:"i6c1k7-12"})(["","color: ",";"],s.metadataFont,r.a.warning),O=i.a.div.withConfig({componentId:"i6c1k7-13"})(["margin-top: 24px;"]),w=i.a.li.withConfig({componentId:"i6c1k7-14"})(["","color: ",";margin-bottom: 8px;"],s.metadataFont,function(e){return Object(d.c)(e).actionIcon})},"./src/reddit/components/SubredditNav/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/react/index.js"),s=n.n(r),d=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/reselect/lib/index.js"),a=n("./src/reddit/contexts/PageLayer/index.tsx"),l=n("./src/reddit/featureFlags/component.tsx"),u=n("./src/reddit/selectors/user.ts"),p=n("./src/reddit/selectors/widgets.ts"),m=n("./bundled-modules/styled-components/styled-components.min.js"),h=n.n(m),g=n("./src/app/strings/index.ts"),f=n("./src/reddit/actions/subreddit.ts"),b=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),x=n("./node_modules/react-router-dom/es/index.js"),v=n("./src/reddit/constants/zIndex.ts"),y=n("./src/reddit/helpers/styles/components/index.tsx"),O=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),w=n("./src/reddit/icons/svgs/Dropdown/index.tsx"),C=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},j=function(e){return e.isActive?Object(b.c)(e).navBar.activeLink:Object(b.c)(e).navBar.inactiveLink},I=Object(m.css)(["","","display: inline-block;padding-bottom: ",";padding-top: 4px;&:first-child {margin-left: 0;}"],O.tabFont,function(e){return"\n    "+(e.isActive&&"border-bottom: 3px solid "+j(e))+";\n    color: "+j(e)+";\n  "},function(e){return e.isActive?"1px":"4px"}),k=h()(w.b).withConfig({componentId:"s18lsqou-0"})(["fill: ",";"],function(e){return j(e)}),S=h()(function(e){var t=e.children,n=(e.isActive,C(e,["children","isActive"]));return s.a.createElement("div",n,i()("span",{},void 0,t),i()(k,{}))}).withConfig({componentId:"s18lsqou-1"})(["","padding-left: 8px;"],I),_=Object(m.css)(["","margin: 0px 5px;padding-left: 8px;padding-right: 8px;&:hover {color: ",";",""],I,function(e){return Object(b.c)(e).navBar.hoverLink},function(e){return"\n      "+(e.isActive&&"border-bottom: 3px solid "+Object(b.c)(e).navBar.hoverLink)+"; }\n      "}),P=h()(function(e){e.isActive;var t=C(e,["isActive"]);return s.a.createElement("a",t)}).withConfig({componentId:"s18lsqou-2"})(["",""],_),T=h()(function(e){e.isActive;var t=C(e,["isActive"]);return s.a.createElement(x.a,t)}).withConfig({componentId:"s18lsqou-3"})(["",""],_),N=h.a.a.withConfig({componentId:"s18lsqou-4"})(["","color: ",";display: block;padding: 12px 16px;border-bottom: 1px solid ",";white-space: nowrap;&:hover {color: ",";background-color: ",";}&:last-child {border-bottom: none;}"],O.titleFontH5,function(e){return Object(b.c)(e).metaText},function(e){return j(e)},function(e){return Object(b.c)(e).navBar.submenuBackgroundColor},function(e){return Object(b.c)(e).navBar.hoverLink}),E=h.a.div.withConfig({componentId:"s18lsqou-5"})(["cursor: pointer;display: inline-block;position: relative;"]),M=h()(Object(y.a)()).withConfig({componentId:"s18lsqou-6"})(["background-color: ",";border-radius: 4px;border-top-width: 0;box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);display: ",";left: 0;min-width: 100%;overflow: hidden;position: absolute;top: 100%; /* Accounts for container padding */z-index: ",";"],function(e){return Object(b.c)(e).navBar.submenuBackgroundColor},function(e){return e.isOpen?"block":"none"},v.h),L=h()(T).withConfig({componentId:"s14rbsf4-0"})(["color: ",";"],function(e){return Object(b.c)(e).navBar.activeLink});var F=Object(c.createStructuredSelector)({language:function(e){return e.user.language},isActive:function(e,t){return!!e.subreddits.appliedFilters.meta[t.subredditId]},subreddit:function(e,t){return e.subreddits.models[t.subredditId]}}),R=Object(a.t)()(Object(d.connect)(F,function(e,t){return{onTurnOnMetaFilter:function(){return e(Object(f.v)({subredditId:t.subredditId,forceState:!0}))}}})(function(e){var t=e.pageLayer,n=e.subreddit;return n?i()(L,{to:n.url,isActive:e.isActive,onClick:function(n){Object(a.F)(t)&&n.preventDefault(),e.onTurnOnMetaFilter()}},void 0,Object(g.a)(e.language,"header.metaFilter")):null})),D=n("./src/lib/linkMatchers/index.ts"),A=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),H=n.n(A),B=n("./node_modules/babel-runtime/helpers/createClass.js"),z=n.n(B),W=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),K=n.n(W),U=n("./node_modules/babel-runtime/helpers/inherits.js"),q=n.n(U),V=function(e){function t(){H()(this,t);var e=K()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isOpen:!1},e.handleOpen=function(t){return e.setState(function(){return{isOpen:!0}})},e.handleClose=function(t){return e.setState(function(){return{isOpen:!1}})},e}return q()(t,e),z()(t,[{key:"render",value:function(){var e=this.props,t=this.state;return i()(E,{onClick:this.handleOpen,onMouseLeave:this.handleClose},void 0,i()(S,{isActive:e.isActive},void 0,e.label),i()(M,{isOpen:t.isOpen,"aria-hidden":!t.isOpen,role:"list"},void 0,e.children))}}]),t}(s.a.Component),G=function(e){var t=e.url&&Object(D.e)(D.c,e.url);return t?t.url:e.url},J=function(e){return e.menuItem.url?i()(P,{href:G(e.menuItem),isActive:!!e.isActive},void 0,e.menuItem.text):i()(V,{isActive:!!e.isActive,label:e.menuItem.text},void 0,e.menuItem.children&&e.menuItem.children.map(function(e){return i()(N,{role:"listitem",href:G(e),target:"_blank",rel:"nofollow"},e.text+"-"+G(e),e.text)}))},Y=h()(P).withConfig({componentId:"y9oab5-0"})(["color: ",";"],function(e){return Object(b.c)(e).navBar.activeLink});var Z=Object(c.createStructuredSelector)({language:function(e){return e.user.language},isActive:function(e,t){return!e.subreddits.appliedFilters.meta[t.subredditId]}}),Q=Object(d.connect)(Z,function(e,t){return{onTurnOffMetaFilter:function(){return e(Object(f.v)({subredditId:t.subredditId,forceState:!1}))}}})(function(e){return i()(Y,{href:e.homeUrl,isActive:e.isActive,onClick:function(t){e.isActive||(t.preventDefault(),e.onTurnOffMetaFilter())}},void 0,Object(g.a)(e.language,"structuredStyles.forms.menuLinks.homeLinkLabel"))}),X=n("./src/reddit/constants/postLayout.ts"),$=n("./src/reddit/constants/screenWidths.ts"),ee=n("./src/reddit/models/Theme/index.ts"),te=h.a.div.withConfig({componentId:"s1h57n9e-0"})(["margin: 0 auto;position: ",";bottom: 0;left: 0;right: 0;background: ",";"],function(e){return Object(b.c)(e).navBar.useOverlay?"absolute":"static"},function(e){return Object(ee.g)(Object(b.c)(e).navBar.backgroundColor,Object(b.c)(e).navBar.backgroundImage,"tiled")}),ne=h.a.div.withConfig({componentId:"s1h57n9e-1"})(["margin: 0 auto;min-width: 260px;@media(min-width: ","px) {padding: 0 16px;}"],$.h),oe=function(e){return i()(te,{className:e.className},void 0,i()(ne,{style:{maxWidth:e.disableFullscreen||e.layout===X.e.Large?(e.maxWidth||$.b)+"px":"100%"}},void 0,e.children))},ie=Object(l.a)("governance",R),re=Object(a.t)(),se=Object(c.createStructuredSelector)({language:u.I,layout:a.J,widget:p.e}),de=Object(d.connect)(se);t.a=re(de(function(e){return i()(oe,{layout:e.layout,disableFullscreen:e.disableFullscreen,maxWidth:e.maxWidth},void 0,i()(Q,{homeUrl:e.homeUrl,subredditId:e.subredditId}),e.subredditId&&i()(ie,{subredditId:e.subredditId}),e.widget&&e.widget.data.map(function(e){return i()(J,{menuItem:e,isActive:!1},e.text)}))}))},"./src/reddit/components/SubscribeButton/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/react/index.js"),s=n.n(r),d=n("./bundled-modules/styled-components/styled-components.min.js"),c=n.n(d),a=n("./src/app/strings/index.ts"),l=n("./src/reddit/components/TrackingHelper/index.tsx"),u=n("./src/reddit/connectors/SubscribeButton/index.ts"),p=n("./node_modules/react-redux/es/index.js"),m=n("./node_modules/reselect/lib/index.js"),h=n("./src/reddit/actions/subscription.ts"),g=n("./src/reddit/selectors/user.ts"),f=Object(m.createStructuredSelector)({language:g.I}),b=Object(p.connect)(f,function(e,t){var n=t.widget.id||void 0;return{onSubscribe:function(){return e(h.g(t.identifier,!0,n))},onUnsubscribe:function(){return e(h.g(t.identifier,!1,n))}}}),x=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),v=n("./src/reddit/controls/Button/index.tsx");n.d(t,"a",function(){return S});var y=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},O=function(e){return"subreddit"===e.type?"subredditActions":"profileActions"},w="\n  "+x.smallButtonFont+"\n  padding: 4px 9px 2px;\n  width: 100%;\n",C="\n  "+x.largeButtonFont+"\n  padding: 0 16px;\n",j=c()(function(e){var t=e.border,n=(e.small,y(e,["border","small"]));return t?s.a.createElement(v.d,n):s.a.createElement(v.j,n)}).withConfig({componentId:"s8se2bm-0"})(["",""],function(e){return e.small?w:C}),I=c()(function(e){var t=e.border,n=(e.language,e.small,e.type,y(e,["border","language","small","type"]));return t?s.a.createElement(v.g,n):s.a.createElement(v.j,n)}).withConfig({componentId:"s8se2bm-1"})(["","&::after {content: '","';}&:hover {&::after {content: '","';}}"],function(e){return e.small?w:C},function(e){return Object(a.a)(e.language,"subscriptions."+O(e)+".subscribed")},function(e){return Object(a.a)(e.language,"subscriptions."+O(e)+".unsubscribe")}),k=function(e){var t=e.border,n=void 0===t||t,o=e.className,r=e.id,s=e.language,d=e.sendEvent,c=e.small,l=void 0!==c&&c,u=function(t){if(e.userIsSubscriber?e.onUnsubscribe():e.onSubscribe(),e.onClick&&e.onClick(t),e.getEventFactory){var n=e.getEventFactory(e.userIsSubscriber);n&&d(n)}};return e.userIsSubscriber?i()(I,{border:n,className:o,language:s,onClick:u,small:l,type:e.identifier.type}):i()(j,{border:n,className:o,id:r,onClick:u,small:l},void 0,Object(a.a)(s,"subscriptions."+O(e.identifier)+".subscribe"))},S=b(k);t.b=Object(u.a)(Object(l.b)(k))},"./src/reddit/components/Widgets/CommunityList/SubredditList.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return T}),n.d(t,"a",function(){return N});var o=n("./node_modules/babel-runtime/helpers/extends.js"),i=n.n(o),r=n("./node_modules/babel-runtime/helpers/jsx.js"),s=n.n(r),d=n("./src/app/strings/index.ts"),c=n("./node_modules/react/index.js"),a=n.n(c),l=n("./node_modules/react-router-dom/es/index.js"),u=n("./src/reddit/components/SubscribeButton/index.tsx"),p=n("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),m=n("./src/reddit/connectors/connectToLanguage.ts"),h=n("./src/reddit/icons/svgs/CircledPlanet/index.tsx"),g=n("./src/reddit/layout/threeCol/ExpandCenter/index.tsx"),f=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),b=n("./bundled-modules/styled-components/styled-components.min.js"),x=n.n(b),v=n("./src/reddit/components/Widgets/CommunityList/index.m.less"),y=n.n(v),O=x.a.div.withConfig({componentId:"qge3kj-0"})(["height: 32px;"]),w="\n  border-radius: 100%;\n  height: 32px;\n  margin-right: 8px;\n  width: 32px;\n",C=x()(h.a).withConfig({componentId:"qge3kj-1"})(["",";background: ",";box-sizing: border-box;fill: ",";padding: 3px;"],w,function(e){return Object(f.c)(e).active},function(e){return Object(f.c)(e).lightText}),j=x.a.img.withConfig({componentId:"qge3kj-2"})(["",";"],w),I=x.a.div.withConfig({componentId:"qge3kj-3"})(["width: 100%;"]),k=x()(l.a).withConfig({componentId:"qge3kj-4"})(["display: block;font-size: 11px;font-weight: 500;line-height: 16px;overflow: hidden;text-overflow: ellipsis;width: 132px;&:hover {text-decoration: underline;}"]),S=Object(b.css)(["font-size: 10px;font-weight: 500;line-height: 12px;"]),_=x.a.p.withConfig({componentId:"qge3kj-5"})(["",""],S),P=x.a.p.withConfig({componentId:"qge3kj-6"})(["","font-weight: normal;"],S),T=function(e){return s()(p.a,{className:e.className,styles:e.widget&&e.widget.styles,title:e.title},void 0,s()(I,{},void 0,e.communities.map(function(t){return a.a.createElement(N,i()({key:t.name},t,{getSubscribeEventFactory:e.getSubscribeEventFactoryHandler?e.getSubscribeEventFactoryHandler(t):void 0,widget:e.widget,sendEvent:e.sendEvent,type:t.type||"subreddit",onCommunityNameClick:e.getClickEventFactory?function(){return e.sendEvent(e.getClickEventFactory(t))}:void 0}))})))},N=Object(m.a)(function(e){return s()("div",{className:y.a.communityItemContainer},void 0,s()(g.a,{widthRight:100},void 0,s()(O,{},void 0,e.iconUrl?s()(j,{src:e.iconUrl}):s()(C,{"data-redditstyle":!0})),s()("div",{className:y.a.communityDescriptionContainer},void 0,s()(k,{to:(t=e.name,n=e.type,("profile"===n?"/user/":"/r/")+t),onClick:e.onCommunityNameClick},void 0,function(e,t){return("profile"===t?"u/":"r/")+e}(e.name,e.type)),!!e.subscribers&&s()(_,{},void 0,Object(d.c)(e.language,"listings.subscribers",e.subscribers))),e.widget?s()(u.a,{getEventFactory:e.getSubscribeEventFactory,identifier:{name:e.name,type:e.type},sendEvent:e.sendEvent,small:!0,userIsSubscriber:!!e.isSubscribed,widget:e.widget}):s()(u.b,{identifier:{name:e.name,type:e.type},getEventFactory:e.getSubscribeEventFactory,small:!0})),!!e.description&&s()(P,{title:e.description,className:y.a.communityDescription},void 0,e.description));var t,n})},"./src/reddit/components/Widgets/CommunityList/index.m.less":function(e,t,n){e.exports={communityItemContainer:"_3NFddqqrzfM8noBES52Qcy",communityDescriptionContainer:"_3jEbHrUmHtMsZcfN-z_GpD",communityDescription:"_2IANzA2n-6eA5T8Tz0TEVE"}},"./src/reddit/components/Widgets/PostFlair/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(o),r=n("./node_modules/babel-runtime/helpers/createClass.js"),s=n.n(r),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n.n(d),a=n("./node_modules/babel-runtime/helpers/inherits.js"),l=n.n(a),u=n("./node_modules/babel-runtime/helpers/extends.js"),p=n.n(u),m=n("./node_modules/babel-runtime/helpers/jsx.js"),h=n.n(m),g=n("./node_modules/react/index.js"),f=n.n(g),b=n("./node_modules/react-redux/es/index.js"),x=n("./node_modules/reselect/lib/index.js"),v=n("./bundled-modules/styled-components/styled-components.min.js"),y=n.n(v),O=n("./src/app/strings/index.ts"),w=n("./src/reddit/components/Flair/index.tsx"),C=n("./src/reddit/components/TrackingHelper/index.tsx"),j=n("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),I=n("./src/reddit/controls/Button/index.tsx"),k=n("./src/reddit/helpers/correlationIdTracker.ts"),S=n("./src/reddit/helpers/trackers/postFlair.ts"),_=n("./src/reddit/models/Flair/index.ts"),P=n("./src/reddit/selectors/subreddit.ts"),T=n("./src/reddit/selectors/user.ts"),N=Object(x.createStructuredSelector)({language:T.I,subredditId:function(e,t){return Object(P.u)(e,t.subredditName)}}),E=Object(b.connect)(N),M=y.a.div.withConfig({componentId:"o1qera-0"})(["padding-top: 4px;width: 100%;"]),L=y()(I.j).withConfig({componentId:"o1qera-1"})(["display: flex;margin-left: auto;"]),F=y()(function(e){return h()("div",{className:e.className},void 0,f.a.createElement(w.c,p()({},e,{forceSmallEmojis:!0})))}).withConfig({componentId:"o1qera-2"})(["display: ",";margin-bottom: 3px;max-width: ",";overflow: hidden;text-overflow: ellipsis;"],function(e){return"cloud"===e.display?"inline-block":"block"},function(e){return"cloud"===e.display?"97%":"fit-content"}),R=function(e){function t(e){i()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(e){var t={id:n.props.subredditId,eventType:"subreddit",originElement:"post_flair_widget",postFlairName:e};Object(k.d)(k.a.SearchResults),n.props.sendEvent(Object(S.b)(t))},n.onToggleCollapse=function(){return n.setState({isCollapsed:!n.state.isCollapsed})},n.state={isCollapsed:!0},n}return l()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.language,o=t.subredditName,i=t.widget,r=this.state.isCollapsed?i.order.slice(0,25):i.order,s=i.order.length>r.length||!this.state.isCollapsed;return h()(j.a,{styles:i.styles,title:i.shortName},void 0,h()(M,{},void 0,r.map(function(t){return h()(F,{display:i.display,flair:i.templates[t]&&Object(_.g)(i.templates[t]),onClick:e.onClick,subredditName:o},t)}),s&&h()(L,{onClick:this.onToggleCollapse},void 0,this.state.isCollapsed?Object(O.a)(n,"structuredStyles.widgets.post-flair.viewMoreFlair"):Object(O.a)(n,"structuredStyles.widgets.post-flair.viewLessFlair"))))}}]),t}(f.a.Component);t.a=E(Object(C.b)(R))},"./src/reddit/components/Widgets/SubredditRules/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/react/index.js"),s=n.n(r),d=n("./src/app/strings/index.ts"),c=n("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),a=n("./src/reddit/connectors/connectToLanguage.ts"),l=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=n.n(l),p=n("./node_modules/babel-runtime/helpers/createClass.js"),m=n.n(p),h=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),g=n.n(h),f=n("./node_modules/babel-runtime/helpers/inherits.js"),b=n.n(f),x=n("./bundled-modules/styled-components/styled-components.min.js"),v=n.n(x),y=n("./src/reddit/components/RawHTMLDisplay/index.tsx"),O=n("./src/reddit/helpers/dom/index.ts"),w=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),C=n("./src/reddit/icons/svgs/ChevronDown/index.tsx"),j=n("./src/reddit/icons/svgs/ChevronUp/index.tsx"),I=n("./src/reddit/layout/threeCol/ExpandCenter/index.tsx"),k=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),S=n("./src/reddit/models/Widgets/index.ts"),_=Object(x.css)(["display: inline-block;height: 12px;width: 12px;"]),P=v()(j.a).withConfig({componentId:"s1i3808h-0"})(["",""],_),T=v()(C.a).withConfig({componentId:"s1i3808h-1"})(["",""],_),N=v.a.div.withConfig({componentId:"s1i3808h-2"})(["","border-bottom: 1px solid ",";padding: 8px 0px;","&:last-child {border-bottom: none;padding-bottom: 0px;}"],w.titleFontH5,function(e){return Object(k.c)(e).widgetColors.lineColor},function(e){return e.pointerCursor?"cursor: pointer;":""}),E=v.a.div.withConfig({componentId:"s1i3808h-3"})(["padding-right: 2px;"]),M=v.a.div.withConfig({componentId:"s1i3808h-4"})(["padding-right: 8px;"]),L=v.a.div.withConfig({componentId:"s1i3808h-5"})(["","padding: 8px 8px 0px 16px;"],w.bodyFontH6),F=v()(y.a).withConfig({componentId:"s1i3808h-6"})(["color: inherit;"]),R=function(e){function t(e){u()(this,t);var n=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(){Object(O.e)()||n.setState({isVisible:!n.state.isVisible})},n.state={isVisible:n.shouldShowFullDisplay(e)},n}return b()(t,e),m()(t,[{key:"shouldShowFullDisplay",value:function(e){return e.display===S.e.FULL}},{key:"render",value:function(){var e=this.props,t=this.state,n=this.onClick,o=this.shouldShowFullDisplay,r=!o(e)&&!!e.rule.descriptionHtml;return i()(N,{className:e.className,onClick:o(e)||!e.rule.descriptionHtml?void 0:n,pointerCursor:r},void 0,i()(I.a,{},void 0,i()(E,{},void 0,e.humanIndex+"."),i()(M,{},void 0,""+e.rule.shortName),i()("div",{},void 0,!o(e)&&e.rule.descriptionHtml&&(t.isVisible?i()(P,{}):i()(T,{})))),t.isVisible&&i()(L,{},void 0,i()(F,{html:e.rule.descriptionHtml})))}}]),t}(s.a.Component);n.d(t,"a",function(){return D});var D=Object(a.a)(function(e){return e.rules.length>0?i()(c.a,{className:e.className,styles:e.styles,title:Object(d.a)(e.language,"structuredStyles.widgets.subreddit-rules.subredditRules",{subreddit:e.subredditName}),redditStyle:e.redditStyle},void 0,e.rules.map(function(t,n){return i()(R,{rule:t,display:e.display,humanIndex:n+1},"rule"+t.shortName+t.createdUtc)})):null});t.b=function(e){return i()(D,{rules:e.widget.data||[],subredditName:e.subredditName,display:e.widget.display,redditStyle:e.redditStyle,styles:e.widget.styles})}},"./src/reddit/components/Widgets/Widget/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/react/index.js"),s=n.n(r),d=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/reselect/lib/index.js"),a=n("./bundled-modules/styled-components/styled-components.min.js"),l=n.n(a),u=n("./src/reddit/components/RawHTMLDisplay/index.tsx"),p=n("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),m=n("./src/reddit/controls/Button/index.tsx"),h=n("./src/lib/linkMatchers/index.ts"),g=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),f=n("./src/reddit/models/Image/index.tsx"),b=n("./src/reddit/models/NewStructuredStyles/index.ts"),x=n("./src/reddit/models/Widgets/index.ts"),v=n("./src/reddit/selectors/user.ts"),y=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},O="\n  height: "+x.a+"px;\n  margin-top: 8px;\n  width: 100%;\n",w="\n  background-color: transparent;\n  background-image: none;\n  border: 1px solid "+b.b.button+";\n  color: "+b.b.button+";\n",C=function(e){return"\n  background-color: "+(e.fillColor||"transparent")+";\n  background-image: none;\n  border: 1px solid "+e.color+";\n  color: "+(e.textColor||e.color)+";\n"},j=function(e,t){switch(e.kind){case x.f.Image:return"\n        "+O+";\n        \n  border: none;\n  background-position: center;\n;\n        background-image: url('"+e.url+"');\n      ";case x.f.Text:return"\n        "+O+";\n        "+(t?w:C(e))+";\n        .button-text { display: inline }\n      ";default:return""}},I=l()(function(e){var t=e.button,n=(e.isNightmodeOn,y(e,["button","isNightmodeOn"]));return s.a.createElement(m.g,n,t.kind===x.f.Text&&i()("span",{className:"button-text"},void 0,t.text),t.hoverState&&t.hoverState.kind===x.f.Text&&i()("span",{className:"button-hover-text"},void 0,t.hoverState.text))}).withConfig({componentId:"s1q6n0r9-0"})(["",";."," { display: none };&:hover {."," { display: inline };."," { display: none };",";}"],function(e){return j(e.button,e.isNightmodeOn)},"button-hover-text","button-hover-text","button-text",function(e){return function(e,t){if(!e.hoverState)return"\n      "+j(e,t)+"\n    ";switch(e.hoverState.kind){case x.f.Image:return"\n        \n  border: none;\n  background-position: center;\n\n        background-image: url('"+e.hoverState.url+"');\n      ";case x.f.Text:return"\n        "+(t?w:C(e.hoverState))+";\n      ";default:return""}}(e.button,e.isNightmodeOn)}),k=function(e){return i()("a",{href:(t=e.button,n=Object(x.k)(t),o=Object(h.e)(h.c,n),o?o.url:t.url),target:"_blank",rel:"nofollow"},void 0,i()(I,{button:e.button,isNightmodeOn:e.isNightmodeOn}));var t,n,o},S=l()(u.a).withConfig({componentId:"s1q6n0r9-1"})(["","padding-top: 8px;color: inherit;h1, h2, h3, h4, h5, h6 {&:first-child {margin-top: 0;}}"],g.bodyFontSmall),_=Object(d.connect)(function(){return Object(c.createStructuredSelector)({isNightmodeOn:v.K})})(function(e){return i()(p.a,{styles:e.widget.styles,title:e.widget.shortName},void 0,e.widget.descriptionHtml&&i()(S,{html:e.widget.descriptionHtml}),e.widget.buttons.filter(function(e){return!(e.kind===x.f.Image&&e.url===f.c||e.hoverState&&e.hoverState.kind===x.f.Image&&e.hoverState.url===f.c)}).map(function(t){return i()(k,{button:t,isNightmodeOn:e.isNightmodeOn},t.text+"-"+t.url)}))}),P=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),T=n.n(P),N=n("./node_modules/babel-runtime/helpers/createClass.js"),E=n.n(N),M=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),L=n.n(M),F=n("./node_modules/babel-runtime/helpers/inherits.js"),R=n.n(F),D=n("./src/app/strings/index.ts"),A=n("./src/lib/humanizeDate/index.ts"),H=n("./src/reddit/controls/TextButton/index.tsx"),B=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),z={isExpanded:!1},W=l()(u.a).withConfig({componentId:"s12jr8h7-0"})(["color: inherit;"]),K=l.a.div.withConfig({componentId:"s12jr8h7-1"})(["border-bottom: 1px solid ",";margin-bottom: 8px;padding-bottom: 8px;&:last-child {border-bottom: none;}"],function(e){return Object(B.c)(e).widgetColors.lineColor}),U=l.a.div.withConfig({componentId:"s12jr8h7-2"})(["","color: ",";margin-bottom: 4px;word-wrap: break-word;"],g.bodyFontH5,function(e){return Object(B.c)(e).active}),q=l.a.div.withConfig({componentId:"s12jr8h7-3"})(["","margin-bottom: 4px;"],g.bodyFontH6),V=l.a.div.withConfig({componentId:"s12jr8h7-4"})(["","margin-bottom: 4px;"],g.bodyFontH6),G=l.a.div.withConfig({componentId:"s12jr8h7-5"})(["",""],g.bodyFontH6),J=l()(H.a).withConfig({componentId:"s12jr8h7-6"})(["color: ",";text-decoration: none;padding-left: 4px;"],function(e){return Object(B.c)(e).active}),Y=function(e){function t(e){T()(this,t);var n=L()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleDescriptionView=function(){n.setState({isExpanded:!n.state.isExpanded})},n.state=z,n}return R()(t,e),E()(t,[{key:"render",value:function(){var e=this.props,t=this.state;return e.text.length>100?i()(G,{},void 0,t.isExpanded?e.text:e.text.slice(0,100),i()(J,{onClick:this.toggleDescriptionView},void 0,t.isExpanded?Object(D.a)(e.language,"structuredStyles.widgets.calendar.readLess"):Object(D.a)(e.language,"structuredStyles.widgets.calendar.readMore"))):i()(G,{},void 0,e.text)}}]),t}(s.a.Component),Z=Object(c.createStructuredSelector)({language:v.I}),Q=Object(d.connect)(Z)(function(e){return i()(p.a,{styles:e.widget.styles,title:e.widget.shortName},void 0,e.widget.data.map(function(t){return i()(K,{},void 0,i()(U,{},void 0,t.titleHtml?i()(W,{html:t.titleHtml}):t.title),e.widget.configuration.showDate&&t.startTime&&i()(q,{},void 0,Object(A.a)(t.startTime,e.language,!0),!t.allDay&&e.widget.configuration.showTime&&i()("span",{},void 0," • ",(n=t.startTime,o=new Date(1e3*n),r=o.getHours(),(s=o.getMinutes())<10?r+":0"+s:r+":"+s)," ")),t.location&&e.widget.configuration.showLocation&&i()(V,{},void 0,t.locationHtml?i()(W,{html:t.locationHtml}):t.location),t.description&&e.widget.configuration.showDescription&&i()(Y,{language:e.language,text:t.description}));var n,o,r,s}))}),X=n("./src/reddit/components/TrackingHelper/index.tsx"),$=n("./src/reddit/components/Widgets/CommunityList/SubredditList.tsx"),ee=Object(X.b)(function(e){return i()($.b,{className:e.className,communities:e.widget.data,sendEvent:e.sendEvent,title:e.widget.shortName,widget:e.widget})}),te=Object(c.createStructuredSelector)({stylesheet:function(e){return e.stylesheets}}),ne=Object(d.connect)(te)(function(e){function t(){T()(this,t);var e=L()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.storeRef=function(t){e.iframe=t},e}return R()(t,e),E()(t,[{key:"shouldComponentUpdate",value:function(e){return(e.widget.stylesheetUrl!==this.props.widget.stylesheetUrl||e.widget.textHtml&&e.widget.textHtml!==this.props.widget.textHtml)&&(this.renderIframeContent(e),this.writeIFrameDocument()),e.widget.height!==this.props.widget.height}},{key:"writeIFrameDocument",value:function(){this.iframe&&this.iframe.contentWindow&&void 0!==this.iframeContent&&(this.iframe.contentWindow.document.open(),this.iframe.contentWindow.document.write(this.iframeContent),this.iframe.contentWindow.document.close())}},{key:"componentWillMount",value:function(){this.renderIframeContent(this.props)}},{key:"componentDidMount",value:function(){this.iframe&&this.iframe.contentWindow&&this.iframeContent&&(this.iframe.contentWindow.document.body&&this.iframe.contentWindow.document.body.childNodes.length||this.writeIFrameDocument())}},{key:"renderIframeContent",value:function(e){var t,n,o;e.widget.stylesheetUrl&&e.widget.textHtml&&(this.iframeContent=(t=e.stylesheet,n=e.widget.stylesheetUrl,o=e.widget.textHtml,'<head>\n  <link rel="stylesheet" href="'+t+'">\n  <link rel="stylesheet" href="'+n+'">\n  <base target="_blank">\n</head>\n<body>'+o+"</body>"))}},{key:"render",value:function(){var e=this.props;return i()(p.a,{contentOnly:!0},void 0,s.a.createElement("iframe",{ref:this.storeRef,width:"100%",height:e.widget.height||300,srcDoc:this.iframeContent}))}}]),t}(s.a.Component)),oe=l.a.div.withConfig({componentId:"kkicq7-0"})(["border-radius: 4px;"]),ie=l.a.img.withConfig({componentId:"s1muqojl-0"})(["display: block;height: auto;width: 100%;border-radius: 4px;"]),re=function(e){function t(e){T()(this,t);var n=L()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={imageIndex:n.getRandomIndex(e)},n}return R()(t,e),E()(t,[{key:"getRandomIndex",value:function(e){if(!e.widget.data.length)return-1;var t=Math.floor(Math.random()*e.widget.data.length);if(e.widget.data[t].url===f.c){t=-1;for(var n=0;n<e.widget.data.length;n++)if(e.widget.data[n].url!==f.c)return n}return t}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,o=this.state;e.subredditName===n.subredditName&&e.widget.data[o.imageIndex]&&e.widget.data[o.imageIndex]===n.widget.data[o.imageIndex]||this.setState(function(n){return{imageIndex:t.getRandomIndex(e)}})}},{key:"render",value:function(){var e=this.props,t=this.state;if(t.imageIndex<0)return null;var n=e.widget.data[t.imageIndex],o=i()(oe,{},void 0,i()(ie,{src:n.url}));return n.linkUrl?i()("a",{href:n.linkUrl,target:"_blank"},void 0,o):o}}]),t}(s.a.Component),se=n("./node_modules/react-router-dom/es/index.js"),de=n("./src/reddit/components/Flair/index.tsx"),ce=n("./src/reddit/controls/InternalLink/index.tsx"),ae=n("./src/reddit/featureFlags/index.ts"),le=n("./src/reddit/icons/fonts/helpers.tsx"),ue=n("./src/reddit/helpers/styles/mixins/index.tsx"),pe=l()(function(e){return i()("i",{className:Object(le.b)("envelope")+" "+e.className})}).withConfig({componentId:"i2kq3x-0"})(["",""],ue.l),me=n("./src/reddit/models/Flair/index.ts"),he=l.a.div.withConfig({componentId:"v2421u-0"})(["","display: flex;margin-bottom: 16px;width: 100%;&:last-child {margin-bottom: 8px;}"],g.titleFontH6),ge=l.a.div.withConfig({componentId:"v2421u-1"})(["color: ",";display: inline-block;max-width: 100%;"],function(e){return Object(B.c)(e).linkText}),fe=l.a.a.withConfig({componentId:"v2421u-2"})(["border-radius: 2px;margin: -8px -4px -4px auto;padding: 4px;"]),be=l()(de.c).withConfig({componentId:"v2421u-3"})(["margin-left: 4px;"]),xe=function(e){return i()(ge,{},void 0,"u/"+e)},ve=Object(c.createStructuredSelector)({canAccessRedesignProfiles:ae.d.redesignProfiles,language:v.I}),ye=Object(d.connect)(ve),Oe=l()(ce.a).withConfig({componentId:"v2421u-4"})(["","color: ",";margin-left: auto;"],g.smallButtonFont,function(e){return Object(B.c)(e).button}),we=l.a.div.withConfig({componentId:"v2421u-5"})(["display: flex;overflow: hidden;padding: 0px 12px 12px;"]),Ce=ye(function(e){var t=e.canAccessRedesignProfiles,n=e.language,o=e.subredditName,r=e.widget;return i()(p.a,{styles:r.styles,title:Object(D.a)(n,"sidebar.widgets.moderators.title"),headerButton:i()(fe,{href:"https://reddit.com/message/compose?to=/r/"+o,target:"_blank"},void 0,i()(pe,{}))},void 0,r.mods.map(function(e){return i()(he,{},e.name,t?function(e){return i()(se.a,{to:"/user/"+e.name},void 0,xe(e.name))}(e):function(e){return i()("a",{href:"/user/"+e.name,target:"_blank"},void 0,xe(e.name))}(e),i()(be,{flair:function(e){return e.authorFlairType===me.e.Richtext?{backgroundColor:e.authorFlairBackgroundColor,richtext:e.authorFlairRichText,textColor:e.authorFlairTextColor,type:e.authorFlairType}:{backgroundColor:e.authorFlairBackgroundColor,text:e.authorFlairText||"",textColor:e.authorFlairTextColor,type:e.authorFlairType}}(e),forceSmallEmojis:!0}))}),i()(we,{},void 0,i()(Oe,{to:"/r/"+o+"/about/moderators/"},void 0,Object(D.a)(n,"sidebar.widgets.moderators.viewAllModerators"))))}),je=n("./src/reddit/components/Widgets/PostFlair/index.tsx"),Ie=n("./src/reddit/components/Widgets/SubredditRules/index.tsx"),ke=l.a.div.withConfig({componentId:"s1i4gs3u-0"})(["padding-top: 4px;width: 100%;"]),Se=l()(u.a).withConfig({componentId:"s1i4gs3u-1"})(["color: inherit;","p {","}tr, th, td {padding: 4px;}h1, h2, h3, h4, h5, h6 {&:first-child {margin-top: 0;}}"],g.bodyFontSmall,g.bodyFontSmall),_e=function(e){return i()(p.a,{styles:e.widget.styles,title:e.widget.shortName},void 0,i()(ke,{},void 0,i()(Se,{html:e.widget.textHtml||""})))},Pe=n("./src/reddit/components/Widgets/Base/index.tsx"),Te=function(e){return i()(Pe.c,{},void 0,"This widget hasn't been implemented yet!")};t.a=function(e){var t=function(e){switch(e.kind){case"moderators":return Ce;case"textarea":return _e;case"button":return _;case"subreddit-rules":return Ie.b;case"community-list":return ee;case"calendar":return Q;case"image":return re;case"custom":return ne;case"post-flair":return je.a;default:return Te}}(e.widget);return i()(t,{widget:e.widget,subredditName:e.subredditName})}},"./src/reddit/contexts/TrackCommentsPageClick.ts":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),i=n.n(o);t.a=i.a.createContext(function(){return function(){}})},"./src/reddit/controls/ErrorText/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(r),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=n.n(d),a=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),l=n.n(a),u=n("./node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("./node_modules/lodash/uniqueId.js"),h=n.n(m),g=n("./node_modules/raf/index.js"),f=n.n(g),b=n("./node_modules/react/index.js"),x=n.n(b),v=n("./node_modules/react-redux/es/index.js"),y=n("./node_modules/reselect/lib/index.js"),O=n("./bundled-modules/styled-components/styled-components.min.js"),w=n.n(O),C=n("./src/app/strings/index.ts"),j=n("./src/reddit/actions/modal.ts"),I=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),k=n("./src/reddit/selectors/activeModalId.ts"),S=n("./src/higherOrderComponents/asModal.tsx"),_=n("./src/reddit/controls/Button/index.tsx"),P=n("./src/reddit/layout/row/Inline/index.tsx"),T=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),N=Object(C.e)("error.ok"),E=w.a.div.withConfig({componentId:"s18tv1r8-0"})(["box-sizing: border-box;border-radius: 4px;width: 350px;background-color: ",";border: 1px solid ",";border-radius: 4px;box-shadow: 0 0 0 1px ",",0px 2px 3px 2px ",";"],function(e){return Object(T.c)(e).body},function(e){return Object(T.c)(e).line},function(e){return Object(T.c)(e).line},function(e){return Object(T.c)(e).line}),M=w()(P.a).withConfig({componentId:"s18tv1r8-1"})(["","padding: 11px 16px;border-bottom: 1px solid ",";"],I.titleFontH4,function(e){return Object(T.c)(e).line}),L=w.a.div.withConfig({componentId:"s18tv1r8-2"})(["","padding: 16px;"],I.bodyFont),F=w()(P.a).withConfig({componentId:"s18tv1r8-3"})(["padding: 8px 5px;border-top: 1px solid ",";background: hsl(0, 0%, 98%);flex-direction: row-reverse;"],function(e){return Object(T.c)(e).line}),R=w()(_.d).withConfig({componentId:"s18tv1r8-4"})(["margin-left: 5px;"]),D=Object(S.a)(function(e){var t=e.children,n=e.language,o=e.title;return i()(E,{},void 0,i()(M,{},void 0,o),i()(L,{},void 0,t),i()(F,{},void 0,i()(R,{onClick:e.onConfirmed},void 0,N(n))))});n.d(t,"b",function(){return V});var A=Object(C.e)("error.more"),H=Object(C.e)("error.error"),B=Object(C.e)("error.type.generic"),z=w.a.div.withConfig({componentId:"s2apn2n-0"})(["","color: #f00;padding-top: 4px;text-align: right;display: flex;"],I.metadataFont),W=w.a.span.withConfig({componentId:"s2apn2n-1"})(["white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"]),K=w.a.span.withConfig({componentId:"s2apn2n-2"})(["text-decoration: underline;cursor: pointer;padding-left: 4px;"]),U=Object(y.createStructuredSelector)({activeModalId:k.a}),q=Object(v.connect)(U,function(e){return{toggleErrorTextModal:function(t){return e(Object(j.h)(t))}}})(function(e){function t(e){s()(this,t);var n=l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.calcTextDidOverflow=function(e){f()(function(){e&&e.scrollWidth>e.clientWidth&&n.setState({textHasOverflowed:!0})})},n.setRef=function(e){n.calcTextDidOverflow(e)},n.state={errorModalBody:e.errorModalBody||e.children,errorModalTitle:e.errorModalTitle||H(e.language),moreText:e.moreText||A(e.language),textHasOverflowed:!1,modalId:"ErrorTextModal--"+h()()},n}return p()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.activeModalId,r=e.language,s=e.toggleErrorTextModal,d=this.state,c=d.errorModalBody,a=d.errorModalTitle,l=d.modalId,u=d.moreText,p=d.textHasOverflowed;return i()(z,{className:n},void 0,i()(W,{innerRef:this.setRef},void 0,t),p&&i()(K,{onClick:function(){return s(l)}},void 0,u),o===l&&i()(D,{language:r,onConfirmed:function(){return s(l)},title:a},void 0,c))}}]),t}(x.a.Component)),V=(t.a=q,function(e,t){return(e.length>0?e:[B(t)]).map(function(e){return i()(q,{language:t},void 0,e)})})},"./src/reddit/helpers/createBannerProperties/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o,i=n("./src/lib/isFakeSubreddit/index.ts"),r=Math.floor(100*Math.random());!function(e){e.FIRST="first",e.MIDDLE="middle",e.BOTTOM="bottom"}(o||(o={}));t.b=function(e,t,n,o,s){var d={subreddit_screen:!1,logged_in:!!t.account,placement:e,platform:"redesign",full_url:n,layout:t.prefs.layout};return o&&!Object(i.a)(o.name)&&(d.subreddit=o.name,d.subreddit_screen=!0),d.wls=6,d.whitelist_status="all_ads",d.percentage=d.random_number=r,s&&(d.position=s),d}},"./src/reddit/helpers/getSubredditIcon/index.ts":function(e,t,n){"use strict";var o=n("./src/reddit/models/Theme/NewColorSystem/index.ts");t.a=function(e){return e.theme&&Object(o.c)(e).banner.iconImage?String(Object(o.c)(e).banner.iconImage):e.subredditOrProfile?e.subredditOrProfile.communityIcon||e.subredditOrProfile.icon.url:e.subreddit?e.subreddit.communityIcon||e.subreddit.icon.url:void 0}},"./src/reddit/icons/svgs/ArrowRight/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o);n("./node_modules/react/index.js");t.a=function(e){return i()("svg",{className:e.className,viewBox:"0 0 11.4 11.4",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},void 0,i()("g",{},void 0,i()("path",{fill:"inherit",d:"m11.17929,5.99479c0.08081,-0.19519 0.08081,-0.41599 0,-0.61118c-0.0408,-0.0984 -0.0992,-0.1864 -0.17361,-0.2608l-4.79963,-4.79911c-0.31283,-0.3128 -0.81847,-0.3128 -1.1313,0c-0.31283,0.31279 -0.31283,0.81918 0,1.13118l3.43471,3.43433l-7.66949,0c-0.44244,0 -0.80007,0.3584 -0.80007,0.79999c0,0.44159 0.35763,0.79999 0.80007,0.79999l7.66949,0l-3.43471,3.43433c-0.31283,0.3128 -0.31283,0.81919 0,1.13118c0.15601,0.156 0.36083,0.2344 0.56565,0.2344c0.20482,0 0.40964,-0.0784 0.56565,-0.2344l4.79963,-4.79911c0.07441,-0.0744 0.13281,-0.1624 0.17361,-0.2608"})))}},"./src/reddit/icons/svgs/Chevron/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=(n("./node_modules/react/index.js"),n("./bundled-modules/styled-components/styled-components.min.js")),s=n.n(r),d=n("./src/reddit/models/Theme/NewColorSystem/index.ts");t.a=s()(function(e){return i()("svg",{className:e.className,viewBox:"0 0 9 14",xmlns:"http://www.w3.org/2000/svg"},void 0,i()("g",{transform:"translate(-6.000000, -3.000000)"},void 0,i()("polygon",{fill:"none",points:"0 20 20 20 20 0 0 0"}),i()("polygon",{fill:"inherit",points:"7.47566213 3 14.4756621 10 7.47566213 17 6 15.5239203 11.5239203 10 6 4.47566213"})))}).withConfig({componentId:"tdibv2-0"})(["fill: ",";"],function(e){return Object(d.c)(e).actionIcon})},"./src/reddit/icons/svgs/ChevronDown/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o);n("./node_modules/react/index.js");t.a=function(e){return i()("svg",{className:e.className,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",onClick:e.onClick},void 0,i()("g",{},void 0,i()("polygon",{fill:"inherit",points:"11.0584 4.0602 6.0292 9.0894 1 4.0602 2.0608 3 6.0292 6.9684 9.9982 3"})))}},"./src/reddit/icons/svgs/ChevronUp/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o);n("./node_modules/react/index.js");t.a=function(e){return i()("svg",{className:e.className,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},void 0,i()("g",{},void 0,i()("polygon",{fill:"inherit",transform:"translate(6.029200, 6.044700) scale(1, -1) translate(-6.029200, -6.044700)",points:"11.0584 4.0602 6.0292 9.0894 1 4.0602 2.0608 3 6.0292 6.9684 9.9982 3"})))}},"./src/reddit/layout/threeCol/ExpandCenter/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=(n("./node_modules/react/index.js"),n("./bundled-modules/styled-components/styled-components.min.js")),s=n.n(r),d=n("./src/higherOrderComponents/warnOnChildrenCount/index.tsx"),c=n("./src/reddit/helpers/styles/components/index.tsx"),a=s()(Object(c.a)()).withConfig({componentId:"s1akftvf-0"})(["flex: 0 0 ",";"],function(e){return e.width?e.width+"px":""}),l=s.a.div.withConfig({componentId:"s1akftvf-1"})(["flex: 1 1 100%;width: 100%;"]),u=s()(Object(c.a)()).withConfig({componentId:"s1akftvf-2"})(["flex: 0 0 ",";"],function(e){return e.width?e.width+"px":""});t.a=s()(Object(d.a)(function(e){return i()("div",{className:e.className},void 0,i()(a,{width:e.widthLeft},void 0,Array.isArray(e.children)&&e.children[0]),i()(l,{},void 0,Array.isArray(e.children)&&e.children[1]),i()(u,{width:e.widthRight},void 0,Array.isArray(e.children)&&e.children[2]))},3)).withConfig({componentId:"s1akftvf-3"})(["display: flex;flex-direction: row;"])},"./src/reddit/layout/twoCol/Dynamic/index.tsx":function(e,t,n){"use strict";var o=n("./bundled-modules/styled-components/styled-components.min.js"),i=n.n(o);t.a=i.a.div.withConfig({componentId:"h306r0-0"})(["display: flex;flex-direction: row;"])},"./src/reddit/pages/CommentsPage/index.tsx":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(o),r=n("./node_modules/babel-runtime/helpers/createClass.js"),s=n.n(r),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n.n(d),a=n("./node_modules/babel-runtime/helpers/inherits.js"),l=n.n(a),u=n("./node_modules/babel-runtime/helpers/jsx.js"),p=n.n(u),m=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),h=n.n(m),g=n("./node_modules/lodash/fromPairs.js"),f=n.n(g),b=n("./node_modules/lodash/get.js"),x=n.n(b),v=n("./node_modules/lodash/throttle.js"),y=n.n(v),O=n("./node_modules/polished/dist/polished.es.js"),w=n("./node_modules/react/index.js"),C=n.n(w),j=n("./node_modules/react-redux/es/index.js"),I=n("./node_modules/reselect/lib/index.js"),k=n("./bundled-modules/styled-components/styled-components.min.js"),S=n.n(k),_=n("./src/app/models/Draft.ts"),P=n("./src/app/strings/index.ts"),T=n("./node_modules/babel-runtime/helpers/extends.js"),N=n.n(T),E=n("./node_modules/react-router-dom/es/index.js"),M=n("./src/reddit/controls/UnstyledInternalLink/index.tsx"),L=n("./src/reddit/helpers/overlay/index.ts"),F=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},R=function(e){var t=e.children,n=e.className,o=e.to,i=F(e,["children","className","to"]),r=Object(L.b)(o);return C.a.createElement(M.a,N()({className:n,to:r},i),t)},D=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},A=function(e){var t=e.isOverlay,n=D(e,["isOverlay"]),o=t?R:E.a;return C.a.createElement(o,N()({},n,{children:n.children,className:n.className,onClick:n.onClick,to:n.to}))},H=n("./src/reddit/helpers/path/index.ts"),B=n("./src/reddit/icons/svgs/ArrowRight/index.tsx"),z=n("./src/telemetry/index.ts"),W=n("./src/telemetry/models/Timer.ts"),K=n("./src/lib/constants/index.ts"),U=n("./src/lib/domUtils/index.ts"),q=n("./src/lib/extractQueryParams/index.ts"),V=n("./src/lib/fastdom/index.ts"),G=n("./src/lib/makeCommentsPageKey/index.ts"),J=n("./src/lib/makeDraftKey/index.ts"),Y=n("./src/lib/performanceTimings/index.tsx"),Z=n("./src/app/actions/tooltip.ts"),Q=n("./src/reddit/actions/comment.ts"),X=n("./src/reddit/actions/login.ts"),$=n("./src/reddit/actions/video.ts"),ee=n("./src/reddit/components/BannerAd/index.tsx"),te=n("./src/reddit/contexts/PageLayer/index.tsx"),ne=n("./src/reddit/featureFlags/index.ts"),oe=n("./src/reddit/selectors/brandSafety.ts"),ie=n("./src/reddit/selectors/user.ts"),re=Object(I.createStructuredSelector)({canShowAds:function(e,t){return Object(oe.a)(e,t)&&e.meta.isSessionSeo&&!ne.d.rabbitHole(e)&&!Object(ie.C)(e)&&!Object(te.G)(t.pageLayer)&&!Object(ie.v)(e)}}),se=Object(j.connect)(re),de=Object(te.t)(),ce=K.g[0],ae=S()(ee.a).withConfig({componentId:"s7ddnaa-0"})(["text-align: center;width: ",';margin: 30px auto 50px auto;&:before {content: "advertisement";color: rgb(135, 138, 140);display: block;font-size: 10px;letter-spacing: 0.5px;line-height: 12px;text-transform: uppercase;padding-bottom: 4px;font-weight: 500;text-align: left;}'],ce+"px"),le=S.a.div.withConfig({componentId:"s7ddnaa-1"})(["margin: 0 auto;"]),ue=de(se(function(e){function t(){i()(this,t);var e=c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.container=null,e.state={enoughSpace:!1,hasBeenAssessed:!1},e.checkAvailableSpace=y()(function(){V.a.read(function(){if(e.container){var t=K.g[0],n=e.container.clientWidth;!e.state.enoughSpace&&e.state.hasBeenAssessed||V.a.write(function(){e.setState({enoughSpace:n>t,hasBeenAssessed:!0})})}})},K.H),e}return l()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.props.canShowAds&&(this.checkAvailableSpace(),window.addEventListener("resize",this.checkAvailableSpace))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkAvailableSpace)}},{key:"render",value:function(){var e=this;if(!this.props.canShowAds)return null;var t=this.props,n=t.isOverlay,o=t.refreshKey,i=t.listingName,r=t.placement;return p()(le,{innerRef:function(t){e.container=t}},void 0,this.state.enoughSpace&&p()(ae,{id:function(e,t){var n="";return t&&(n+="overlay-"),n+="comment-"+e}(r,n),sizes:[K.g],placement:r,listingName:i,refreshKey:o}))}}]),t}(C.a.Component))),pe=n("./src/reddit/components/ContentGate/index.tsx"),me=n("./src/reddit/components/PromoBanners/index.tsx"),he=n("./src/reddit/components/StructuredStyles/BladeDrawerController/index.tsx"),ge=n("./src/reddit/constants/colors.ts"),fe=n("./src/reddit/constants/componentSizes.ts"),be=n("./src/reddit/constants/elementIds.ts"),xe=n("./src/reddit/constants/history.ts"),ve=n("./src/reddit/constants/parameters.ts"),ye=n("./src/reddit/constants/promos.ts"),Oe=n("./src/reddit/contexts/TrackCommentsPageClick.ts"),we=n("./src/reddit/icons/fonts/Archived/index.tsx"),Ce=n("./src/reddit/models/Comment/index.ts"),je=n("./src/reddit/models/Media/index.ts"),Ie=n("./src/reddit/models/Post/index.ts"),ke=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),Se=n("./src/reddit/selectors/comments.ts"),_e=n("./src/reddit/selectors/meta.ts"),Pe=n("./src/reddit/selectors/monthsToMinutes.ts"),Te=n("./src/reddit/selectors/posts.ts"),Ne=n("./src/reddit/selectors/tooltip.ts"),Ee=n("./src/reddit/components/AccountCompleteness/index.tsx"),Me=n("./src/reddit/components/AuthorHovercard/helpers.ts"),Le=n("./src/higherOrderComponents/makeAsync.tsx"),Fe=n("./src/lib/loadWithRetries/index.ts"),Re=n("./src/reddit/components/RichTextEditor/Placeholder.tsx"),De=n("./src/reddit/helpers/styles/components/index.tsx"),Ae=n("./src/reddit/helpers/styles/mixins/loading.ts"),He=S()(Object(De.a)()).withConfig({componentId:"rae1fm-0"})(["margin: ",";"],function(e){return e.isTopLevelComment?"24px 40px":"16px 0"}),Be=S()(Object(De.a)()).withConfig({componentId:"rae1fm-1"})(["","height: 19px;margin-bottom: 4px;width: 150px;"],Ae.a),ze=Object(Le.a)({ErrorComponent:function(e){var t=e.isTopLevelComment;return p()(He,{isTopLevelComment:t},void 0,p()(Be,{gradientType:"comments",isLoading:!1}),p()(Re.a,{gradientType:"comments",isLoading:!1,toolbarPosition:"bottom"}))},getComponent:function(){return Object(Fe.a)(function(){return Promise.all([n.e("vendors~Chat~CommentsPage~ModerationPages~PostCreation~RedesignChat~RichTextEditor~StructuredStyles~~96f4d9fe"),n.e("vendors~FlairEdit~PostCreation~RichTextEditor"),n.e("vendors~PostCreation~RichTextEditor"),n.e("PostCreation~RichTextEditor"),n.e("RichTextEditor")]).then(n.bind(null,"./src/reddit/components/CommentCreation/index.tsx")).then(function(e){return e.default})})},LoadingComponent:function(e){var t=e.isTopLevelComment;return p()(He,{isTopLevelComment:t},void 0,p()(Be,{gradientType:"comments",isLoading:!0}),p()(Re.a,{gradientType:"comments",isLoading:!0,toolbarPosition:"bottom"}))}}),We=function(e){return C.a.createElement(ze,e)},Ke=n("./src/lib/isSimpleClick/index.ts"),Ue=n("./src/lib/loginHref/index.ts"),qe=n("./src/reddit/controls/Button/index.tsx"),Ve=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),Ge=S.a.div.withConfig({componentId:"s6wlmco-0"})(["margin: 16px 26px 0 26px;display: flex;align-items: center;justify-content: space-between;border-radius: 4px;border: 1px solid ",";padding: 12px 8px;"],function(e){return Object(ke.c)(e).line}),Je=S.a.span.withConfig({componentId:"s6wlmco-1"})(["","color: ",""],Ve.titleFontH4,function(e){return Object(ke.c)(e).metaText}),Ye=S()(qe.e).withConfig({componentId:"s6wlmco-2"})(["","",""],Ve.smallButtonFont,"\n  padding: 4px 9px 2px;\n  width: 100px;\n"),Ze=S()(qe.h).withConfig({componentId:"s6wlmco-3"})(["","","margin-left: auto;margin-right: 8px;"],Ve.smallButtonFont,"\n  padding: 4px 9px 2px;\n  width: 100px;\n"),Qe=function(e){e.className;var t=e.language,n=e.location,o=e.openLoginModal,i=e.openRegisterModal,r=e.origin;return p()(Ge,{},void 0,p()(Je,{},void 0,Object(P.a)(t,"session.comment")),p()(Ze,{href:Object(Ue.a)(n,r,"/login"),onClick:function(e){Object(Ke.a)(e)&&(e.preventDefault(),e.stopPropagation(),o())},"data-redditstyle":!0},void 0,Object(P.a)(t,"session.login.submit")),p()(Ye,{href:Object(Ue.a)(n,r,"/register"),onClick:function(e){Object(Ke.a)(e)&&(e.preventDefault(),e.stopPropagation(),i())},"data-redditstyle":!0},void 0,Object(P.a)(t,"session.register.submit")))},Xe=n("./node_modules/lodash/isEqual.js"),$e=n.n(Xe),et=n("./src/reddit/constants/comments.ts"),tt=n("./src/reddit/constants/elementClassNames.ts"),nt=n("./node_modules/babel-runtime/helpers/slicedToArray.js"),ot=n.n(nt),it=n("./src/reddit/constants/zIndex.ts"),rt=n("./src/reddit/icons/fonts/helpers.tsx"),st=S()(function(e){return p()("i",{className:Object(rt.b)("expand")+" "+e.className})}).withConfig({componentId:"qjrkk1-0"})(["display: inline-block;width: 12px;height: 12px;font-size: 12px;font-weight: 400;line-height: 12px;"]),dt=S()(function(e){return C.a.createElement("button",e,p()(st,{}))}).withConfig({componentId:"gcap43-0"})(["background: none;border: none;cursor: pointer;height: 12px;line-height: 12px;outline: none;width: 12px;&."," {color: ",";}",""],tt.f,function(e){return Object(ke.c)(e).line},function(e){return"color: "+Object(ke.c)(e).linkText+";\n      transform: rotate(180deg);\n      &:hover {\n        color: "+Object(ke.c)(e).linkText+";\n      }"}),ct=n("./node_modules/lodash/defer.js"),at=n.n(ct),lt=n("./src/lib/makeCommentPermalink/index.ts"),ut=n("./src/reddit/actions/gild.ts"),pt=n("./src/reddit/actions/modal.ts"),mt=n("./src/reddit/actions/reportFlow.ts"),ht=n("./src/reddit/helpers/correlationIdTracker.ts"),gt=n("./src/reddit/helpers/hasModPostPermissions/index.ts"),ft=n("./src/reddit/helpers/trackers/lightbox.ts"),bt=n("./src/reddit/selectors/activeModalId.ts"),xt=n("./src/reddit/selectors/moderatorPermissions.ts"),vt=n("./src/reddit/components/CommentModModeDropdown/index.tsx"),yt=n("./src/reddit/components/Comments/Comment/ModToolsFlatlist/index.tsx"),Ot=n("./src/reddit/components/ConfirmUserActionModal/index.tsx"),wt=n("./src/reddit/components/DistinguishCommentDropdown/index.tsx"),Ct=n("./src/reddit/components/ModActionsMenu/index.tsx"),jt=n("./src/reddit/components/ModModeReports/helpers.ts"),It=n("./src/reddit/components/OverflowMenu/index.tsx"),kt=n("./src/reddit/components/ReportFlow/index.tsx"),St=n("./src/reddit/components/ShareMenu/index.tsx"),_t=n("./src/reddit/components/TrackingHelper/index.tsx"),Pt=n("./src/reddit/components/ViewReportsDropdown/index.tsx"),Tt=n("./src/reddit/contexts/InsideOverlay.tsx"),Nt=n("./src/reddit/controls/CheckboxMenuItem/index.tsx"),Et=n("./src/reddit/controls/Dropdown/Row.tsx"),Mt=n("./src/reddit/helpers/trackers/gild.ts"),Lt=n("./src/reddit/helpers/trackers/modTools.ts"),Ft=n("./src/reddit/layout/row/Inline/index.tsx"),Rt=n("./src/reddit/icons/fonts/Comment/index.tsx"),Dt=n("./src/reddit/icons/fonts/IgnoreReport/index.tsx"),At=n("./src/reddit/icons/fonts/ModActions/index.tsx"),Ht=n("./src/reddit/icons/fonts/Report/index.tsx"),Bt=n("./src/reddit/icons/svgs/Trash2/index.tsx"),zt=S()(Rt.a).withConfig({componentId:"s5kaj4p-0"})(["","color: #B7B9BA;display: inline-block;font-size: 14px;height: 12px;line-height: 13px;margin: 0px 6px 0px -1px;width: 12px;"],Et.d),Wt=S()(Bt.b).withConfig({componentId:"s5kaj4p-1"})(["","height: 12px;width: 12px;"],Et.d),Kt=S()(At.a).withConfig({componentId:"s5kaj4p-2"})(["","display: inline-block;height: 12px;width: 12px;"],Et.d),Ut=Object(k.css)(["height: 12px;margin-top: -6px;padding-right: 4px;vertical-align: middle;width: 12px;"]),qt=S()(Ht.a).withConfig({componentId:"s5kaj4p-3"})(["",""],Ut),Vt=S()(Dt.a).withConfig({componentId:"s5kaj4p-4"})(["",""],Ut),Gt=S()(Ct.a).withConfig({componentId:"s5kaj4p-5"})(["cursor: pointer;height: 24px;margin-right: 8px;margin-top: -4px;"]),Jt=S()(Object(De.a)()).withConfig({componentId:"s5kaj4p-6"})(["margin-right: ",";"],function(e){return e.modModeEnabled?"0px":"12px"}),Yt=S()(It.a).withConfig({componentId:"s5kaj4p-7"})(["font-weight: 500;","color: ",";"," {width: 16px;text-align: center;}"],Ve.titleFontH5,function(e){return Object(ke.c)(e).actionIcon},Et.a),Zt=S()(Ft.a).withConfig({componentId:"s5kaj4p-8"})(["","color: ",";margin: 4px 0 8px;"],Ve.actionFont,function(e){return Object(ke.c)(e).actionIcon}),Qt=Object(k.css)(["display: inline-block;margin-right: 12px;transition: color 0.1s;&::first-letter {text-transform: uppercase;}&:disabled {cursor: default;}&:hover {text-decoration: underline;}"]),Xt=Object(k.css)(["&.not(:disabled):hover {color: ",";}"],function(e){return Object(ke.c)(e).bodyText}),$t=S()(S.a.button.withConfig({componentId:"s5kaj4p-10"})(["",""],Qt)).withConfig({componentId:"s5kaj4p-9"})(["",""],Xt),en=S()(yt.c).withConfig({componentId:"s5kaj4p-11"})(["margin-left: 12px;&:before {content: '';position: absolute;border-left: 1px solid ",";height: 20px;margin: 6px 0px;}"],function(e){return Object(ke.c)(e).line}),tn=S()(Pt.a).withConfig({componentId:"s5kaj4p-12"})(["display: inline-block;"]),nn=Object(te.t)(),on=function(e){return"Comment-"+e+"--Modal--DeleteComment"},rn=function(e){return"Distinguish--Dropdown--"+e},sn=function(e){return e+"-overflow-menu"},dn=function(e){return"View--Reports--"+e},cn=Object(I.createStructuredSelector)({activeTooltipId:Ne.a,currentUser:ie.j,isConfirmModalOpen:function(e,t){var n=t.comment;return Object(bt.a)(e)===on(n.id)},isPendingDeletion:Se.z,isLoggedIn:ie.C,moderatorPermissions:function(e,t){var n=t.comment;return Object(te.i)(e,t)||Object(xt.f)(e,{subredditId:n.subredditId})},modModeEnabled:te.L,postIsArchived:function(e,t){var n=t.comment;return Object(Te.w)(e,{postId:n.postId})},postIsLocked:function(e,t){var n=t.comment;return Object(Te.x)(e,{postId:n.postId})},postPermalink:function(e,t){var n=t.comment;return Object(Te.y)(e,{postId:n.postId})},reportFlowIsOpen:function(e,t){var n=t.comment;return e.reportFlow.postOrCommentId===n.id},sendRepliesToggled:function(e,t){var n=t.comment;return Object(Se.E)(e,{commentId:n.id})},subredditOrProfile:function(e,t){var n=t.comment;return Object(Te.K)(e,{postId:n.postId})}}),an=Object(j.connect)(cn,function(e,t){var n=t.comment,o=t.commentsPageKey,i=t.language;return{deleteComment:function(){return o&&e(Object(Q.Y)(i,n.id,n.postId,o))},handleDelete:function(){e(Object(pt.h)(on(n.id))),e(Object(Z.e)({tooltipId:sn(n.id)}))},handleEdit:function(){var t=n.media&&n.media.rteMode;o&&e(Object(Q.S)({commentId:n.id,draftKey:Object(J.a)(_.a.edit,n.id),text:n.bodyMD,commentMode:t,commentsPageKey:o}))},handleReply:function(){return o&&e(Object(Q.Ja)({parentCommentId:n.id,commentsPageKey:o}))},onDistinguishComment:function(t,o){return e(Object(Q.P)(n.id,t,o))},onGildClick:function(){return e(Object(ut.p)(n.id))},onIgnoreReports:function(){return e(Object(Q.Ka)(n.id))},onReportClick:function(){return e(Object(mt.i)(n.id))},onToggleSave:function(){return e(Object(Q.Ba)(n.id))},onToggleDistinguishDropdown:function(){return e(Object(Z.e)({tooltipId:rn(n.id)}))},onToggleReportsDropdown:function(){return e(Object(Z.e)({tooltipId:dn(n.id)}))},toggleDeleteCommentModal:function(){return e(Object(pt.h)(on(n.id)))},toggleSendReplies:function(){return e(Object(Q.Ca)(n.id))}}}),ln=function(e){function t(){i()(this,t);var e=c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.sendCommentEventWithName=function(t){return e.props.sendEvent(Object(ft.b)(e.props.comment.postId,"comment_"+t))},e.sendCommentModEventWithName=function(t){return e.props.sendEvent(Object(Lt.a)(t,e.props.comment.id))},e.sendCommentReportEvent=function(t){return e.props.sendEvent(Object(Lt.e)(t,e.props.comment.id))},e.handleSave=function(){e.props.comment.isSaved?e.sendCommentModEventWithName("unsave"):e.sendCommentModEventWithName("save"),e.props.onToggleSave()},e.handleEdit=function(){e.props.sendEvent(Object(Lt.d)("edit",e.props.comment.id)),e.props.handleEdit()},e.handleGild=function(){Object(ht.d)(ht.a.GildingFlow),e.props.sendEvent(Object(Mt.c)(e.props.comment.id)),e.props.onGildClick()},e.handleDelete=function(){e.props.sendEvent(Object(Lt.d)("delete",e.props.comment.id)),e.props.toggleDeleteCommentModal()},e.handleReportClick=function(){e.props.sendEvent(Object(Lt.a)("report",e.props.comment.id)),e.props.onReportClick()},e.handleDistinguishToggle=function(){e.props.sendEvent(Object(Lt.a)("mod_distinguish_menu",e.props.comment.id)),e.props.onToggleDistinguishDropdown()},e.sendCommentDistinguishEvent=function(t){return e.props.sendEvent(Object(Lt.b)(t,e.props.comment.id))},e}return l()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.comment,o=t.className,i=t.currentUser,r=t.deleteComment,s=t.handleReply,d=t.isOverlay,c=t.isLoggedIn,a=t.isPendingDeletion,l=t.language,u=t.onDistinguishComment,m=t.onIgnoreReports,h=t.onToggleReportsDropdown,g=t.moderatorPermissions,f=t.modModeEnabled,b=t.postIsArchived,x=t.postIsLocked,v=t.postPermalink,y=t.sendEvent,O=t.toggleDeleteCommentModal,w=t.toggleSendReplies,C=t.trackClick,j=Object(gt.a)(g),I=!!i&&i.displayText===n.author,k=!!i&&i.isEmployee,S=!x&&!b||j&&c,_=Object(jt.a)(n);return p()("div",{className:o},void 0,p()(Zt,{},void 0,S&&p()($t,{onClick:function(){s(),at()(function(){return C("reply")()})},disabled:a},void 0,p()(zt,{}),Object(P.a)(l,"comment.reply")),p()(St.a,{dropdownId:n.id+"-comment-share-menu",isOverlay:!!d,permalink:Object(lt.a)(v,n.id),sendEventWithName:this.sendCommentEventWithName},void 0,p()($t,{onClick:function(){return e.sendCommentEventWithName("share")}},void 0,Object(P.a)(l,"posts.share"))),!I&&p()($t,{onClick:this.handleReportClick,disabled:a},void 0,Object(P.a)(l,"comment.report")),p()($t,{onClick:this.handleSave},void 0,n.isSaved?Object(P.a)(l,"comment.unsaveComment"):Object(P.a)(l,"comment.saveComment")),i&&!I&&p()($t,{onClick:this.handleGild},void 0,Object(P.a)(l,"comment.gold")),I&&p()($t,{onClick:this.handleEdit},void 0,Object(P.a)(l,"comment.edit")),I&&p()(Jt,{modModeEnabled:f},void 0,p()(It.b,{dropdownId:sn(n.id),onClick:function(){return y(Object(Lt.a)("comment_overflow_menu",n.id))}},void 0,p()(Yt,{displayText:Object(P.a)(l,"comment.deleteComment"),onClick:this.handleDelete},void 0,p()(Wt,{})),p()(Nt.a,{text:Object(P.a)(l,"posts.toggleSendReplies"),onClick:w,isSelected:this.props.sendRepliesToggled}))),this.props.isConfirmModalOpen&&p()(Ot.a,{actionText:Object(P.a)(l,"comment.delete"),cancelActionText:Object(P.a)(l,"comment.keep"),headerText:Object(P.a)(l,"comment.deleteComment"),modalText:Object(P.a)(l,"comment.deleteConfirmation"),onConfirm:r,toggleModal:O,trackClick:function(){},withOverlay:!0}),j&&(f?p()(en,{comment:n,isCommentAuthor:I,language:l}):p()(Gt,{dropdownId:n.id+"-mod-actions-menu",inCommentFlatlist:!0,onClick:function(){return y(Object(Lt.a)("comment_mod_action_menu",n.id))}},void 0,p()(Kt,{}),p()(vt.a,{comment:n,isOverlay:!!d,language:l,tooltipId:n.id+"-mod-actions-menu"}))),Object(jt.c)(n)&&!f&&p()(yt.b,{text:""+_,onClick:function(){h(),e.sendCommentModEventWithName("comment_report_menu")},selected:this.props.activeTooltipId===dn(n.id),id:dn(n.id)},void 0,p()(tn,{isOverlay:!!d,language:l,model:n,onIgnoreReports:function(){m(),e.sendCommentReportEvent(n.ignoreReports?"restore_reports":"ignore_reports")},tooltipId:dn(n.id)}),n.ignoreReports?p()(Vt,{}):p()(qt,{})),j&&!f&&I&&!k&&!n.bannedBy&&p()(yt.b,{onClick:this.handleDistinguishToggle,selected:this.props.activeTooltipId===rn(n.id)},void 0,p()(yt.a,{}),p()(wt.a,{isAdminDistinguished:n.isAdmin,isDropdownOpen:this.props.activeTooltipId===rn(n.id),isModDistinguished:n.isMod,isOverlay:!!d,isStickied:n.isStickied,isTopLevelComment:!n.parentId,isUserEmployee:k,isUserMod:j,language:l,onDistinguishComment:u,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:rn(n.id)})),I&&k&&!n.bannedBy&&p()(yt.b,{onClick:this.handleDistinguishToggle,selected:this.props.activeTooltipId===rn(n.id)},void 0,p()(yt.a,{}),p()(wt.a,{isAdminDistinguished:n.isAdmin,isDropdownOpen:this.props.activeTooltipId===rn(n.id),isModDistinguished:n.isMod,isOverlay:!!d,isStickied:n.isStickied,isTopLevelComment:!n.parentId,isUserEmployee:k,isUserMod:j,language:l,onDistinguishComment:u,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:rn(n.id)}))),this.props.reportFlowIsOpen&&p()(kt.a,{withOverlay:!0,commentId:this.props.comment.id,overlayCustomStyles:kt.b,postId:this.props.comment.postId}))}}]),t}(C.a.Component),un=nn(an(Object(_t.b)(Object(Tt.b)(ln)))),pn=n("./src/reddit/components/Comments/Comment/TopMeta/index.tsx"),mn=n("./src/reddit/components/GildModal/Loader.tsx"),hn=n("./src/reddit/components/ModModeReports/index.tsx"),gn=n("./src/reddit/components/RawHTMLDisplay/index.tsx"),fn=n("./src/reddit/components/RichTextJson/index.tsx"),bn=n("./src/reddit/components/VerticalVotes/index.tsx"),xn=n("./src/reddit/components/VerticalVotes/index.m.less"),vn=n.n(xn),yn=n("./src/reddit/components/VerticalVotes/votes.tsx"),On=n("./src/reddit/components/VerticalVotes/votes.m.less"),wn=n.n(On),Cn=n("./src/reddit/constants/componentTestIds.ts"),jn=n("./src/reddit/controls/ErrorText/index.tsx"),In=n("./src/reddit/controls/InvisibleScreenReaderText/index.tsx"),kn=n("./src/reddit/models/Subreddit/index.ts"),Sn=n("./src/reddit/models/Vote/index.ts"),_n=n("./src/reddit/selectors/gild.ts"),Pn=n("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),Tn=S()(dt).withConfig({componentId:"c497l3-0"})(["left: 15px;position: absolute;top: 17px;"]),Nn=S()(jn.a).withConfig({componentId:"c497l3-1"})(["text-align: left;"]),En=S()(bn.a).withConfig({componentId:"c497l3-2"})(["min-width: 24px;max-height: 40px;margin: 6px -1px -2px 9px;text-align: center;z-index: ",";","."," {height: 20px;}.",",.",",",","," {padding: 2px;}"],it.e,bn.b,vn.a.voteButton,wn.a.customDownvote,wn.a.customUpvote,yn.c,yn.d),Mn=S()(pn.b).withConfig({componentId:"c497l3-3"})(["margin-left: ",";min-height: 18px;"],function(e){return e.collapsed?"32px":"0px"}),Ln=S()(Object(De.a)()).withConfig({componentId:"c497l3-4"})(["border: 1px solid transparent;border-radius: 4px;box-sizing: border-box;opacity: ",";margin-left: 4px;padding-left: 4px;padding-top: 4px;max-width: ","px;width: 100%;","","","",""],function(e){return e.isPendingDeletion?"0.5":"1.0"},fe.f,function(e){return e.isRemoved?"border: 2px solid "+ge.a.removed+";\n      background-color: "+Object(O.e)(ge.a.removed,.05)+";\n      padding-left: 4px;\n      padding-top: 4px;\n      margin-top: -4px;":""},function(e){return e.isActive?"border: 1px solid "+Object(ke.c)(e).postIcon+";":""},function(e){return e.isCollapsed?"margin-left: 8px;\n      padding-left: 0;":""},function(e){return e.highlightComment?"background-color: "+Object(O.j)(.9,Object(ke.c)(e).active):""}),Fn=S()(Object(De.a)()).withConfig({componentId:"c497l3-5"})(["border-radius: 4px;display: flex;margin-left: -23px;padding: 8px 4px 0 0;position: relative;transition: color 0.5s, fill 0.5s, background 1s;",":hover + "," {"," {opacity: 1;}}","&.top-level {margin-top: 16px;}"],Tn,Ln,Mn,function(e){return e.focused?"background: "+Object(O.j)(.95,Object(ke.c)(e).button)+";":"background: transparent;"}),Rn=S()(fn.a).withConfig({componentId:"c497l3-6"})(["padding: 2px 0;width: 100%;"]),Dn=S.a.div.withConfig({componentId:"c497l3-7"})(["padding: 2px 0;width: 100%;"]),An=S()(We).withConfig({componentId:"c497l3-8"})(["position: relative;&:before {border-left: 1px dashed ",';bottom: 0;content: " ";left: -8px;position: absolute;top: 1px;}'],function(e){return Object(ke.c)(e).line}),Hn=S()(An).withConfig({componentId:"c497l3-9"})(["margin-left: 0;&:before {content: none;}"]),Bn=Object(te.t)()(Object(j.connect)(function(){return Object(I.createStructuredSelector)({comment:function(e,t){return Object(Se.n)(e,t)},depth:function(e,t){return Object(Se.j)(e,t)},collapsed:Se.h,flair:Se.e,focused:Se.t,gildModalIsOpen:function(e,t){var n=t.commentId;return Object(_n.c)(e,n)},isEditing:Se.y,isPendingDeletion:Se.z,language:ie.I,moderatorPermissions:function(e,t){var n=Object(Se.n)(e,t);return n?Object(xt.f)(e,{subredditId:n.subredditId}):null},modModeEnabled:te.L,errorMsgs:Se.C,patreonPatronFlair:Se.f,replyFormOpen:Se.F,subredditType:Se.H,highlightComment:function(e,t){var n=t.commentId,o=Object(Se.q)(e);if(o===Pn.a.None)return!1;var i=Object(Se.n)(e,{commentId:n});if(!i)return!1;var r=Object(ie.o)(e),s=!!Object(xt.e)(e,{postId:i.postId}),d=Object(Te.z)(e,{postId:i.postId});if(!d||!d.previousVisits||d.previousVisits.length<2)return!1;var c=o===Pn.a.Last?d.previousVisits[d.previousVisits.length-1]:d.previousVisits[0];return(s||r)&&i.created>c}})},function(e,t){var n=t.commentId,o=t.commentsPageKey,i=t.scrollToAndRemeasure,r=t.trackClick;return{onCollapseClick:function(){return e(Object(Q.Ia)({commentId:n,commentsPageKey:o,scrollToAndRemeasure:i}))},onIgnoreReports:function(){return e(Object(Q.Ka)(n))},onVoteClick:function(t){var o=t===Sn.a.upvoted?[Object(Q.La)(n),"upvote_comment"]:[Object(Q.Q)(n),"downvote_comment"],i=ot()(o,2),s=i[0],d=i[1];r(d)(),e(s)}}})(function(e){var t=e.childrenInfo,n=e.clearHovered,o=e.comment,i=e.commentsPageKey,r=e.collapsed,s=e.depth,d=e.errorMsgs,c=e.flair,a=e.focused,l=e.gildModalIsOpen,u=e.highlightComment,m=e.isActive,h=e.isEditing,g=e.isPendingDeletion,f=e.language,b=e.moderatorPermissions,x=e.modModeEnabled,v=e.onCollapseClick,y=e.onIgnoreReports,O=e.onLineMouseOver,w=e.onVoteClick,C=e.patreonPatronFlair,j=e.replyFormOpen,I=e.trackClick,k=e.renderedInOverlay,S=e.subredditType,T=!h&&!o.isDeleted&&!!d&&d.length>0,N=Object(J.a)(_.a.edit,o.id),E=Object(J.a)(_.a.replyToComment,o.id),M=Object(gt.a)(b),L=o.authorIsContractor&&S===kn.a.EmployeesOnly;return p()(Fn,{className:"Comment "+o.id+" "+(s?"":"top-level"),focused:a},void 0,r&&p()(Tn,{className:o.id,onClick:function(){n(),v(),I("collapse")()},onMouseOver:function(){return O(o.id)},onMouseOut:n}),!r&&!o.isDeleted&&p()(En,{compact:!0,model:o,onVoteClick:w}),p()(Ln,{highlightComment:u,isActive:m,isCollapsed:r,isPendingDeletion:g,isRemoved:!!o.bannedBy},void 0,p()(In.a,{},void 0,Object(P.a)(f,"comment.level",{level:s+1})),p()(Mn,{childrenInfo:t,collapsed:r,comment:o,commentsPageKey:i,flair:c,language:f,patreonPatronFlair:C,renderedInOverlay:k,renderContractorBadge:L}),!r&&p()("div",{},void 0,h&&p()(Hn,{autofocus:!0,commentsPageKey:i,depth:s,draftType:_.a.edit,draftKey:N,rtJson:o.media&&o.media.richtextContent,isTopLevelComment:!1,parentCommentId:o.id,submitAction:function(e,t){return Object(Q.Z)({language:f,id:o.id,commentsPageKey:i,depth:s,draftKey:N,formData:e})},submitButtonText:Object(P.a)(f,"comment.saveEdits")}),!h&&!o.isDeleted&&(o.media&&o.media.richtextContent?p()(Rn,{content:o.media.richtextContent,language:f,renderingObjectInfo:o,renderFallback:function(){return p()(Dn,{"data-test-id":Cn.d},void 0,p()(gn.a,{html:o.body}))}}):p()(Dn,{"data-test-id":Cn.d},void 0,p()(gn.a,{html:o.body}))),x&&M&&Object(jt.c)(o)&&p()(hn.a,{language:f,onIgnoreReports:y,reportable:o}),!h&&!o.isDeleted&&p()(un,{comment:o,commentsPageKey:i,language:f,trackClick:I}),T&&d.map(function(e){return p()(Nn,{language:f},void 0,e)}),j&&p()(An,{autofocus:!0,commentsPageKey:i,depth:s,draftType:_.a.replyToComment,draftKey:E,isTopLevelComment:!1,parentCommentId:o.id,submitAction:function(e,t){return Object(Q.Ea)({commentsPageKey:i,draftKey:E,language:f,parentCommentDepth:s,parentCommentId:o.id,formData:e,editorMode:t})},submitButtonText:Object(P.a)(f,"comment.reply")}))),l&&p()(mn.a,{}))})),zn=function(e){return p()(Oe.a.Consumer,{},void 0,function(t){return C.a.createElement(Bn,N()({},e,{trackClick:t}))})},Wn=S.a.div.withConfig({componentId:"wndnar-0"})(["align-items: center;border: 1px solid transparent;border-radius: 4px;color: ",";display: flex;fill: ",";margin-left: 8px;padding: 4px;",""],function(e){return Object(ke.c)(e).linkText},function(e){return Object(ke.c)(e).linkText},function(e){return e.isActive?"border: 1px solid "+Object(ke.c)(e).postIcon+";":""}),Kn=S()(B.a).withConfig({componentId:"wndnar-1"})(["height: 10px;margin-top: -0.125em; // Taken from https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4\nwidth: 10px;"]),Un=S()(A).withConfig({componentId:"wndnar-2"})(["","align-items: center;display: flex;"],Ve.actionFont),qn=S.a.span.withConfig({componentId:"wndnar-3"})(["&:hover {text-decoration: underline;}"]),Vn=Object(I.createStructuredSelector)({language:ie.I,permalink:function(e,t){return Object(Se.m)(e,{commentId:Object(Se.s)(e,t).parentId})}}),Gn=Object(j.connect)(Vn)(Object(Tt.b)(function(e){var t=e.isActive,n=e.isOverlay,o=e.language,i=e.permalink;return p()(Wn,{isActive:t},void 0,p()(Un,{isOverlay:!!n,to:Object(H.b)(i)},void 0,p()(qn,{},void 0,Object(P.a)(o,"comment.continueThread"))," ",p()(Kn,{})))})),Jn=S.a.div.withConfig({componentId:"s1m7ii1-0"})(["padding: 8px 0px 0px;"]),Yn=S.a.p.withConfig({componentId:"s1m7ii1-1"})(["","border: 1px solid transparent;border-radius: 4px;color: ",";cursor: pointer;height: 24px;margin-left: 4px;padding-left: 4px;"],Ve.actionFont,function(e){return Object(ke.c)(e).linkText}),Zn=S()(Yn).withConfig({componentId:"s1m7ii1-2"})(["&:hover {text-decoration: underline;}",""],function(e){return e.isActive?"border: 1px solid "+Object(ke.c)(e).postIcon+";":""}),Qn=Object(I.createStructuredSelector)({moreCommentsItem:Se.A,moreCommentsPending:Se.B,language:ie.I}),Xn=Object(j.connect)(Qn,function(e,t){return{moreCommentsClicked:function(){return e(Object(Q.U)(t.commentsPageKey,t.moreCommentsId))}}})(function(e){var t=e.language,n=e.isActive,o=e.moreCommentsClicked,i=e.moreCommentsItem,r=e.moreCommentsPending;return p()(Jn,{},void 0,r?p()(Yn,{},void 0,Object(P.a)(t,"comment.loading")):p()(Oe.a.Consumer,{},void 0,function(e){return p()(Zn,{isActive:n,onClick:function(){o(),e("load_more_comment")()}},void 0,Object(P.c)(t,"comment.moreReply",i.numComments,{numComments:i.numComments}))}))}),$n=n("./node_modules/lodash/times.js"),eo=n.n($n),to=S()(function(e){return C.a.createElement("div",e,p()("i",{className:"threadline"}))}).withConfig({componentId:"fxv3b9-0"})(["box-sizing: border-box;cursor: pointer;display: inline-block;height: 100%;margin-left: ","px;vertical-align: top;width: ","px;& > ."," {display: block;height: 100%;width: 50%;border-right: 2px solid ",";}&."," > ."," {border-right: 2px solid ",";}"],fe.C,fe.D,tt.h,function(e){return Object(ke.c)(e).line},tt.f,tt.h,function(e){return Object(ke.c)(e).button}),no=S.a.div.withConfig({componentId:"fxv3b9-1"})(["bottom: 0;left: 0;position: absolute;top: 0;z-index: ",";"],it.g),oo=S.a.div.withConfig({componentId:"fxv3b9-2"})(["box-sizing: border-box;display: inline-block;height: 100%;vertical-align: top;"," {bottom: 0;height: calc(100% - 56px);position: absolute;}"],to),io=function(e){var t=e.collapsed,n=e.depth,o=e.onLineClick,i=e.onLineMouseOver,r=e.onLineMouseOut,s=e.onShortLineClick,d=e.parentNodeIds,c=e.type;return p()(no,{},void 0,eo()(n+1,function(e){return e===n?c!==et.b.Comment||t?null:p()(oo,{},d[e],p()(to,{className:d[e],onClick:s,onMouseOver:function(){return i(d[e])},onMouseOut:function(){return r(d[e])}})):p()(to,{className:d[e],onClick:o(e),onMouseOver:function(){return i(d[e])},onMouseOut:function(){return r(d[e])}},d[e])}))},ro=S()(Object(De.b)()).withConfig({componentId:"s136il31-0"})(["box-sizing: border-box;overflow: visible;padding-left: ","px;position: relative;transition: background 1s;width: 100%;","&:focus{outline: none;}"],function(e){return e.depth*(fe.D+fe.C)+(e.type===et.b.Comment?fe.D:0)},function(e){return e.isHidden?"display: none;":""}),so=function(e){var t=document.querySelectorAll("."+e);if(t&&t.length)for(var n=0;n<t.length;n++)t[n].classList.add(tt.f)},co=function(){var e=document.querySelectorAll("."+tt.f);if(e&&e.length)for(var t=0;t<e.length;t++)e[t].classList.remove(tt.f)},ao=Object(j.connect)(function(){return Object(I.createStructuredSelector)({collapsed:function(e,t){var n=t.commentLink,o=t.commentsPageKey;return!(!e.comments.collapsed[o]||!e.comments.collapsed[o][n.id])},commentListNode:function(e,t){return Object(Se.l)(e,t)},depth:function(e,t){return Object(Se.j)(e,t)},isActive:function(e,t){var n=t.commentLink;return!!e.shortcuts.activeCommentId&&n.id===e.shortcuts.activeCommentId}})},function(e,t){var n=t.commentLink,o=t.commentsPageKey,i=t.scrollToAndRemeasure;return{onLineClick:function(t){return function(){e(Object(Q.J)({commentLink:n,commentsPageKey:o,lineDepth:t,scrollToAndRemeasure:i}))}},onShortLineClick:function(){return e(Object(Q.Ia)({commentId:n.id,commentsPageKey:o,scrollToAndRemeasure:i}))}}})(function(e){var t=e.childrenInfo,n=e.className,o=e.collapsed,i=e.commentLink,r=e.commentsPageKey,s=e.depth,d=e.isActive,c=e.isHidden,a=e.onLineClick,l=e.onShortLineClick,u=e.scrollToAndRemeasure,m=e.renderedInOverlay,h=e.parentNodeIds;return p()(ro,{className:n,depth:s,isHidden:c,id:i.id,isActive:d,type:i.type},void 0,p()(io,{collapsed:o,depth:s,onLineClick:a,onLineMouseOver:so,onLineMouseOut:co,onShortLineClick:l,type:i.type,parentNodeIds:h}),lo({childrenInfo:t,clearHovered:co,commentLink:i,commentsPageKey:r,onLineMouseOver:so,isActive:d,renderedInOverlay:m,scrollToAndRemeasure:u}))}),lo=function(e){var t=e.childrenInfo,n=e.clearHovered,o=e.commentLink,i=e.commentsPageKey,r=e.isActive,s=e.onLineMouseOver,d=e.renderedInOverlay,c=e.scrollToAndRemeasure;switch(o.type){case et.b.Comment:return p()(zn,{childrenInfo:t,clearHovered:n,commentId:o.id,commentsPageKey:i,isActive:r,onLineMouseOver:s,renderedInOverlay:d,scrollToAndRemeasure:c});case et.b.MoreComments:return p()(Xn,{commentsPageKey:i,isActive:r,moreCommentsId:o.id});case et.b.ContinueThread:return p()(Gn,{id:o.id,isActive:r})}},uo=n("./src/reddit/components/Comments/helpers/hiddenComments.ts"),po=n("./src/app/helpers/describeApiError/index.ts"),mo=n("./src/reddit/actions/page.ts"),ho=n("./src/reddit/components/Media/LoadingIcon/index.tsx"),go=n("./src/reddit/icons/fonts/Downvote/index.tsx"),fo=n("./src/reddit/icons/fonts/Upvote/index.tsx"),bo=n("./src/reddit/icons/svgs/SnooFacepalm/index.tsx"),xo=S.a.div.withConfig({componentId:"s1asfct2-0"})(["align-items: center;display: flex;flex-direction: column;justify-content: center;min-height: ","px;"],340),vo="\n  height: 28px;\n  margin-bottom: 20px;\n  width: 28px;\n",yo=S()(function(e){var t=e.className;return p()("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},void 0,p()("path",{d:"M15 4V3a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h1V6a2 2 0 0 1 2-2z"}),p()("path",{d:"M17 5H6a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h3.36l1.76 1.83a.5.5 0 0 0 .75 0L13.64 16H17a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"}))}).withConfig({componentId:"s1asfct2-1"})(["","fill: ",";"],vo,function(e){return Object(O.e)(Object(ke.c)(e).button,.4)}),Oo=S()(bo.a).withConfig({componentId:"s1asfct2-2"})(["",""],vo),wo=Object(k.css)(["","color: ",";opacity: 0.6;"],Ve.titleFontH3,function(e){return Object(ke.c)(e).metaText}),Co=S.a.p.withConfig({componentId:"s1asfct2-3"})(["","margin-bottom: 12px;text-transform: capitalize;"],wo),jo=S.a.p.withConfig({componentId:"s1asfct2-4"})(["","text-align: center;margin: 0 50px 20px;"],wo),Io=S.a.p.withConfig({componentId:"s1asfct2-5"})(["","color: ",";opacity: 0.6;"],Ve.titleFontH5,function(e){return Object(ke.c)(e).metaText}),ko=function(e){var t=e.language;return p()(xo,{},void 0,p()(yo,{}),p()(Co,{},void 0,Object(P.a)(t,"comment.noComments")),p()(Io,{},void 0,Object(P.a)(t,"comment.empty")))},So=function(e){var t=e.language,n=e.link;return p()(xo,{},void 0,p()(yo,{}),p()(Co,{},void 0,Object(P.a)(t,"comment.missingComment")),p()(qe.f,{to:Object(H.b)(n)},void 0,Object(P.a)(t,"comment.viewAllComments")))},_o=Object(j.connect)(null,function(e,t){var n=t.postId,o=t.commentId,i=t.sort;return{onClick:function(){return e(Object(mo.v)(n,o,{sort:i}))}}})(function(e){var t=e.apiError,n=e.language,o=e.onClick;return p()(xo,{},void 0,p()(Oo,{}),p()(jo,{},void 0,t?Object(po.a)({apiError:t,language:n,isLoggedOut:!1}):Object(P.a)(n,"comment.error")),p()(qe.d,{onClick:o},void 0,Object(P.a)(n,"common.retry")))}),Po=Object(k.css)(["background-color: ",";border-radius: 4px;height: 500px;margin: 81px auto 60px;max-width: 95%;position: relative;width: 1200px;"],function(e){return Object(ke.c)(e).body}),To=function(){return p()("div",{},void 0,"500")},No=S()(function(e){var t=e.className;return p()("div",{className:t},void 0,p()(ho.a,{}))}).withConfig({componentId:"s1asfct2-6"})(["",""],Po),Eo=S.a.div.withConfig({componentId:"s1asfct2-7"})(["margin-top: 20px;"]),Mo=S.a.div.withConfig({componentId:"s1asfct2-8"})(["display: flex;margin: 0 20px;& > * {display: flex;flex-direction: column;}"]),Lo=S.a.div.withConfig({componentId:"s1asfct2-9"})(["flex: 0 0 auto;margin-left: -1px;"]),Fo=S.a.div.withConfig({componentId:"s1asfct2-10"})(["flex: 1 1 auto;margin: 5px 6px 0;"]),Ro=Object(k.css)(["font-size: 16px;color: ",";"],function(e){return Object(ke.c)(e).actionIcon}),Do=S()(fo.a).withConfig({componentId:"s1asfct2-11"})(["",""],Ro),Ao=S()(go.a).withConfig({componentId:"s1asfct2-12"})(["","margin-top: -1px;"],Ro),Ho=S()(Object(De.a)()).withConfig({componentId:"s1asfct2-13"})(["","height: 16px;margin-bottom: 8px;width: 176px;background-color: ",";"],Ae.b,function(e){return Object(ke.c)(e).placeholder}),Bo=S()(Object(De.a)()).withConfig({componentId:"s1asfct2-14"})(["","height: 124px;margin-bottom: 12px;width: 100%;background-color: ",";"],Ae.b,function(e){return Object(ke.c)(e).placeholder}),zo=function(e){return p()(Eo,{},void 0,eo()(10,function(t){return p()(Mo,{},t,p()(Lo,{},void 0,p()(Do,{}),p()(Ao,{})),p()(Fo,{},void 0,p()(Ho,{isLoading:e.isLoading}),p()(Bo,{isLoading:e.isLoading})))}))},Wo=n("./src/reddit/components/Scroller/Simple.tsx"),Ko=n("./src/reddit/constants/screenWidths.ts"),Uo=n("./src/reddit/helpers/commentList/index.ts"),qo=fe.i+10,Vo=S()(Wo.b).withConfig({componentId:"s10usnt7-0"})(["padding: 0 15px;@media(min-width: ","px) {padding: 0;}"],Ko.h),Go=Object(I.createStructuredSelector)({allCollapsed:Se.a,commentLinks:Se.k,commentThreadLinkSet:Se.p,language:ie.I,measureScrollFPS:ne.d.measureScrollFPS,moreComments:Se.b,postPermalink:Te.y}),Jo=Object(j.connect)(Go)(function(e){function t(e){i()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getParentNodeIds=function(e){var t=n.props,o=t.commentLinks,i=t.commentThreadLinkSet;if(n.parentNodeIdsMap[e.id])return n.parentNodeIdsMap[e.id];var r=i[e.id].depth;if(0===r)return n.parentNodeIdsMap[e.id]=[e.id],n.parentNodeIdsMap[e.id];var s=o[o.findIndex(function(t){return t.id===e.id})-1],d=n.parentNodeIdsMap[s.id].slice();return n.parentNodeIdsMap[e.id]=d.filter(function(e){return i[e].depth<r}),n.parentNodeIdsMap[e.id].push(e.id),n.parentNodeIdsMap[e.id]},n.getChildrenInfo=function(e){return n.childrenInfoMap[e]||void 0},n.parentNodeIdsMap={},uo.c(),n.childrenInfoMap={},n}return l()(t,e),s()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.commentLinks,n=e.allCollapsed,o=e.commentThreadLinkSet,i=e.moreComments;this.timerId&&z.c.cancel(this.timerId),t.length&&(this.timerId=z.c.start()),this.findHiddenNodes(t,n,o,i)}},{key:"componentDidMount",value:function(){this.timerId&&Object(z.b)(K.o.Redesign,{type:"mount",component:"commentsList",duration:z.c.end(this.timerId)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.allCollapsed,n=e.commentsPageKey,o=e.commentLinks,i=e.commentThreadLinkSet,r=e.moreComments;(n!==this.props.commentsPageKey||o.length>this.props.commentLinks.length||!$e()(t,this.props.allCollapsed))&&this.findHiddenNodes(o,t,i,r)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.commentsPageKey,o=t.commentLinks,i=t.allCollapsed;return e.commentsPageKey!==n||e.commentLinks.length>o.length||!$e()(e.allCollapsed,i)||e.commentLinks.some(function(e,t){return e.id!==o[t].id})}},{key:"componentWillUpdate",value:function(e){this.timerId&&z.c.cancel(this.timerId),e.commentLinks.length&&(this.timerId=z.c.start())}},{key:"componentDidUpdate",value:function(e){this.timerId&&Object(z.b)(K.o.Redesign,{type:"mount",component:"commentsList",duration:z.c.end(this.timerId)})}},{key:"componentWillUnmount",value:function(){this.timerId&&z.c.cancel(this.timerId)}},{key:"findHiddenNodes",value:function(e,t,n,o){if(t&&Object.keys(t).length){var i=null,r=1/0,s=0,d=!1;uo.c();for(var c=0;c<e.length;c++){var a=e[c];i&&(n[a.id].depth>r?(uo.a(a.id),s+=Object(Uo.d)(a,o),a.type===et.b.ContinueThread&&(d=!0)):(this.childrenInfoMap[i]={numChildren:s,hasContinueThread:d},i=null,r=1/0,s=0,d=!1)),!i&&t[a.id]&&(i=a.id,r=n[a.id].depth)}}}},{key:"render",value:function(){return this.props.commentLinks.length?this.renderList():this.renderEmptyState()}},{key:"renderList",value:function(){var e=this,t=void 0;this.props.measureScrollFPS&&(t="comments-"+(this.props.renderedInOverlay?"lightbox":"page"));return p()(Vo,{className:this.props.className,disableScrollCache:this.props.renderedInOverlay,getContainer:function(){return e.props.renderedInOverlay?document.getElementById(be.c):null},preventScrollOnMount:!0,scrollToChildPadding:qo,trackingName:t},this.props.commentsPageKey,this.props.commentLinks.map(function(t,n){return{estHeight:uo.b(t.id)?0:65,id:t.id,render:function(n){var o=n.placeholderRecommended,i=n.height,r=(n.width,n.scrollToAndRemeasure);return o?p()("div",{style:{height:i,backgroundColor:"#fff"}}):p()(ao,{childrenInfo:e.getChildrenInfo(t.id),commentLink:t,commentsPageKey:e.props.commentsPageKey,id:t.id,isHidden:uo.b(t.id),scrollToAndRemeasure:r,renderedInOverlay:!!e.props.renderedInOverlay,parentNodeIds:e.getParentNodeIds(t)})}}}))}},{key:"renderEmptyState",value:function(){return this.props.commentId?p()(So,{language:this.props.language,link:this.props.postPermalink}):p()(ko,{language:this.props.language})}}]),t}(C.a.Component)),Yo=n("./src/higherOrderComponents/asTooltip.tsx"),Zo=n("./src/reddit/controls/Dropdown/index.tsx"),Qo=n("./src/reddit/helpers/getOverlayContainerById/index.ts"),Xo=n("./src/reddit/icons/svgs/Dropdown/index.tsx"),$o=void 0,ei="CommentSort--SortPicker",ti=Object(Yo.a)(Zo.a),ni=S.a.div.withConfig({componentId:"s18rx025-0"})(["","color: ",";cursor: pointer;"],Ve.labelsFont,function(e){return Object(ke.c)(e).linkText}),oi=S()(Et.c).withConfig({componentId:"s18rx025-1"})(["","background-color: inherit;border: none;display: flex;margin-left: 4px;padding: 0 4px;width: auto;"],Ve.smallButtonFont),ii=S()(Xo.b).withConfig({componentId:"s18rx025-2"})(["cursor: pointer;fill: ",";margin: 0px;"],function(e){return Object(ke.c)(e).button}),ri=S.a.div.withConfig({componentId:"s18rx025-3"})(["","display: flex;margin-left: auto; /* Right side alignment through flexbox */"],Ve.metadataFont),si=S()(A).withConfig({componentId:"s18rx025-4"})(["","align-items: center;display: flex;color: ",";fill: ",";"],Ve.actionFont,function(e){return Object(ke.c)(e).button},function(e){return Object(ke.c)(e).button}),di=S.a.span.withConfig({componentId:"s18rx025-5"})(["color: ",";@media (max-width: ","px) {display: none;}"],function(e){return Object(ke.c)(e).bodyText},Ko.e-1),ci=S.a.span.withConfig({componentId:"s18rx025-6"})(["&:hover {text-decoration: underline;}"]),ai=S()(B.a).withConfig({componentId:"s18rx025-7"})(["height: 11px;margin-top: -0.125em; // Taken from https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4\nwidth: 11px;"]),li=Object(I.createStructuredSelector)({commentPermalink:function(e,t){var n=t.commentId;return n&&Object(Se.m)(e,{commentId:n})},dropdownIsOpen:Object(Ne.b)(ei),highlightIsOpen:Object(Ne.b)("CommentSort--highlight-picker"),language:ie.I,postPermalink:Te.y,showCommentHighlighter:function(e,t){var n=t.postId,o=Object(ie.o)(e),i=!!Object(xt.e)(e,{postId:n}),r=Object(Te.z)(e,{postId:n});return(i||o)&&!!r&&!!r.previousVisits&&r.previousVisits.length>1},selectedHighlightSort:Se.q}),ui=function(e){return function(e,t){return function(){return $o.props.sendEvent(function(n){return{source:"comment_highlighting",action:t,noun:e}})}}},pi=Object(j.connect)(li,function(e,t){var n=t.trackClick;return{onOpenDropdown:function(){e(Object(Z.e)({tooltipId:ei})),n("sorting")},onOpenHighlightDropdown:function(t){e(Object(Z.e)({tooltipId:"CommentSort--highlight-picker"})),t()},changeHighlightSort:function(t){return e(Object(Q.I)({sort:t}))}}})(Object(_t.b)(function(e){var t=e.sort||K.t.CONFIDENCE,n=Object(Qo.a)(e.isOverlay),o=" ("+Object(P.a)(e.language,"sorts.suggested")+")",i=e.suggestedSort&&t===e.suggestedSort?K.v[t]+o:K.v[t];return C.a.createElement("div",{className:e.className,ref:e.elementRef},p()(ni,{onClick:e.onOpenDropdown},void 0,Object(P.a)(e.language,"sorts.titleBy")),p()(oi,{onClick:e.onOpenDropdown,displayText:i,id:ei,noHover:!0}),p()(ii,{onClick:e.onOpenDropdown}),p()(ti,{container:n,isOpen:e.dropdownIsOpen,renderContentsHidden:!0,isOverlay:e.isOverlay,tooltipId:ei},void 0,[K.t.CONFIDENCE,K.t.TOP,K.t.NEW,K.t.CONTROVERSIAL,K.t.OLD,K.t.QA].map(function(n){var o=e.commentPermalink?e.commentPermalink:e.postPermalink,i=Object(H.b)(o);return p()(A,{isOverlay:e.isOverlay,onClick:e.trackClick(et.a[n]),tabIndex:-1,to:i+"?sort="+n},n,p()(Et.c,{displayText:K.v[n],isSelected:t===n}))})),e.showCommentHighlighter&&p()(gi,{changeHighlightSort:e.changeHighlightSort,container:n,highlightIsOpen:e.highlightIsOpen,isOverlay:e.isOverlay,language:e.language,onOpen:function(){return e.onOpenHighlightDropdown(ui(e.sendEvent)("dropdown","click"))},selectedSort:e.selectedHighlightSort,trackHighlight:ui(e.sendEvent)}),e.commentId&&fi(e))})),mi=function(e){return e===Pn.a.First?"First Visit":e===Pn.a.Last?"Last Visit":"None"},hi=S.a.div.withConfig({componentId:"s18rx025-8"})(["align-items: center;display: flex;margin-left: 20px;"]),gi=function(e){function t(){i()(this,t);var e=c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.track=function(){var t=e.props,n=t.trackHighlight,o=t.selectedSort;o!==Pn.a.None&&n(o===Pn.a.Last?"since_last_visit":"since_first_visit","view")},e}return l()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.track()}},{key:"componentWillUpdate",value:function(e){e.selectedSort!==this.props.selectedSort&&this.track()}},{key:"render",value:function(){var e=this.props;return p()(hi,{},void 0,p()(ni,{onClick:e.onOpen},void 0,Object(P.a)(e.language,"sorts.commentVisitHighlight")),p()(oi,{onClick:e.onOpen,displayText:mi(e.selectedSort),id:"CommentSort--highlight-picker"}),p()(ii,{onClick:e.onOpen}),p()(ti,{container:e.container,isOpen:e.highlightIsOpen,renderContentsHidden:!0,isOverlay:e.isOverlay,tooltipId:"CommentSort--highlight-picker"},void 0,p()("span",{onClick:function(){e.trackHighlight("since_first_visit","click"),e.changeHighlightSort(Pn.a.First)}},void 0,p()(Et.c,{displayText:mi(Pn.a.First),isSelected:e.selectedSort===Pn.a.First})),p()("span",{onClick:function(){e.trackHighlight("since_last_visit","click"),e.changeHighlightSort(Pn.a.Last)}},void 0,p()(Et.c,{displayText:mi(Pn.a.Last),isSelected:e.selectedSort===Pn.a.Last})),p()("span",{onClick:function(){e.trackHighlight("do_not_highlight","click"),e.changeHighlightSort(Pn.a.None)}},void 0,p()(Et.c,{displayText:mi(Pn.a.None),isSelected:e.selectedSort===Pn.a.None}))))}}]),t}(C.a.Component),fi=function(e){return p()(ri,{},void 0,p()(di,{},void 0,Object(P.a)(e.language,"comment.singleComment.shortMessage")," "),p()(si,{isOverlay:e.isOverlay,to:Object(H.b)(e.postPermalink)},void 0,p()(ci,{},void 0,Object(P.a)(e.language,"comment.viewAllComments"))," ",p()(ai,{})))},bi=S()(pi).withConfig({componentId:"s18rx025-9"})(["align-items: center;background: ",";border-bottom: 1px solid ",";display: flex;justify-content: flex-start;margin: 16px 40px 0;padding: 0 16px 4px 0;"],function(e){return Object(ke.c)(e).body},function(e){return Object(ke.c)(e).line}),xi=n("./src/lib/objectSelector/index.ts"),vi=n("./src/reddit/components/Governance/CommunityCard/index.tsx"),yi=n("./src/reddit/components/IdCard/index.tsx"),Oi=n("./src/reddit/components/ProfileIdCard/index.tsx"),wi=n("./src/reddit/components/SidebarAd/BaseSidebarAdDoNotUseOrYoureFired.tsx"),Ci=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},ji=Object(j.connect)(function(e,t){var n=t.postId;return{canShowAd:Object(oe.a)(e,{postId:n})&&!Object(ie.v)(e)}})(function(e){var t=e.canShowAd,n=(e.postId,Ci(e,["canShowAd","postId"]));return t?C.a.createElement(wi.a,n):null}),Ii=n("./src/reddit/components/SidebarFooter/index.tsx"),ki=n("./src/reddit/components/SidebarSpacer/index.tsx"),Si=n("./src/reddit/components/SidebarStickyBottom/index.tsx"),_i=n("./src/reddit/components/Widgets/Widget/index.tsx"),Pi=n("./src/reddit/featureFlags/component.tsx"),Ti=n("./src/reddit/helpers/createBannerProperties/index.ts"),Ni=n("./src/reddit/selectors/subreddit.ts"),Ei=Object(Pi.a)("governance",vi.a),Mi=S.a.div.withConfig({componentId:"s9rhhw3-0"})(["","margin-top: 16px;"],vi.b),Li=S.a.div.withConfig({componentId:"s9rhhw3-1"})(["display: flex;flex-direction: column;height: 100%;top: 0;width: ","px;"],fe.z),Fi=Object(I.createStructuredSelector)({language:ie.I,widgets:Object(xi.a)(Ni.o)}),Ri=Object(j.connect)(Fi)(function(e){function t(){return i()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l()(t,e),s()(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.subredditName!==e.subredditName||!$e()(this.props.widgets,e.widgets)}},{key:"renderFooter",value:function(e){var t=this.props,n=t.isOverlay,o=t.subredditName,i=t.post;return n?p()(C.a.Fragment,{},void 0,p()(ji,{postId:i.id,isOverlay:n,listingName:o,placement:K.d.BELOW_THE_FOLD,placementIndex:e,position:Ti.a.BOTTOM,refreshKey:i.id,sizes:K.p}),p()(Ii.a,{})):p()(Si.f,{adComponent:p()(ji,{postId:i.id,isOverlay:n,listingName:o,placement:K.d.BELOW_THE_FOLD,placementIndex:e,position:Ti.a.BOTTOM,refreshKey:i.id,sizes:K.p})})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.commentsPageKey,o=e.isOverlay,i=e.post,r=e.subredditId,s=e.subredditName,d=e.widgets,c=0;return p()(Li,{className:t},void 0,"profile"===i.belongsTo.type?p()(Oi.a,{profileName:s,isOverlay:o||!1}):p()(yi.b,{commentsPageKey:n,isCommentsPage:!0,isOverlay:o,listingName:s,postId:i.id,rememberPosition:i.numComments>0}),p()(Mi,{},void 0,p()(Ei,{subredditId:r,uniqueId:i.id})),p()(ji,{postId:i.id,isOverlay:o,listingName:s,placement:K.d.ABOVE_THE_FOLD,placementIndex:c++,position:Ti.a.FIRST,refreshKey:i.id,sizes:K.j}),d.map(function(e,t){return p()(ki.a,{},"widgetSpacer"+t,p()(_i.a,{subredditName:s,widget:e}))}),this.renderFooter(c++))}}]),t}(C.a.Component)),Di=Object(k.css)(["","color: ",";"],Ve.metadataFont,function(e){return Object(ke.c)(e).bodyText}),Ai=S.a.div.withConfig({componentId:"s15t8fxx-0"})(["display: inline-block;margin: 12px 8px 8px 16px;"]),Hi=S()(Object(De.a)()).withConfig({componentId:"s15t8fxx-1"})(["background-color: ",";display: inline-block;width: 8px;position: absolute;top: 0;bottom: 0;"],function(e){return e.color}),Bi=S.a.div.withConfig({componentId:"s15t8fxx-2"})(["",""],Di),zi=S.a.div.withConfig({componentId:"s15t8fxx-3"})(["display: inline-block;margin: 8px 0 8px;"]),Wi=S.a.div.withConfig({componentId:"s15t8fxx-4"})(["","font-weight: bold;"],Di),Ki=S()(Object(De.a)()).withConfig({componentId:"s15t8fxx-5"})(["background-color: ",";border: 1px solid ",";border-radius: 4px;margin: 16px;position: relative;display: flex;"],function(e){return Object(ke.c)(e).body},function(e){return e.color}),Ui=function(e){var t=e.className,n=e.color,o=e.renderIcon,i=e.subtitle,r=e.title;return p()(Ki,{className:t,color:n},void 0,p()(Hi,{color:n}),o&&p()(Ai,{},void 0,o()),p()(zi,{},void 0,p()(Wi,{},void 0,r),i&&p()(Bi,{},void 0,i)))},qi=n("./src/reddit/components/HeaderImage/index.tsx"),Vi=n("./src/reddit/components/PostContent/index.tsx"),Gi=n("./src/reddit/components/PostTopMeta/index.tsx"),Ji=n("./src/reddit/components/SubredditNav/index.tsx"),Yi=n("./src/reddit/helpers/getSubredditErrorProps/index.ts"),Zi=n("./src/reddit/helpers/history/index.ts"),Qi=n("./src/reddit/helpers/trackers/screenview.ts"),Xi=S.a.div.withConfig({componentId:"eat0xg-0"})(["box-sizing: border-box;display: flex;justify-content: center;margin: ","px auto 0;max-width: ","px;overflow-y: hidden;padding-bottom: 32px;position: relative;width: calc(100% - ","px);&:focus {outline: none;}"],fe.i,fe.m,2*fe.k),$i=S()(Object(De.a)()).withConfig({componentId:"eat0xg-1"})(["flex: 1;margin: ","px;margin-right: ","px;max-width: 100%;min-height: 100vh;min-width: 0;padding-bottom: 1px;width: 100%;word-break: break-word;","@media(min-width: ","px) {max-width: 890px;}"],fe.o,fe.n,"",Ko.f),er=S.a.div.withConfig({componentId:"eat0xg-2"})(["display: none;margin: ","px;margin-left: 0;padding: 0;right: 0;top: 0;width: ","px;@media(min-width: ","px) {display: block;}"],fe.o,fe.z,Ko.f),tr=function(e){return p()(Xi,{tabIndex:-1},void 0,p()($i,{redditStyle:!0},void 0,e.contentBanner,e.content),p()(er,{},void 0,e.sidebar))},nr=n("./src/reddit/layout/page/Listing/index.tsx"),or=S.a.span.withConfig({componentId:"s17ncfz-0"})(["&:hover {text-decoration: underline;}"]),ir=S()(B.a).withConfig({componentId:"s17ncfz-1"})(["height: 11px;margin-top: -0.125em;width: 11px;transform: scaleX(-1);"]),rr=S.a.div.withConfig({componentId:"s17ncfz-2"})(["padding: 8px;"]),sr=S()(A).withConfig({componentId:"s17ncfz-3"})(["color: ",";fill: ",";font-size: 11px;font-weight: 500;line-height: 16px;"],function(e){return Object(ke.c)(e).linkText},function(e){return Object(ke.c)(e).linkText}),dr=80,cr=S()(we.a).withConfig({componentId:"s17ncfz-4"})(["color: ",";height: 24px;margin: 0 -4px 0 4px;vertical-align: sub;width: 24px;"],ge.a.locked),ar=S()(function(e){return p()("svg",{className:e.className,id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},void 0,p()("path",{d:"M16,9H15V7A5,5,0,0,0,5,7V9H4a1,1,0,0,0-1,1v7a1,1,0,0,0,1,1H16a1,1,0,0,0,1-1V10A1,1,0,0,0,16,9ZM7,7a3,3,0,0,1,6,0V9H7Z"}))}).withConfig({componentId:"s17ncfz-5"})(["fill: ",";height: 24px;width: 24px;"],ge.a.locked),lr=Object(j.connect)(function(){return Object(I.createStructuredSelector)({apiError:Se.c,apiPending:Se.d,canCommentAsModerator:function(e,t){var n=t.postId,o=Object(Te.K)(e,{postId:n});return!!(o&&o.id&&e.moderatingSubreddits[o.id])},comment:Se.n,contentGateInfo:function(e,t){var n=t.subredditName;return Object(ie.e)(e,n)},currentUserShowNSFW:ie.M,fullyLoaded:Se.u,headComment:Se.x,isLoggedIn:ie.C,isTooltipOpen:function(e,t){return!!Object(Ne.a)(e)},language:ie.I,m2mIsEnabled:Pe.k,origin:_e.c,post:Se.D,subredditOrProfile:Te.K,userHovercardIsOpen:function(e,t){return Object(Ne.b)(Object(Me.b)({itemId:t.postId,tooltipType:Gi.c.StickyPost}))(e)},userPrefs:ie.X,showAccountCompletenessInFeed:Pe.n})},function(e,t){return{setCommentFocus:function(t){return e(Q.K({commentListNodeId:t}))},dispatchUnpause:function(){return e($.N({postId:t.postId}))},onHideTooltip:function(){return e(Object(Z.f)())},onToggleTooltip:function(t){return e(Object(Z.e)({tooltipId:t}))},openLoginModal:function(){return e(Object(X.a)())},openRegisterModal:function(){return e(Object(X.b)())}}}),ur=function(e){function t(e){i()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.didRenderLoading=!1,n.needsUpdatedMeasurements=!0,n.scrollY=null,n.recheckScrollTimer=-1,n.postPaused=!0,n.setPostScrollItemRef=function(e){n.postScrollItemRef=e,setTimeout(n.handleScroll)},n.handleScroll=y()(function(){if(n.scrollContainerEl){n.needsUpdatedMeasurements&&n.updateMeasurements();var e=n.didScrollPastPost,t=n.scrollContainerEl,o=n.scrollPostThreshold,i=n.props,r=i.userHovercardIsOpen,s=i.isOverlay,d=i.isTooltipOpen,c=i.onHideTooltip,a=i.onToggleTooltip,l=i.post,u=i.postId;clearTimeout(n.recheckScrollTimer),n.recheckScrollTimer=-1;var p=t===window?t.scrollY:t?t.scrollTop:0,m=null!==n.scrollY&&Math.abs(p-n.scrollY)>dr,h=l&&l.media&&l.media.type===je.m.EMBED?l.media.provider:null,g=l&&l.media&&je.d.has(l.media.type)&&(!h||!je.p.has(h));n.scrollY=p,!e&&void 0!==o&&p>=o&&(n.didScrollPastPost=!0),e&&void 0!==o&&p<o&&(n.didScrollPastPost=!1,r&&V.a.write(function(){a(Object(Me.b)({itemId:u,tooltipType:Gi.c.StickyPost}))})),g&&n.postScrollItemRef&&(n.postPaused||!m&&!n.didScrollPastPost?n.postPaused&&!n.didScrollPastPost&&(m?n.recheckScrollTimer=setTimeout(n.handleScroll,4*K.H):(n.postPaused=!1,V.a.write(n.postScrollItemRef.focusContent))):(n.postPaused=!0,V.a.write(n.postScrollItemRef.pauseContent))),s&&d&&c()}},K.H),n.sendEventWithName=function(e){return function(){return n.props.sendEvent(Object(ft.b)(n.props.postId,e))}},n.updateWindowHeight=function(){n.needsUpdatedMeasurements=!0,n.handleScroll()},n.updateCommentSortRef=function(e){n.commentSortRef=e,n.needsUpdatedMeasurements=!0},n.updateCommentFormRef=function(e){n.commentFormRef=e,n.needsUpdatedMeasurements=!0},n.didScrollPastPost=e.shouldScrollToComments&&!!e.post&&!!e.post.numComments,n}return l()(t,e),s()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.commentId,n=e.setCommentFocus;t&&n(t)}},{key:"componentDidMount",value:function(){var e=this,t=this.commentFormRef,n=this.commentSortRef,o=this.props,i=o.isLoggedIn,r=o.isOverlay,s=o.post,d=o.shouldScrollToComments;r?(this.scrollContainerEl=document.getElementById(be.c),d&&(t||n)&&s&&s.numComments&&this.scrollToComments(),V.a.write(function(){e.scrollContainerEl&&e.scrollContainerEl.focus()})):this.scrollContainerEl=window,this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview(),V.a.read(function(){e.props.isOverlay||Object(Y.c)(Y.b.CommentsPage,i)})}},{key:"componentWillReceiveProps",value:function(e){e.postId!==this.props.postId&&(this.didRenderLoading=!1),e.commentId&&e.commentId!==this.props.commentId&&this.props.setCommentFocus(e.commentId)}},{key:"componentWillUpdate",value:function(e){this.removeListeners()}},{key:"componentDidUpdate",value:function(e){var t=this;this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview(),e.postId!==this.props.postId&&(this.props.post&&this.props.post.numComments?V.a.read(this.handleScroll):V.a.write(function(){Object(U.c)(t.scrollContainerEl,0),V.a.read(t.handleScroll)}),this.props.isOverlay&&V.a.write(function(){t.scrollContainerEl&&t.scrollContainerEl.focus()}))}},{key:"componentWillUnmount",value:function(){this.removeListeners(),this.needsUpdatedMeasurements=!1,this.scrollContainerEl=void 0}},{key:"updateMeasurements",value:function(){this.needsUpdatedMeasurements=!1,this.windowHeight=window.innerHeight,this.commentFormRef?this.scrollPostThreshold=this.commentFormRef.offsetTop:this.commentSortRef?this.scrollPostThreshold=this.commentSortRef.offsetTop:this.scrollPostThreshold=200}},{key:"addListeners",value:function(){this.props.isOverlay&&window.addEventListener("resize",this.updateWindowHeight),this.scrollContainerEl&&this.scrollContainerEl.addEventListener("scroll",this.handleScroll)}},{key:"removeListeners",value:function(){this.props.isOverlay&&window.removeEventListener("resize",this.updateWindowHeight),this.scrollContainerEl&&this.scrollContainerEl.removeEventListener("scroll",this.handleScroll)}},{key:"scrollToComments",value:function(){var e=this;V.a.read(function(){var t=document.getElementById(be.c);if(t){var n=void 0,o=void 0;e.commentFormRef?(n=e.commentFormRef.offsetTop-80,o=e.commentFormRef.offsetParent):e.commentSortRef?(n=e.commentSortRef.offsetTop-80,o=e.commentSortRef.offsetParent):n=0,o&&(n+=o.offsetTop),V.a.write(function(){Object(U.c)(t,n),e.needsUpdatedMeasurements=!0,setTimeout(function(){return V.a.read(e.handleScroll)})})}})}},{key:"shouldSendScreenview",value:function(){var e=this.props,t=e.apiError,n=e.apiPending,o=e.commentsPageKey;return z.c.has(o)&&(t||!n||this.listLongEnoughForScreenView())}},{key:"listLongEnoughForScreenView",value:function(){return!!this.commentSortRef&&this.commentSortRef.getBoundingClientRect().bottom>window.innerHeight}},{key:"checkAndSendScreenview",value:function(){var e=this;V.a.read(function(){var t=e.props,n=t.commentId,o=t.commentsPageKey,i=t.postId,r=t.sendEvent;if(e.shouldSendScreenview()){var s=z.c.end(o);r(Object(Qi.b)(o,i,n,W.TimerType.InApp,s))}})}},{key:"isCommentPermalink",value:function(){return void 0!==this.props.commentId}},{key:"renderPageError",value:function(){var e=this.props,t=e.contentGateInfo,n=e.currentUserShowNSFW,o=e.post,i=e.subredditName,r=!(!o||!o.isNSFW||n),s=Object(Yi.a)(t,r,i);if(s)return C.a.createElement(pe.b,s)}},{key:"render",value:function(){var e=this.props,t=e.apiPending,n=e.closeLocation,o=e.commentsPageKey,i=e.isOverlay,r=e.m2mIsEnabled,s=e.post,d=e.postId,c=e.subredditOrProfile,a=e.subredditName,l=e.showAccountCompletenessInFeed;if(!s){if(t)return p()(No,{});var u=this.renderPageError();return u||p()(To,{})}var m=this.isCommentPermalink();return p()(fr,{closeLocation:n,commentsPageKey:o,isOverlay:i,post:s,subredditOrProfile:c,showAccountCompletenessInFeed:l},void 0,p()(hr,{redditStyle:!0},"PostContentWrapper",!r&&p()(me.a,{isOverlay:i,location:ye.h.CommentsPage}),p()(Vi.a,{isCommentPermalink:m,isExclusivePost:!0,isOverlay:i,postId:d,redditStyle:i,scrollerItemRef:this.setPostScrollItemRef}),p()(ue,{listingName:a||"",isOverlay:i,placement:K.d.ABOVE_THE_FOLD,postId:d}),this.renderCommentPanes()))}},{key:"renderCommentPanes",value:function(){var e=this.props,t=e.apiError,n=e.apiPending,o=e.canCommentAsModerator,i=e.commentId,r=e.commentsPageKey,s=e.fullyLoaded,d=e.headComment,c=e.isLoggedIn,a=e.isOverlay,l=e.language,u=e.location,m=e.openLoginModal,h=e.openRegisterModal,g=e.origin,f=e.post,b=e.postId,x=e.sort,v=e.subredditName,y=e.userPrefs;if(!f)return null;var O=this.isCommentPermalink(),w=[],C=f.isLocked&&!o,j=!O&&!f.isArchived,I=v?"comment.threadLocked.title":"comment.threadLocked.simpleTitle",k=K.u;if(x?k=x:f.suggestedSort?k=f.suggestedSort:y&&y.defaultCommentSort&&(k=y.defaultCommentSort),C)w.push(p()(Ui,{color:ge.a.locked,renderIcon:function(){return p()(ar,{})},subtitle:Object(P.a)(l,"comment.threadLocked.subtitle"),title:Object(P.a)(l,I,{subredditName:v})},"commentThreadBanner"));else if(f.isArchived)w.push(p()(Ui,{color:ge.a.locked,renderIcon:function(){return p()(cr,{})},subtitle:Object(P.a)(l,"comment.threadArchived.subtitle"),title:Object(P.a)(l,"comment.threadArchived.title")},"commentThreadBanner"));else if(j)if(c){var S=Object(J.a)(_.a.replyToPost,b);w.push(p()(We,{autofocus:!1,isTopLevelComment:!0,depth:0,draftKey:S,draftType:_.a.replyToPost,editorElementRef:this.updateCommentFormRef,parentCommentId:"replyToPost",submitAction:function(e,t){return Q.Ga(l,b,r,S,e,t)},submitButtonText:Object(P.a)(l,"comment.comment")},"form"+S))}else w.push(p()(Qe,{language:l,location:u,openLoginModal:m,openRegisterModal:h,origin:g},"loggedOutCommentForm"));return w.push(p()(bi,{commentId:i,elementRef:this.updateCommentSortRef,isOverlay:a,postId:b,sort:k,suggestedSort:f.suggestedSort,trackClick:this.sendEventWithName},"commentSort")),n?(this.didRenderLoading=!0,w.push(p()(zo,{isLoading:n},"commentsPlaceholder"))):t&&!d?w.push(p()(_o,{language:l,postId:b,commentId:i,sort:k,apiError:t})):(w.push(p()(mr,{redditStyle:!0,renderedInOverlay:a},"commentsWrapper",O&&d&&null!==d.parentId&&p()(rr,{},void 0,p()(sr,{isOverlay:a,to:Object(H.b)(d.permalink+"?context=8&depth=9")},void 0,p()(ir,{})," ",p()(or,{},void 0,Object(P.a)(l,"comment.showParentComments")))),p()(Jo,{postId:b,commentId:i,commentsPageKey:r,renderedInOverlay:a}))),t&&d?w.push(p()(_o,{language:l,postId:b,commentId:i,sort:k,apiError:t},"commentsErrorState")):s||w.push(p()(zo,{isLoading:!0},"commentsPlaceholder"))),p()(Oe.a.Provider,{value:this.sendEventWithName},void 0,w)}}]),t}(C.a.Component),pr=lr(Object(_t.b)(ur)),mr=S.a.div.withConfig({componentId:"s17ncfz-6"})(["/* TODO: remove once issue around transparent comments backgroundis fixed */box-sizing: border-box;padding-right: 16px;margin: 16px;margin-bottom: 0px;margin-left: 10px;padding-bottom: 16px;// set overlay background to 80% opacity\n",""],function(e){return e.renderedInOverlay?"background: "+Object(O.j)(.2,Object(ke.c)(e).body)+";":"background: "+Object(ke.c)(e).body+";"}),hr=S.a.div.withConfig({componentId:"s17ncfz-7"})(["background: ",";border: 1px solid ",";border-radius: 4px;word-break: break-word;"],function(e){return Object(ke.c)(e).body},function(e){return Object(ke.c)(e).line}),gr=S()(Ri).withConfig({componentId:"s17ncfz-8"})(["margin-top: 1px;max-height: initial;position: relative;"]),fr=function(e){var t=e.children,n=e.commentsPageKey,o=e.isOverlay,i=e.post,r=e.subredditOrProfile,s=e.showAccountCompletenessInFeed;return o?p()(tr,{content:t,contentBanner:s&&p()(Ee.a,{}),sidebar:r&&p()(Ri,{commentsPageKey:n,isOverlay:!0,post:i,subredditName:r.name,subredditId:r.id})}):p()(he.a,{subredditId:r?r.id:void 0},void 0,p()(nr.d,{maxWidth:fe.m,content:p()(hr,{redditStyle:!0},void 0,t),contentBanner:s&&p()(Ee.a,{}),disableFullscreen:!0,navBar:r&&C.a.Children.toArray([p()(qi.a,{disableFullscreen:!0,headerText:r.name,maxWidth:fe.m,prefixedHeaderText:r.displayText,subredditOrProfile:r,url:r.url}),"user"!==r.type&&p()(Ji.a,{disableFullscreen:!0,homeUrl:r.url,maxWidth:fe.m,subredditId:r.id})]),sidebar:r&&p()(gr,{commentsPageKey:n,post:i,subredditName:r.name,subredditId:r.id})}))};t.default=function(e){var t=e.location.state,n=x()(t,xe.a.IsOverlay,!1),o=x()(t,xe.a.CloseLocation,null),i=x()(t,xe.a.ScrollOnLoad,!1);i&&Object(Zi.c)(xe.a.ScrollOnLoad);var r=e.match.params,s=r.partialCommentId,d=r.partialPostId,c=r.subredditName,a=Object(Ie.d)(d),l=s&&Object(Ce.b)(s),u=e.location.search,m=f()([].concat(h()(Object(q.a)(u)))),g=ve.m in m?m[ve.m]:"",b=K.Rb.has(g)?g:void 0,v=m.instanceId,y={};b&&(y.sort=b,y.hasSortParam=!0),m.context&&(y.context=parseInt(m.context,10)),m.depth&&(y.depth=parseInt(m.depth,10));var O=Object(G.a)(a,l,y),w=e.location;return p()(pr,{location:w,closeLocation:o,commentId:l,commentsPageKey:O,isOverlay:n,postId:a,instanceId:v,shouldScrollToComments:i,sort:b,subredditName:c})}},"./src/reddit/selectors/brandSafety.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return a});var o=n("./src/lib/isFakeSubreddit/index.ts"),i=n("./src/reddit/models/WhitelistStatus/index.ts"),r=n("./src/reddit/selectors/posts.ts"),s=n("./src/reddit/selectors/subreddit.ts"),d=function(e){return e.brandSafety.hasBrandSafetyBeenAssessed},c=function(e,t){var n=t.postId,o=Object(r.z)(e,{postId:n}),s=Object(r.K)(e,{postId:n});return!(!o||!s)&&(s.wls===i.a.ALL_ADS&&!o.isNSFW)},a=function(e,t){var n=t.listingName,r=t.listingKey,d=Object(s.r)(e,{subredditName:n});return!(!e.brandSafety.isViewSafe||function(e){return/\[sort:'(new|rising|controversial)'\]/.test(e)}(r))&&(!(d||!Object(o.a)(n))||!!d&&d.wls===i.a.ALL_ADS)}}}]);
//# sourceMappingURL=CommentsPage.6daf5a5a4955171c4dc5.js.map